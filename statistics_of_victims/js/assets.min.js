/* Statistics - v.1.0.0 - 06-04-2016 17:30:56 */
function lineStyleFn(a){return"object"==typeof chartJSLineStyle[a]?chartJSLineStyle[a]:chartJSLineStyle.solid}function roundToWithThousands(a,b,c){var d=1*unFormat(a,b);if("number"==typeof d&&"none"!=c){var e;if(0>=c)e=-c,d=+(Math.round(d+"e+"+e)+"e-"+e);else{e=c;var f="1e+"+e;d=+Math.round(d/f)*f}}return d=fmtChartJS(a,d,"none")}function unFormat(a,b){if("."==a.decimalSeparator&&""==a.thousandSeparator||"string"!=typeof b)return b;var c=""+b;if(""!=a.thousandSeparator)for(;c.indexOf(a.thousandSeparator)>=0;)c=""+c.replace(a.thousandSeparator,"");return"."!=a.decimalSeparator&&(c=""+c.replace(a.decimalSeparator,".")),1*c}function fmtChartJSPerso(a,b,c){switch(c){case"SampleJS_Format":"number"==typeof b?return_value="My Format : "+b.toString()+" $":return_value=b+"XX";break;case"Change_Month":"string"==typeof b?return_value=b.toString()+" 2014":return_value=b.toString()+"YY";break;default:return_value=b}return return_value}function fmtChartJS(a,b,c){var d;if("notformatted"==c)d=b;else if("none"==c&&"number"==typeof b){if("none"!=a.roundNumber){var e;if(a.roundNumber<=0)e=-a.roundNumber,b=+(Math.round(b+"e+"+e)+"e-"+e);else{e=a.roundNumber;var f="1e+"+e;b=+Math.round(b/f)*f}}if("."!=a.decimalSeparator||""!=a.thousandSeparator){if(d=b.toString().replace(/\./g,a.decimalSeparator),""!=a.thousandSeparator){var g=d,h="",i=g.indexOf(a.decimalSeparator);i>=0&&(h=g.substring(i+1,g.length),h=h.split("").reverse().join(""),g=g.substring(0,i)),g=g.toString().replace(/\B(?=(\d{3})+(?!\d))/g,a.thousandSeparator),h=h.split("").reverse().join(""),d=g,""!=h&&(d=d+a.decimalSeparator+h)}}else d=b}else d="none"!=c&&"notformatted"!=c?fmtChartJSPerso(a,b,c):b;return d}function addParameters2Function(data,fctName,fctList){var mathFunctions={mean:{data:data.data,datasetNr:data.v11},varianz:{data:data.data,datasetNr:data.v11},stddev:{data:data.data,datasetNr:data.v11},cv:{data:data.data,datasetNr:data.v11},median:{data:data.data,datasetNr:data.v11}};if(dif=!1,"Dif"==fctName.substr(-3)&&(fctName=fctName.substr(0,fctName.length-3),dif=!0),"function"==typeof eval(fctName)){var parameter=eval(fctList+"."+fctName);return dif?data.v3-window[fctName](parameter):window[fctName](parameter)}return null}function isNumber(a){return!isNaN(parseFloat(a))&&isFinite(a)}function tmplbis(a,b,c){return newstr=a,newstr.substr(0,c.templatesOpenTag.length)==c.templatesOpenTag&&(newstr="<%="+newstr.substr(c.templatesOpenTag.length,newstr.length-c.templatesOpenTag.length)),newstr.substr(newstr.length-c.templatesCloseTag.length,c.templatesCloseTag.length)==c.templatesCloseTag&&(newstr=newstr.substr(0,newstr.length-c.templatesCloseTag.length)+"%>"),tmplter(newstr,b)}function tmplter(a,b){for(var c=["mean","varianz","stddev","cv","median"],d=new RegExp("<%=((?:(?:.*?)\\W)??)((?:"+c.join("|")+")(?:Dif)?)\\(([0-9]*?)\\)(.*?)%>","g");d.test(a);)a=a.replace(d,function(a,c,d,e,f){var g;g=e?e:2;var h=addParameters2Function(b,d,"mathFunctions");return isNumber(h)?"<%="+c+Math.round(Math.pow(10,g)*h)/Math.pow(10,g)+f+"%>":"<%= %>"});var e=/^[A-Za-z][-A-Za-z0-9_:.]*$/.test(a)?cachebis[a]=cachebis[a]||tmplter(document.getElementById(a).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\n]/g,"\\n").replace(/[\t]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return b?e(b):e}function createCursorDiv(){if(0==cursorDivCreated){var a=document.createElement("divCursor");a.id="divCursor",a.style.position="absolute",document.body.appendChild(a),cursorDivCreated=!0}}function addResponsiveChart(a,b,c,d){initChartResize();var e=resizeGraph(b,d);"undefined"!=typeof b.prevWidth?(resizeCtx(b,e.newWidth,e.newHeight,d),b.prevWidth=e.newWidth):d.responsiveScaleContent&&d.responsiveWindowInitialWidth&&(b.initialWidth=e.newWidth),b.prevWidth=e.newWidth,b.prevHeight=e.newHeight,jsGraphResize[jsGraphResize.length]=[a,b.tpchart,b,c,d]}function initChartResize(){0==initChartJsResize&&(window.addEventListener?window.addEventListener("resize",chartJsResize):window.attachEvent("resize",chartJsResize))}function getMaximumWidth(a){return null!=a.parentNode&&void 0!=a.parentNode&&(container=a.parentNode),container.clientWidth}function getMaximumHeight(a){return null!=a.parentNode&&void 0!=a.parentNode&&(container=a.parentNode),container.clientHeight}function resizeCtx(a,b,c,d){"undefined"==typeof a.DefaultchartTextScale&&(a.DefaultchartTextScale=d.chartTextScale),"undefined"==typeof a.DefaultchartLineScale&&(a.DefaultchartLineScale=d.chartLineScale),"undefined"==typeof a.DefaultchartSpaceScale&&(a.DefaultchartSpaceScale=d.chartSpaceScale),a.canvas.height=c,a.canvas.width=b,"undefined"!=typeof a.chartTextScale&&d.responsiveScaleContent&&(a.chartTextScale=a.DefaultchartTextScale*(b/a.initialWidth),a.chartLineScale=a.DefaultchartLineScale*(b/a.initialWidth),a.chartSpaceScale=a.DefaultchartSpaceScale*(b/a.initialWidth))}function resizeGraph(a,b){"undefined"==typeof b.maintainAspectRatio&&(b.maintainAspectRatio=!0),"undefined"==typeof b.responsiveMinWidth&&(b.responsiveMinWidth=0),"undefined"==typeof b.responsiveMinHeight&&(b.responsiveMinHeight=0),"undefined"==typeof b.responsiveMaxWidth&&(b.responsiveMaxWidth=9999999),"undefined"==typeof b.responsiveMaxHeight&&(b.responsiveMaxHeight=9999999);var c=a.canvas;"undefined"==typeof a.aspectRatio&&(a.aspectRatio=c.width/c.height);var d=getMaximumWidth(c),e=b.maintainAspectRatio?d/a.aspectRatio:getMaximumHeight(c);return d=Math.min(b.responsiveMaxWidth,Math.max(b.responsiveMinWidth,d)),e=Math.min(b.responsiveMaxHeight,Math.max(b.responsiveMinHeight,e)),{newWidth:parseInt(d),newHeight:parseInt(e)}}function chartJsResize(){for(var a=0;a<jsGraphResize.length;a++)0==jsGraphResize[a][2].firstPass||(9==jsGraphResize[a][2].firstPass?(jsGraphResize[a][2].firstPass=2,redrawGraph(jsGraphResize[a][2],jsGraphResize[a][3],jsGraphResize[a][4])):jsGraphResize[a][2].firstPass<10&&(jsGraphResize[a][2].firstPass+=10))}function testRedraw(a,b,c){return a.firstPass>10?(a.firstPass=2,redrawGraph(a,b,c),!0):!1}function updateChart(a,b,c,d,e){if(9==a.firstPass){if(window.devicePixelRatio&&1!=c.responsive&&(a.canvas.width=a.canvas.width/window.devicePixelRatio,a.canvas.height=a.canvas.height/window.devicePixelRatio),a.runanimationcompletefunction=e,d?a.firstPass=1:a.firstPass=2,c.responsive)for(var f=0;f<jsGraphResize.length;f++)jsGraphResize[f][2].ChartNewId==a.ChartNewId&&(jsGraphResize[f][3]=b,jsGraphResize[f][4]=c);redrawGraph(a,b,c)}}function redrawGraph(ctx,data,config){var myGraph=new Chart(ctx);eval("myGraph."+ctx.tpchart+"(data,config);")}function checkBrowser(){return this.ver=navigator.appVersion,this.dom=document.getElementById?1:0,this.ie5=this.ver.indexOf("MSIE 5")>-1&&this.dom?1:0,this.ie4=document.all&&!this.dom?1:0,this.ns5=this.dom&&parseInt(this.ver)>=5?1:0,this.ns4=document.layers&&!this.dom?1:0,this.bw=this.ie5||this.ie4||this.ns4||this.ns5,this}function cursorInit(){scrolled=bw.ns4||bw.ns5?"window.pageYOffset":"document.body.scrollTop",bw.ns4&&document.captureEvents(Event.MOUSEMOVE)}function makeCursorObj(obj,nest){return createCursorDiv(),nest=nest?"document."+nest+".":"",this.css=bw.dom?document.getElementById(obj).style:bw.ie4?document.all[obj].style:bw.ns4?eval(nest+"document.layers."+obj):0,this.moveIt=b_moveIt,cursorInit(),this}function b_moveIt(a,b){this.x=a,this.y=b,this.css.left=this.x+"px",this.css.top=this.y+"px"}function isIE(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")?parseInt(a.split("msie")[1]):!1}function mergeChartConfig(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c}function sleep(a){var b=new Date;for(b.setTime(b.getTime()+a);(new Date).getTime()<b.getTime(););}function saveCanvas(a,b,c){cvSave=a.getImageData(0,0,a.canvas.width,a.canvas.height);var d={savePng:!1,annotateDisplay:!1,animation:!1,dynamicDisplay:!1},e=mergeChartConfig(c,d);e.clearRect=!1,redrawGraph(a,b,e);var f;if("NewWindow"==c.savePngOutput&&(f=a.canvas.toDataURL(),a.putImageData(cvSave,0,0),window.open(f,"_blank")),"CurrentWindow"==c.savePngOutput&&(f=a.canvas.toDataURL(),a.putImageData(cvSave,0,0),window.location.href=f),"Save"==c.savePngOutput){f=a.canvas.toDataURL();var g=document.createElement("a");g.href=f,g.download=c.savePngName+".png",document.body.appendChild(g),g.click(),document.body.removeChild(g)}}function dynamicFunction(a,b,c){if(isIE()<9&&0!=isIE())return!0;if(b.dynamicDisplay&&0==c.firstPass){if(""==c.canvas.id){var d=new Date,e=d.getTime();c.canvas.id="Canvas_"+e}if("undefined"==typeof dynamicDisplay[c.canvas.id]&&(dynamicDisplayList[dynamicDisplayList.length]=c.canvas.id,dynamicDisplay[c.canvas.id]=[c,a,b],window.onscroll=scrollFunction),!isScrolledIntoView(c.canvas,b))return!1}return!0}function isScrolledIntoView(a,b){var c,d,e=0,f=0;for("undefined"==typeof a.recomputedHeight&&(window.devicePixelRatio?(a.recomputedHeight=a.height/window.devicePixelRatio,a.recomputedWidth=a.width/window.devicePixelRatio):(a.recomputedHeight=a.height,a.recomputedWidth=a.width)),c=a.recomputedWidth,d=a.recomputedHeight,elem=a;elem;)e+=elem.offsetLeft+elem.clientLeft,f+=elem.offsetTop+elem.clientTop,elem=elem.offsetParent;return e+c*b.dynamicDisplayXPartOfChart>=window.pageXOffset&&e+c*b.dynamicDisplayXPartOfChart<=window.pageXOffset+window.innerWidth&&f+d*b.dynamicDisplayYPartOfChart>=window.pageYOffset&&f+d*b.dynamicDisplayYPartOfChart<=window.pageYOffset+window.innerHeight}function scrollFunction(){for(var a=0;a<dynamicDisplayList.length;a++)0==dynamicDisplay[dynamicDisplayList[a]][0].firstPass&&redrawGraph(dynamicDisplay[dynamicDisplayList[a]][0],dynamicDisplay[dynamicDisplayList[a]][1],dynamicDisplay[dynamicDisplayList[a]][2])}function clearAnnotate(a){jsGraphAnnotate[a]=[],jsTextMousePos[a]=[]}function getMousePos(a,b){var c=a.getBoundingClientRect();return{x:b.clientX-c.left,y:b.clientY-c.top}}function doMouseAction(config,ctx,event,data,action,funct){var onData=!1,topY,bottomY,leftX,rightX,textMsr;if("annotate"==action){var annotateDIV=document.getElementById("divCursor"),show=!1;annotateDIV.className=config.annotateClassName?config.annotateClassName:"",annotateDIV.style.border=config.annotateClassName?"":config.annotateBorder,annotateDIV.style.padding=config.annotateClassName?"":config.annotatePadding,annotateDIV.style.borderRadius=config.annotateClassName?"":config.annotateBorderRadius,annotateDIV.style.backgroundColor=config.annotateClassName?"":config.annotateBackgroundColor,annotateDIV.style.color=config.annotateClassName?"":config.annotateFontColor,annotateDIV.style.fontFamily=config.annotateClassName?"":config.annotateFontFamily,annotateDIV.style.fontSize=config.annotateClassName?"":Math.ceil(ctx.chartTextScale*config.annotateFontSize).toString()+"pt",annotateDIV.style.fontStyle=config.annotateClassName?"":config.annotateFontStyle,annotateDIV.style.zIndex=999,ctx.save(),ctx.font=annotateDIV.style.fontStyle+" "+annotateDIV.style.fontSize+" "+annotateDIV.style.fontFamily;var rect=ctx.canvas.getBoundingClientRect()}"annotate"==action&&(show=!1,annotateDIV.style.display=show?"":"none");for(var canvas_pos=getMousePos(ctx.canvas,event),i=0;i<jsGraphAnnotate[ctx.ChartNewId].length&&!show;i++){if("ARC"==jsGraphAnnotate[ctx.ChartNewId][i][0]){if(myStatData=jsGraphAnnotate[ctx.ChartNewId][i][3][jsGraphAnnotate[ctx.ChartNewId][i][1]],distance=Math.sqrt((canvas_pos.x-myStatData.midPosX)*(canvas_pos.x-myStatData.midPosX)+(canvas_pos.y-myStatData.midPosY)*(canvas_pos.y-myStatData.midPosY)),distance>myStatData.int_radius&&distance<myStatData.radiusOffset&&(angle=(Math.acos((canvas_pos.x-myStatData.midPosX)/distance)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),canvas_pos.y<myStatData.midPosY&&(angle=-angle),angle=((angle+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),myStatData.startAngle=((myStatData.startAngle+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),myStatData.endAngle=((myStatData.endAngle+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),myStatData.endAngle<myStatData.startAngle&&(myStatData.endAngle+=2*Math.PI),(angle>myStatData.startAngle&&angle<myStatData.endAngle||angle>myStatData.startAngle-2*Math.PI&&angle<myStatData.endAngle-2*Math.PI||angle>myStatData.startAngle+2*Math.PI&&angle<myStatData.endAngle+2*Math.PI)&&(myStatData.graphPosX=canvas_pos.x,myStatData.graphPosY=canvas_pos.y,onData=!0,"annotate"==action&&jsGraphAnnotate[ctx.ChartNewId][i][4]?(dispString=tmplbis(setOptionValue(1,"ANNOTATELABEL",ctx,data,jsGraphAnnotate[ctx.ChartNewId][i][3],void 0,config.annotateLabel,jsGraphAnnotate[ctx.ChartNewId][i][1],-1,{otherVal:!0}),myStatData,config),textMsr=ctx.measureTextMultiLine(dispString,1*annotateDIV.style.fontSize.replace("pt","")),ctx.restore(),annotateDIV.innerHTML=dispString,show=!0):"function"==typeof funct&&funct(event,ctx,config,data,myStatData),"annotate"==action&&jsGraphAnnotate[ctx.ChartNewId][i][4])))if(x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y+=eval(scrolled)),config.annotateRelocate===!0){var relocateX,relocateY;relocateX=0,relocateY=0,x+fromLeft+textMsr.textWidth>window.innerWidth-rect.left-fromLeft&&(relocateX=-textMsr.textWidth),y+fromTop+textMsr.textHeight>1*window.innerHeight-1*rect.top+fromTop&&(relocateY-=textMsr.textHeight+2*fromTop),oCursor.moveIt(Math.max(8-rect.left,x+fromLeft+relocateX),Math.max(8-rect.top,y+fromTop+relocateY))}else oCursor.moveIt(x+fromLeft,y+fromTop)}else if("RECT"==jsGraphAnnotate[ctx.ChartNewId][i][0]){if(myStatData=jsGraphAnnotate[ctx.ChartNewId][i][3][jsGraphAnnotate[ctx.ChartNewId][i][1]][jsGraphAnnotate[ctx.ChartNewId][i][2]],topY=Math.max(myStatData.yPosBottom,myStatData.yPosTop),bottomY=Math.min(myStatData.yPosBottom,myStatData.yPosTop),topY-bottomY<config.annotateBarMinimumDetectionHeight&&(topY=(topY+bottomY+config.annotateBarMinimumDetectionHeight)/2,bottomY=topY-config.annotateBarMinimumDetectionHeight),leftX=Math.min(myStatData.xPosLeft,myStatData.xPosRight),rightX=Math.max(myStatData.xPosLeft,myStatData.xPosRight),rightX-leftX<config.annotateBarMinimumDetectionHeight&&(rightX=(rightX+leftX+config.annotateBarMinimumDetectionHeight)/2,leftX=rightX-config.annotateBarMinimumDetectionHeight),canvas_pos.x>leftX&&canvas_pos.x<rightX&&canvas_pos.y<topY&&canvas_pos.y>bottomY&&(myStatData.graphPosX=canvas_pos.x,myStatData.graphPosY=canvas_pos.y,onData=!0,"annotate"==action&&jsGraphAnnotate[ctx.ChartNewId][i][4]?(dispString=tmplbis(setOptionValue(1,"ANNOTATELABEL",ctx,data,jsGraphAnnotate[ctx.ChartNewId][i][3],void 0,config.annotateLabel,jsGraphAnnotate[ctx.ChartNewId][i][1],jsGraphAnnotate[ctx.ChartNewId][i][2],{otherVal:!0}),myStatData,config),textMsr=ctx.measureTextMultiLine(dispString,1*annotateDIV.style.fontSize.replace("pt","")),ctx.restore(),annotateDIV.innerHTML=dispString,show=!0):"function"==typeof funct&&funct(event,ctx,config,data,myStatData),"annotate"==action&&jsGraphAnnotate[ctx.ChartNewId][i][4]))if(x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y+=eval(scrolled)),config.annotateRelocate===!0){var relocateX,relocateY;relocateX=0,relocateY=0,x+fromLeft+textMsr.textWidth>window.innerWidth-rect.left-fromLeft&&(relocateX=-textMsr.textWidth),y+fromTop+textMsr.textHeight>1*window.innerHeight-1*rect.top+fromTop&&(relocateY-=textMsr.textHeight+2*fromTop),oCursor.moveIt(Math.max(8-rect.left,x+fromLeft+relocateX),Math.max(8-rect.top,y+fromTop+relocateY))}else oCursor.moveIt(x+fromLeft,y+fromTop)}else if("POINT"==jsGraphAnnotate[ctx.ChartNewId][i][0]){myStatData=jsGraphAnnotate[ctx.ChartNewId][i][3][jsGraphAnnotate[ctx.ChartNewId][i][1]][jsGraphAnnotate[ctx.ChartNewId][i][2]];var distance;if(config.detectAnnotateOnFullLine)if(canvas_pos.x<Math.min(myStatData.annotateStartPosX,myStatData.annotateEndPosX)-Math.ceil(ctx.chartSpaceScale*config.pointHitDetectionRadius)||canvas_pos.x>Math.max(myStatData.annotateStartPosX,myStatData.annotateEndPosX)+Math.ceil(ctx.chartSpaceScale*config.pointHitDetectionRadius)||canvas_pos.y<Math.min(myStatData.annotateStartPosY,myStatData.annotateEndPosY)-Math.ceil(ctx.chartSpaceScale*config.pointHitDetectionRadius)||canvas_pos.y>Math.max(myStatData.annotateStartPosY,myStatData.annotateEndPosY)+Math.ceil(ctx.chartSpaceScale*config.pointHitDetectionRadius))distance=Math.ceil(ctx.chartSpaceScale*config.pointHitDetectionRadius)+1;else if("undefined"==typeof myStatData.D1A)distance=Math.abs(canvas_pos.x-myStatData.posX);else if("undefined"==typeof myStatData.D2A)distance=Math.abs(canvas_pos.y-myStatData.posY);else{var D2B=-myStatData.D2A*canvas_pos.x+canvas_pos.y,g=-(myStatData.D1B-D2B)/(myStatData.D1A-myStatData.D2A),h=myStatData.D2A*g+D2B;distance=Math.sqrt((canvas_pos.x-g)*(canvas_pos.x-g)+(canvas_pos.y-h)*(canvas_pos.y-h))}else distance=Math.sqrt((canvas_pos.x-myStatData.posX)*(canvas_pos.x-myStatData.posX)+(canvas_pos.y-myStatData.posY)*(canvas_pos.y-myStatData.posY));if(distance<Math.ceil(ctx.chartSpaceScale*config.pointHitDetectionRadius)&&(myStatData.graphPosX=canvas_pos.x,myStatData.graphPosY=canvas_pos.y,onData=!0,"annotate"==action&&jsGraphAnnotate[ctx.ChartNewId][i][4]?(dispString=tmplbis(setOptionValue(1,"ANNOTATELABEL",ctx,data,jsGraphAnnotate[ctx.ChartNewId][i][3],void 0,config.annotateLabel,jsGraphAnnotate[ctx.ChartNewId][i][1],jsGraphAnnotate[ctx.ChartNewId][i][2],{otherVal:!0}),myStatData,config),textMsr=ctx.measureTextMultiLine(dispString,1*annotateDIV.style.fontSize.replace("pt","")),ctx.restore(),annotateDIV.innerHTML=dispString,show=!0):"function"==typeof funct&&funct(event,ctx,config,data,myStatData),"annotate"==action&&jsGraphAnnotate[ctx.ChartNewId][i][4]))if(x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y+=eval(scrolled)),config.annotateRelocate===!0){var relocateX,relocateY;relocateX=0,relocateY=0,x+fromLeft+textMsr.textWidth>window.innerWidth-rect.left-fromLeft&&(relocateX=-textMsr.textWidth),y+fromTop+textMsr.textHeight>1*window.innerHeight-1*rect.top+fromTop&&(relocateY-=textMsr.textHeight+2*fromTop),oCursor.moveIt(Math.max(8-rect.left,x+fromLeft+relocateX),Math.max(8-rect.top,y+fromTop+relocateY))}else oCursor.moveIt(x+fromLeft,y+fromTop)}"annotate"==action&&jsGraphAnnotate[ctx.ChartNewId][i][4]&&(annotateDIV.style.display=show?"":"none",show&&annotatePrevShow!=i&&(annotatePrevShow>=0&&"function"==typeof config.annotateFunctionOut&&("ARC"==jsGraphAnnotate[ctx.ChartNewId][annotatePrevShow][0]?config.annotateFunctionOut("OUTANNOTATE",ctx,data,jsGraphAnnotate[ctx.ChartNewId][annotatePrevShow][3],jsGraphAnnotate[ctx.ChartNewId][annotatePrevShow][1],-1,null):config.annotateFunctionOut("OUTANNOTATE",ctx,data,jsGraphAnnotate[ctx.ChartNewId][annotatePrevShow][3],jsGraphAnnotate[ctx.ChartNewId][annotatePrevShow][1],jsGraphAnnotate[ctx.ChartNewId][annotatePrevShow][2],null)),annotatePrevShow=i,"function"==typeof config.annotateFunctionIn&&("ARC"==jsGraphAnnotate[ctx.ChartNewId][i][0]?config.annotateFunctionIn("INANNOTATE",ctx,data,jsGraphAnnotate[ctx.ChartNewId][i][3],jsGraphAnnotate[ctx.ChartNewId][i][1],-1,null):config.annotateFunctionIn("INANNOTATE",ctx,data,jsGraphAnnotate[ctx.ChartNewId][i][3],jsGraphAnnotate[ctx.ChartNewId][i][1],jsGraphAnnotate[ctx.ChartNewId][i][2],null))))}0==show&&"annotate"==action&&annotatePrevShow>=0&&("function"==typeof config.annotateFunctionOut&&("ARC"==jsGraphAnnotate[ctx.ChartNewId][annotatePrevShow][0]?config.annotateFunctionOut("OUTANNOTATE",ctx,data,jsGraphAnnotate[ctx.ChartNewId][annotatePrevShow][3],jsGraphAnnotate[ctx.ChartNewId][annotatePrevShow][1],-1,null):config.annotateFunctionOut("OUTANNOTATE",ctx,data,jsGraphAnnotate[ctx.ChartNewId][annotatePrevShow][3],jsGraphAnnotate[ctx.ChartNewId][annotatePrevShow][1],jsGraphAnnotate[ctx.ChartNewId][annotatePrevShow][2],null)),annotatePrevShow=-1);var inRect;if("annotate"!=action){if(config.detectMouseOnText)for(var i=0;i<jsTextMousePos[ctx.ChartNewId].length;i++){if(inRect=!0,Math.abs(jsTextMousePos[ctx.ChartNewId][i][3].p1-jsTextMousePos[ctx.ChartNewId][i][3].p2)<config.zeroValue)canvas_pos.x<Math.min(jsTextMousePos[ctx.ChartNewId][i][2].p1,jsTextMousePos[ctx.ChartNewId][i][2].p2)&&(inRect=!1),canvas_pos.x>Math.max(jsTextMousePos[ctx.ChartNewId][i][2].p1,jsTextMousePos[ctx.ChartNewId][i][2].p2)&&(inRect=!1),canvas_pos.y<Math.min(jsTextMousePos[ctx.ChartNewId][i][3].p1,jsTextMousePos[ctx.ChartNewId][i][3].p3)&&(inRect=!1),canvas_pos.y>Math.max(jsTextMousePos[ctx.ChartNewId][i][3].p1,jsTextMousePos[ctx.ChartNewId][i][3].p3)&&(inRect=!1);else if(Math.abs(jsTextMousePos[ctx.ChartNewId][i][2].p1-jsTextMousePos[ctx.ChartNewId][i][2].p2)<config.zeroValue)canvas_pos.x<Math.min(jsTextMousePos[ctx.ChartNewId][i][2].p1,jsTextMousePos[ctx.ChartNewId][i][2].p3)&&(inRect=!1),canvas_pos.x>Math.max(jsTextMousePos[ctx.ChartNewId][i][2].p1,jsTextMousePos[ctx.ChartNewId][i][2].p3)&&(inRect=!1),canvas_pos.y<Math.min(jsTextMousePos[ctx.ChartNewId][i][3].p1,jsTextMousePos[ctx.ChartNewId][i][3].p2)&&(inRect=!1),canvas_pos.y>Math.max(jsTextMousePos[ctx.ChartNewId][i][3].p1,jsTextMousePos[ctx.ChartNewId][i][3].p2)&&(inRect=!1);else{var P12=Math.tan(jsTextMousePos[ctx.ChartNewId][i][4]),D12=jsTextMousePos[ctx.ChartNewId][i][3].p1-P12*jsTextMousePos[ctx.ChartNewId][i][2].p1,D34=jsTextMousePos[ctx.ChartNewId][i][3].p3-P12*jsTextMousePos[ctx.ChartNewId][i][2].p3,P13=-1/P12,D13=jsTextMousePos[ctx.ChartNewId][i][3].p1-P13*jsTextMousePos[ctx.ChartNewId][i][2].p1,D24=jsTextMousePos[ctx.ChartNewId][i][3].p4-P13*jsTextMousePos[ctx.ChartNewId][i][2].p4,y1=P12*canvas_pos.x+D12,y2=P12*canvas_pos.x+D34,y3=P13*canvas_pos.x+D13,y4=P13*canvas_pos.x+D24;canvas_pos.y<Math.min(y1,y2)&&(inRect=!1),canvas_pos.y>Math.max(y1,y2)&&(inRect=!1),canvas_pos.y<Math.min(y3,y4)&&(inRect=!1),canvas_pos.y>Math.max(y3,y4)&&(inRect=!1)}inRect&&(onData=!0,funct(event,ctx,config,data,{type:"CLICKONTEXT",values:jsTextMousePos[ctx.ChartNewId][i]}))}0==onData&&funct(event,ctx,config,data,null)}}function animationCorrection(a,b,c,d,e,f){var g=a,h=0;if(0>e)if(d<1*c.animationStartWithData-1)g=1;else switch(c.animationByDataset){case"ByArc":g=a;break;case!0:g=a;break;case!1:default:g=a}else{var i=Math.max(1,c.animationStartWithDataset),j=Math.max(1,c.animationStartWithData);if(d<1*c.animationStartWithDataset-1)g=1;else if(e<1*c.animationStartWithData-1)g=1;else{var k=0;if(c.animationLeftToRight)for(var l=0;l<b.datasets.length;l++)k=Math.max(k,b.datasets[l].data.length);switch(c.animationByDataset){case!0:switch(c.animationLeftToRight){case!0:var m=(d-(i-1))*(k-(j-1))+(e-(j-1));k=(k-(j-1))*(b.datasets.length-(i-1)),m/k>a?(g=0,f&&e+1==j&&(g=1)):(m+1)/k>a?(g=(a-m/k)*k,f&&(h=g,g=1)):g=1;break;case!1:default:g=a<(d-(i-1))/(b.datasets.length-(i-1))?.001:a<(d-(i-1)+1)/(b.datasets.length-(i-1))?(b.datasets.length-(i-1))*(a-(d-(i-1))/(b.datasets.length-(i-1))):1}break;case!1:default:switch(c.animationLeftToRight){case!0:var m=e-(j-1);k-=j-1,m/k>a?g=0:(m+1)/k>a?(g=(a-m/k)*k,f&&(h=g,g=1)):g=1;break;case!1:default:g=a}}}}return{mainVal:g,subVal:h,animVal:g+h}}function showLabels(a,b,c,d){var e=setOptionValue(1,"SHOWLABEL",a,b,void 0,void 0,c.showXLabels,d,-1,void 0,{labelValue:fmtChartJS(c,b.labels[d],c.fmtXLabel),unformatedLabelValue:b.labels[d]});return"number"==typeof e&&(e=d>=c.firstLabelToShow-1?(d+c.firstLabelToShow-1)%parseInt(e)==0:!1),e}function showYLabels(a,b,c,d,e){var f=setOptionValue(1,"SHOWYLABEL",a,b,void 0,void 0,c.showYLabels,-1,d,void 0,{labelValue:e});return"number"==typeof f&&(f=d>=c.firstYLabelToShow-1?(d+c.firstYLabelToShow-1)%parseInt(f)==0:!1),f}function drawLegend(a,b,c,d,e){var f;1==c.legendBorders&&(d.save(),d.setLineDash(lineStyleFn(c.legendBordersStyle)),d.beginPath(),d.lineWidth=Math.ceil(d.chartLineScale*c.legendBordersWidth),d.strokeStyle=c.legendBordersColors,d.moveTo(a.xLegendBorderPos,a.yLegendBorderPos),d.lineTo(a.xLegendBorderPos,a.yLegendBorderPos+a.legendBorderHeight),d.lineTo(a.xLegendBorderPos+a.legendBorderWidth,a.yLegendBorderPos+a.legendBorderHeight),d.lineTo(a.xLegendBorderPos+a.legendBorderWidth,a.yLegendBorderPos),d.lineTo(a.xLegendBorderPos,a.yLegendBorderPos),d.stroke(),d.closePath(),d.setLineDash([]),d.fillStyle="rgba(0,0,0,0)",d.fillStyle=c.legendFillColor,d.fill(),d.restore()),nbcols=a.nbLegendCols-1,ypos=a.yFirstLegendTextPos-(Math.ceil(d.chartTextScale*c.legendFontSize)+Math.ceil(d.chartSpaceScale*c.legendSpaceBetweenTextVertical)),xpos=0,a.drawLegendOnData?fromi=b.datasets.length:fromi=b.length;for(var g=fromi-1;g>=0;g--)if(orderi=g,a.reverseLegend&&(a.drawLegendOnData?orderi=b.datasets.length-g-1:orderi=b.length-g-1),a.drawLegendOnData?tpof=typeof b.datasets[orderi].title:tpof=typeof b[orderi].title,"string"==tpof&&(f=a.drawLegendOnData?fmtChartJS(c,b.datasets[orderi].title,c.fmtLegend).trim():fmtChartJS(c,b[orderi].title,c.fmtLegend).trim(),""!=f)){nbcols++,nbcols==a.nbLegendCols?(nbcols=0,xpos=a.xFirstLegendTextPos,ypos+=Math.ceil(d.chartTextScale*c.legendFontSize)+Math.ceil(d.chartSpaceScale*c.legendSpaceBetweenTextVertical)):xpos+=a.widestLegend+Math.ceil(d.chartSpaceScale*c.legendSpaceBetweenTextHorizontal),d.save(),d.beginPath();var h=a.legendBox;if("Bar"!=d.tpchart&&"StackedBar"!=d.tpchart||"Line"!=b.datasets[orderi].type||c.datasetFill&&1!=setOptionValue(1,"LINKTYPE",d,b,statData,b.datasets[orderi].linkType,c.linkType,orderi,-1,{nullvalue:null})||(h=!1),h)a.drawLegendOnData?d.lineWidth=Math.ceil(d.chartLineScale*setOptionValue(1,"LINEWIDTH",d,b,void 0,b.datasets[orderi].datasetStrokeWidth,c.datasetStrokeWidth,orderi,-1,{nullvalue:null})):d.lineWidth=Math.ceil(d.chartLineScale*c.datasetStrokeWidth),d.beginPath(),a.drawLegendOnData?(d.strokeStyle=setOptionValue(1,"LEGENDSTROKECOLOR",d,b,void 0,b.datasets[orderi].strokeColor,c.defaultFillColor,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(d.chartTextScale*c.legendBlockSize),yPosTop:ypos-Math.ceil(d.chartTextScale*c.legendFontSize)}),d.setLineDash(lineStyleFn(setOptionValue(1,"LEGENDLINEDASH",d,b,void 0,b.datasets[orderi].datasetStrokeStyle,c.datasetStrokeStyle,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(d.chartTextScale*c.legendBlockSize),yPosTop:ypos-Math.ceil(d.chartTextScale*c.legendFontSize)})))):(d.strokeStyle=setOptionValue(1,"LEGENDSTROKECOLOR",d,b,void 0,b[orderi].strokeColor,c.defaultFillColor,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(d.chartTextScale*c.legendBlockSize),yPosTop:ypos-Math.ceil(d.chartTextScale*c.legendFontSize)}),d.setLineDash(lineStyleFn(setOptionValue(1,"LEGENDSEGMENTTROKESTYLE",d,b,void 0,b[orderi].segmentStrokeStyle,c.segmentStrokeStyle,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(d.chartTextScale*c.legendBlockSize),yPosTop:ypos-Math.ceil(d.chartTextScale*c.legendFontSize)})))),d.moveTo(xpos,ypos),d.lineTo(xpos+Math.ceil(d.chartTextScale*c.legendBlockSize),ypos),d.lineTo(xpos+Math.ceil(d.chartTextScale*c.legendBlockSize),ypos-Math.ceil(d.chartTextScale*c.legendFontSize)),d.lineTo(xpos,ypos-Math.ceil(d.chartTextScale*c.legendFontSize)),d.lineTo(xpos,ypos),d.stroke(),d.closePath(),a.drawLegendOnData?d.fillStyle=setOptionValue(1,"LEGENDFILLCOLOR",d,b,void 0,b.datasets[orderi].fillColor,c.defaultFillColor,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(d.chartTextScale*c.legendBlockSize),yPosTop:ypos-Math.ceil(d.chartTextScale*c.legendFontSize)}):d.fillStyle=setOptionValue(1,"LEGENDFILLCOLOR",d,b,void 0,b[orderi].color,c.defaultFillColor,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(d.chartTextScale*c.legendBlockSize),yPosTop:ypos-Math.ceil(d.chartTextScale*c.legendFontSize)}),d.fill();else{if(d.lineWidth=c.legendColorIndicatorStrokeWidth?c.legendColorIndicatorStrokeWidth:Math.ceil(d.chartLineScale*setOptionValue(1,"LINEWIDTH",d,b,void 0,b.datasets[orderi].datasetStrokeWidth,c.datasetStrokeWidth,orderi,-1,{nullvalue:null})),c.legendColorIndicatorStrokeWidth&&c.legendColorIndicatorStrokeWidth>Math.ceil(d.chartTextScale*c.legendFontSize)&&(d.lineWidth=Math.ceil(d.chartTextScale*c.legendFontSize)),a.drawLegendOnData?(d.strokeStyle=setOptionValue(1,"LEGENDSTROKECOLOR",d,b,void 0,b.datasets[orderi].strokeColor,c.defaultFillColor,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(d.chartTextScale*c.legendBlockSize),yPosTop:ypos-Math.ceil(d.chartTextScale*c.legendFontSize)}),d.setLineDash(lineStyleFn(setOptionValue(1,"LEGENDLINEDASH",d,b,void 0,b.datasets[orderi].datasetStrokeStyle,c.datasetStrokeStyle,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(d.chartTextScale*c.legendBlockSize),yPosTop:ypos-Math.ceil(d.chartTextScale*c.legendFontSize)})))):(d.strokeStyle=setOptionValue(1,"LEGENDSTROKECOLOR",d,b,void 0,b[orderi].strokeColor,c.defaultFillColor,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(d.chartTextScale*c.legendBlockSize),yPosTop:ypos-Math.ceil(d.chartTextScale*c.legendFontSize)}),d.setLineDash(lineStyleFn(setOptionValue(1,"LEGENDSEGMENTTROKESTYLE",d,b,void 0,b[orderi].segmentStrokeStyle,c.segmentStrokeStyle,orderi,-1,{animationValue:1,xPosLeft:xpos,yPosBottom:ypos,xPosRight:xpos+Math.ceil(d.chartTextScale*c.legendBlockSize),yPosTop:ypos-Math.ceil(d.chartTextScale*c.legendFontSize)})))),d.moveTo(xpos+2,ypos-Math.ceil(d.chartTextScale*c.legendFontSize)/2),d.lineTo(xpos+2+Math.ceil(d.chartTextScale*c.legendBlockSize),ypos-Math.ceil(d.chartTextScale*c.legendFontSize)/2),d.stroke(),d.fill(),c.pointDot){d.beginPath(),d.fillStyle=setOptionValue(1,"LEGENDMARKERFILLCOLOR",d,b,void 0,b.datasets[orderi].pointColor,c.defaultStrokeColor,orderi,-1,{nullvalue:!0}),d.strokeStyle=setOptionValue(1,"LEGENDMARKERSTROKESTYLE",d,b,void 0,b.datasets[orderi].pointStrokeColor,c.defaultStrokeColor,orderi,-1,{nullvalue:!0}),d.lineWidth=setOptionValue(d.chartLineScale,"LEGENDMARKERLINEWIDTH",d,b,void 0,b.datasets[orderi].pointDotStrokeWidth,c.pointDotStrokeWidth,orderi,-1,{nullvalue:!0});var i=setOptionValue(1,"LEGENDMARKERSHAPE",d,b,void 0,b.datasets[orderi].markerShape,c.markerShape,orderi,-1,{nullvalue:!0}),j=setOptionValue(d.chartSpaceScale,"LEGENDMARKERRADIUS",d,b,void 0,b.datasets[orderi].pointDotRadius,c.pointDotRadius,orderi,-1,{nullvalue:!0}),k=setOptionValue(1,"LEGENDMARKERSTROKESTYLE",d,b,void 0,b.datasets[orderi].pointDotStrokeStyle,c.pointDotStrokeStyle,orderi,-1,{nullvalue:!0});drawMarker(d,xpos+2+Math.ceil(d.chartTextScale*c.legendBlockSize)/2,ypos-Math.ceil(d.chartTextScale*c.legendFontSize)/2,i,j,k)}d.fill()}d.restore(),d.save(),d.beginPath(),d.font=c.legendFontStyle+" "+Math.ceil(d.chartTextScale*c.legendFontSize).toString()+"px "+c.legendFontFamily,d.fillStyle=setOptionValue(1,"LEGENDFONTCOLOR",d,b,void 0,void 0,c.legendFontColor,orderi,-1,{nullvalue:!0}),d.textAlign="left",d.textBaseline="bottom",d.translate(xpos+Math.ceil(d.chartTextScale*c.legendBlockSize)+Math.ceil(d.chartSpaceScale*c.legendSpaceBetweenBoxAndText),ypos),d.fillTextMultiLine(f,0,0,d.textBaseline,Math.ceil(d.chartTextScale*c.legendFontSize),!0,c.detectMouseOnText,d,"LEGEND_TEXTMOUSE",0,xpos+Math.ceil(d.chartTextScale*c.legendBlockSize)+Math.ceil(d.chartSpaceScale*c.legendSpaceBetweenBoxAndText),ypos,orderi,-1),d.restore()}}function drawMarker(a,b,c,d,e,f){switch(a.setLineDash(lineStyleFn(f)),d){case"square":a.rect(b-e,c-e,2*e,2*e),a.stroke(),a.fill(),a.setLineDash([]);break;case"triangle":pointA_x=0,pointA_y=2/3*e,a.moveTo(b,c-pointA_y),a.lineTo(b+pointA_y*Math.sin(4/3),c+pointA_y*Math.cos(4/3)),a.lineTo(b-pointA_y*Math.sin(4/3),c+pointA_y*Math.cos(4/3)),a.lineTo(b,c-pointA_y),a.stroke(),a.fill(),a.setLineDash([]);break;case"diamond":a.moveTo(b,c+e),a.lineTo(b+e,c),a.lineTo(b,c-e),a.lineTo(b-e,c),a.lineTo(b,c+e),a.stroke(),a.fill(),a.setLineDash([]);break;case"plus":a.moveTo(b,c-e),a.lineTo(b,c+e),a.moveTo(b-e,c),a.lineTo(b+e,c),a.stroke(),a.setLineDash([]);break;case"cross":a.moveTo(b-e,c-e),a.lineTo(b+e,c+e),a.moveTo(b-e,c+e),
a.lineTo(b+e,c-e),a.stroke(),a.setLineDash([]);break;case"circle":default:a.arc(b,c,e,0,2*Math.PI*1,!0),a.stroke(),a.fill(),a.setLineDash([])}}function initPassVariableData_part1(a,b,c){var d,e,f,g,h,i,j,l,m,n,o,p,q,r,s,t,u;switch(c.tpdata){case 1:f=[];var v,w,x,y=((b.totalAmplitude*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI);y<=b.zeroValue&&(y=2*Math.PI),w=((-b.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),x=((b.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),startAngle=w,j=0,notemptyval=0;var z=-1,A=-1,B=-1;for(g=-Number.MAX_VALUE,h=Number.MAX_VALUE,d=0;d<a.length;d++)"PolarArea"!=c.tpchart&&1*a[d].value<0||"undefined"!=typeof a[d].value&&(-1==z&&(z=d),g=Math.max(g,1*a[d].value),h=Math.min(h,1*a[d].value),notemptyval++,j+=1*a[d].value,A=d);i=0;var C=-1;for(d=0;d<a.length;d++)n="string"==typeof a[d].title?a[d].title.trim():"","undefined"!=typeof a[d].value&&("PolarArea"==c.tpchart||1*a[d].value>=0)?(v="PolarArea"==c.tpchart?notemptyval>0?y/notemptyval:0:1*a[d].value/j*y,v>=2*Math.PI&&(v=2*Math.PI-.001),i+=1*a[d].value,f[d]={config:b,v1:fmtChartJS(b,n,b.fmtV1),v2:fmtChartJS(b,1*a[d].value,b.fmtV2),v3:fmtChartJS(b,i,b.fmtV3),v4:fmtChartJS(b,j,b.fmtV4),v5:fmtChartJS(b,v,b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a[d].value/j,b.fmtV6),b.roundPct),v7:0,v8:0,v9:0,v10:0,v11:fmtChartJS(b,w-v,b.fmtV11),v12:fmtChartJS(b,w,b.fmtV12),v13:fmtChartJS(b,d,b.fmtV13),lgtxt:n,datavalue:1*a[d].value,cumvalue:i,totvalue:j,segmentAngle:v,firstAngle:startAngle,pctvalue:100*a[d].value/j,startAngle:w,realStartAngle:x,endAngle:w+v,maxvalue:g,minvalue:h,i:d,firstNotMissing:z,lastNotMissing:A,prevNotMissing:B,prevMissing:C,nextNotMissing:-1,radiusOffset:0,midPosX:0,midPosY:0,int_radius:0,ext_radius:0,data:a},w+=v,x-=v,-1!=B&&(f[B].nextNotMissing=d),B=d):(f[d]={v1:n,maxvalue:g,minvalue:h,i:d,firstNotMissing:z,lastNotMissing:A,prevNotMissing:B},C=d);break;case 0:default:var D;for(f=[],g=[],g[0]=[],g[1]=[],h=[],h[0]=[],h[1]=[],i=[],i[0]=[],i[1]=[],j=[],j[0]=[],j[1]=[],l=[],l[0]=[],l[1]=[],m=[],m[0]=[],m[1]=[],p=[],q=[],r=[],s=[],t=[],p[0]=[],p[1]=[],u=0,d=0;d<a.datasets.length;d++){if("undefined"!=typeof a.datasets[d].xPos&&"Line"==tpdraw(c,a.datasets[d]))for(e=a.datasets[d].data.length;e<a.datasets[d].xPos.length;e++)a.datasets[d].data.push(void 0);else for(e=a.datasets[d].data.length;e<a.labels.length;e++)a.datasets[d].data.push(void 0);for(D=2==a.datasets[d].axis?0:1,f[d]=[],l[0][d]=-Number.MAX_VALUE,l[1][d]=-Number.MAX_VALUE,m[0][d]=Number.MAX_VALUE,m[1][d]=Number.MAX_VALUE,q[d]=-1,r[d]=-1,e=0;e<a.datasets[d].data.length;e++)"undefined"==typeof s[e]&&(s[e]=-1,t[e]=-1,j[0][e]=0,g[0][e]=-Number.MAX_VALUE,h[0][e]=Number.MAX_VALUE,j[1][e]=0,g[1][e]=-Number.MAX_VALUE,h[1][e]=Number.MAX_VALUE),"undefined"!=typeof a.datasets[d].data[e]&&(u+=1*a.datasets[d].data[e],-1==q[d]&&(q[d]=e),r[d]=e,-1==s[e]&&(s[e]=d),t[e]=d,j[D][e]+=1*a.datasets[d].data[e],g[D][e]=Math.max(g[D][e],1*a.datasets[d].data[e]),h[D][e]=Math.min(h[D][e],1*a.datasets[d].data[e]),l[D][d]=Math.max(l[D][d],1*a.datasets[d].data[e]),m[D][d]=Math.min(m[D][d],1*a.datasets[d].data[e]))}for(d=0;d<a.datasets.length;d++){D=2==a.datasets[d].axis?0:1,n="string"==typeof a.datasets[d].title?a.datasets[d].title.trim():"";var E=-1,F=-1;for(e=0;e<a.datasets[d].data.length;e++)if("undefined"==typeof i[0][e]&&(i[0][e]=0,p[0][e]=-1,i[1][e]=0,p[1][e]=-1),o="","undefined"!=typeof a.datasets[d].xPos&&"undefined"!=typeof a.datasets[d].xPos[e]&&(o=a.datasets[d].xPos[e]),""==o&&"undefined"!=typeof a.labels[e]&&(o=a.labels[e]),"string"==typeof o&&(o=o.trim()),"undefined"!=typeof a.datasets[d].data[e]){switch(i[D][e]+=1*a.datasets[d].data[e],tpdraw(c,a.datasets[d])){case"Bar":case"StackedBar":case"HorizontalBar":case"HorizontalStackedBar":f[d][e]={config:b,v1:fmtChartJS(b,n,b.fmtV1),v2:fmtChartJS(b,o,b.fmtV2),v3:fmtChartJS(b,1*a.datasets[d].data[e],b.fmtV3),v4:fmtChartJS(b,i[D][e],b.fmtV4),v5:fmtChartJS(b,j[D][e],b.fmtV5),v6:roundToWithThousands(b,fmtChartJS(b,100*a.datasets[d].data[e]/j[D][e],b.fmtV6),b.roundPct),v6T:roundToWithThousands(b,fmtChartJS(b,100*a.datasets[d].data[e]/u,b.fmtV6T),b.roundPct),v11:fmtChartJS(b,d,b.fmtV11),v12:fmtChartJS(b,e,b.fmtV12),lgtxt:n,lgtxt2:o,datavalue:1*a.datasets[d].data[e],cumvalue:i[D][e],totvalue:j[D][e],pctvalue:100*a.datasets[d].data[e]/j[D][e],pctvalueT:100*a.datasets[d].data[e]/u,maxvalue:g[D][e],minvalue:h[D][e],lmaxvalue:l[D][d],lminvalue:m[D][d],grandtotal:u,firstNotMissing:s[e],lastNotMissing:t[e],prevNotMissing:E,prevMissing:F,nextNotMissing:-1,j:e,i:d,data:a},1*a.datasets[d].data[e]!=0||"HorizontalStackedBar"!=tpdraw(c,a.datasets[d])&&"StackedBar"!=tpdraw(c,a.datasets[d])||(f[d][e].v3="");break;case"Line":case"Radar":f[d][e]={config:b,v1:fmtChartJS(b,n,b.fmtV1),v2:fmtChartJS(b,o,b.fmtV2),v3:fmtChartJS(b,1*a.datasets[d].data[e],b.fmtV3),v5:fmtChartJS(b,1*a.datasets[d].data[e],b.fmtV5),v6:fmtChartJS(b,g[D][e],b.fmtV6),v7:fmtChartJS(b,j[D][e],b.fmtV7),v8:roundToWithThousands(b,fmtChartJS(b,100*a.datasets[d].data[e]/j[D][e],b.fmtV8),b.roundPct),v8T:roundToWithThousands(b,fmtChartJS(b,100*a.datasets[d].data[e]/u,b.fmtV8T),b.roundPct),v11:fmtChartJS(b,d,b.fmtV11),v12:fmtChartJS(b,e,b.fmtV12),lgtxt:n,lgtxt2:o,datavalue:1*a.datasets[d].data[e],diffnext:1*a.datasets[d].data[e],pctvalue:100*a.datasets[d].data[e]/j[D][e],pctvalueT:100*a.datasets[d].data[e]/u,totvalue:j[D][e],cumvalue:i[D][e],maxvalue:g[D][e],minvalue:h[D][e],lmaxvalue:l[D][d],lminvalue:m[D][d],grandtotal:u,firstNotMissing:q[d],lastNotMissing:r[d],prevNotMissing:E,prevMissing:F,nextNotMissing:-1,j:e,i:d,data:a},p[D][e]>=0?(f[d][e].v4=fmtChartJS(b,-1!=p[D][e]?1*a.datasets[d].data[e]-f[p[D][e]][e].datavalue:1*a.datasets[d].data[e],b.fmtV4),f[d][e].diffprev=-1!=p[D][e]?1*a.datasets[d].data[e]-f[p[D][e]][e].datavalue:1*a.datasets[d].data[e],f[p[D][e]][e].diffnext=a.datasets[p[D][e]].data[e]-a.datasets[d].data[e],f[p[D][e]][e].v5=f[p[D][e]][e].diffnext):f[d][e].v4=1*a.datasets[d].data[e],p[D][e]=d}if("undefined"!=typeof a.datasets[d].data[e]){if(-1!=E)for(k=E;k<e;k++)f[d][k].nextNotMissing=e;E=e}}else switch(F=e,tpdraw(c,a.datasets[d])){case"Bar":case"StackedBar":case"HorizontalBar":case"HorizontalStackedBar":f[d][e]={v1:n,lmaxvalue:l[D][d],lminvalue:m[D][d],firstNotMissing:s[e],lastNotMissing:t[e],prevNotMissing:E,prevMissing:F,grandtotal:u};break;case"Line":case"Radar":f[d][e]={v1:n,lmaxvalue:l[D][d],lminvalue:m[D][d],firstNotMissing:q[d],lastNotMissing:r[d],prevNotMissing:E,prevMissing:F,grandtotal:u}}}}return f}function initPassVariableData_part2(a,b,c,d,e){function f(a,b,d,e,g,h){if("object"==typeof d.datasets[a].xPos&&"undefined"!=typeof d.datasets[a].xPos[Math.floor(b+c.zeroValue)]){var i=g*h,j="undefined"!=typeof d.xBegin?d.xBegin:1*d.labels[0],k="undefined"!=typeof d.xEnd?d.xEnd:1*d.labels[d.labels.length-1];if(j>=k&&(k=j+100),1*d.datasets[a].xPos[Math.floor(b+c.zeroValue)]>=j&&d.datasets[a].xPos[Math.floor(b+c.zeroValue)]<=k){var l=e+i*((1*d.datasets[a].xPos[Math.floor(b+c.zeroValue)]-j)/(k-j)),m=l;return Math.abs(b-Math.floor(b+c.zeroValue))>c.zeroValue&&(m=f(a,Math.ceil(b-c.zeroValue),d)),l+(b-Math.floor(b+c.zeroValue))*(m-l)}}return e+g*b}function g(a,b,c,d){if(a)return i(j(b)*d-j(c.graphMin)*d,void 0,0);var e=c.steps*c.stepValue,f=b-c.graphMin,g=i(f/e,1,0);return d*c.steps*g}function h(a,b,c){var d=b.steps*b.stepValue,e=a-b.graphMin,f=i(e/d,1,0);return c*b.steps*f}function i(a,b,c){return isNumber(b)&&a>b?b:isNumber(c)&&c>a?c:a}function j(a){return Math.log(a)/Math.LN10}var k,l,m=0;switch(d.tpdata){case 1:for(k=0;k<b.length;k++)a[k].v7=fmtChartJS(c,e.midPosX,c.fmtV7),a[k].v8=fmtChartJS(c,e.midPosY,c.fmtV8),a[k].v9=fmtChartJS(c,e.int_radius,c.fmtV9),a[k].v10=fmtChartJS(c,e.ext_radius,c.fmtV10),"PolarArea"==d.tpchart?(a[k].radiusOffset=g(c.logarithmic,1*b[k].value,e.calculatedScale,e.scaleHop),a[k].v10=fmtChartJS(c,a[k].radiusOffset,c.fmtV10)):(a[k].v10=fmtChartJS(c,e.ext_radius,c.fmtV10),a[k].radiusOffset=e.ext_radius),a[k].outerVal=e.outerVal,a[k].midPosX=e.midPosX,a[k].midPosY=e.midPosY,a[k].calculatedScale=e.calculatedScale,a[k].scaleHop=e.scaleHop,a[k].int_radius=e.int_radius,a[k].ext_radius=e.ext_radius;break;case 0:default:var n=new Array(b.datasets.length),o=new Array(b.datasets.length);for(k=0;k<b.datasets.length;k++)switch(tpdraw(d,b.datasets[k])){case"Line":for(l=0;l<b.datasets[k].data.length;l++)a[k][l].xAxisPosY=e.xAxisPosY,a[k][l].yAxisPosX=e.yAxisPosX,a[k][l].valueHop=e.valueHop,a[k][l].nbValueHop=e.nbValueHop,2==b.datasets[k].axis?(a[k][l].scaleHop=e.scaleHop2,a[k][l].zeroY=e.zeroY2,a[k][l].calculatedScale=e.calculatedScale2,a[k][l].logarithmic=e.logarithmic2):(a[k][l].scaleHop=e.scaleHop,a[k][l].zeroY=e.zeroY,a[k][l].calculatedScale=e.calculatedScale,a[k][l].logarithmic=e.logarithmic),a[k][l].xPos=f(k,l,b,e.yAxisPosX,e.valueHop,e.nbValueHop),a[k][l].yAxisPos=e.xAxisPosY-a[k][l].zeroY,"Bar"!=d.tpchart&&"StackedBar"!=d.tpchart||(a[k][l].xPos+=e.valueHop/2,a[k][l].yAxisPosX+=e.valueHop/2),0==l?(a[k][l].lmaxvalue_offset=g(a[k][l].logarithmic,a[k][l].lmaxvalue,a[k][l].calculatedScale,a[k][l].scaleHop)-a[k][l].zeroY,a[k][l].lminvalue_offset=g(a[k][l].logarithmic,a[k][l].lminvalue,a[k][l].calculatedScale,a[k][l].scaleHop)-a[k][l].zeroY):(a[k][l].lmaxvalue_offset=a[k][0].lmaxvalue_offset,a[k][l].lminvalue_offset=a[k][0].lminvalue_offset),"undefined"!=typeof b.datasets[k].data[l]&&(a[k][l].yPosOffset=g(a[k][l].logarithmic,b.datasets[k].data[l],a[k][l].calculatedScale,a[k][l].scaleHop)-a[k][l].zeroY,a[k][l].posY=a[k][l].yAxisPos-a[k][l].yPosOffset),"object"==typeof b.datasets[k].origin&&"undefined"!=typeof b.datasets[k].origin[l]&&(a[k][l].yPosOffsetOrigin=g(a[k][l].logarithmic,b.datasets[k].origin[l],a[k][l].calculatedScale,a[k][l].scaleHop)-a[k][l].zeroY,a[k][l].posYOrigin=a[k][l].yAxisPos-a[k][l].yPosOffsetOrigin),a[k][l].posX=a[k][l].xPos,a[k][l].v9=a[k][l].xPos,a[k][l].v10=a[k][l].posY,a[k][l].annotateStartPosX=a[k][l].xPos,a[k][l].annotateEndPosX=a[k][l].xPos,a[k][l].annotateStartPosY=e.xAxisPosY,a[k][l].annotateEndPosY=e.xAxisPosY-e.msr.availableHeight,a[k][l].D1A=void 0,a[k][l].D1B=void 0;break;case"Radar":var p=2*Math.PI/b.datasets[0].data.length;for(l=0;l<b.datasets[k].data.length;l++)a[k][l].midPosX=e.midPosX,a[k][l].midPosY=e.midPosY,a[k][l].int_radius=0,a[k][l].ext_radius=e.maxSize,a[k][l].radiusOffset=e.maxSize,a[k][l].calculatedScale=e.calculatedScale,a[k][l].scaleHop=e.scaleHop,a[k][l].calculated_offset=g(c.logarithmic,b.datasets[k].data[l],e.calculatedScale,e.scaleHop),a[k][l].offsetX=Math.cos(c.startAngle*Math.PI/180-l*p)*a[k][l].calculated_offset,a[k][l].offsetY=Math.sin(c.startAngle*Math.PI/180-l*p)*a[k][l].calculated_offset,a[k][l].v9=a[k][l].midPosX+a[k][l].offsetX,a[k][l].v10=a[k][l].midPosY-a[k][l].offsetY,a[k][l].posX=a[k][l].midPosX+a[k][l].offsetX,a[k][l].posY=a[k][l].midPosY-a[k][l].offsetY,0==l?a[k][l].calculated_offset_max=g(c.logarithmic,a[k][l].lmaxvalue,e.calculatedScale,e.scaleHop):a[k][l].calculated_offset_max=a[0][l].calculated_offset_max,a[k][l].annotateStartPosX=e.midPosX,a[k][l].annotateEndPosX=e.midPosX+Math.cos(c.startAngle*Math.PI/180-l*p)*e.maxSize,a[k][l].annotateStartPosY=e.midPosY,a[k][l].annotateEndPosY=e.midPosY-Math.sin(c.startAngle*Math.PI/180-l*p)*e.maxSize,Math.abs(a[k][l].annotateStartPosX-a[k][l].annotateEndPosX)<c.zeroValue?(a[k][l].D1A=void 0,a[k][l].D1B=void 0,a[k][l].D2A=0):(a[k][l].D1A=(a[k][l].annotateStartPosY-a[k][l].annotateEndPosY)/(a[k][l].annotateStartPosX-a[k][l].annotateEndPosX),a[k][l].D1B=-a[k][l].D1A*a[k][l].annotateStartPosX+a[k][l].annotateStartPosY,Math.abs(a[k][l].D1A)>=c.zeroValue?a[k][l].D2A=-(1/a[k][l].D1A):a[k][l].D2A=void 0);break;case"Bar":for(l=0;l<b.datasets[k].data.length;l++)a[k][l].xAxisPosY=e.xAxisPosY,a[k][l].yAxisPosX=e.yAxisPosX,a[k][l].valueHop=e.valueHop,a[k][l].barWidth=e.barWidth,a[k][l].additionalSpaceBetweenBars=e.additionalSpaceBetweenBars,a[k][l].nbValueHop=e.nbValueHop,a[k][l].calculatedScale=e.calculatedScale,a[k][l].scaleHop=e.scaleHop,a[k][l].xPosLeft=e.yAxisPosX+Math.ceil(d.chartSpaceScale*c.barValueSpacing)+e.valueHop*l+e.additionalSpaceBetweenBars+e.barWidth*m+Math.ceil(d.chartSpaceScale*c.barDatasetSpacing)*m+Math.ceil(d.chartLineScale*c.barStrokeWidth)*m,a[k][l].xPosRight=a[k][l].xPosLeft+e.barWidth,a[k][l].yPosBottom=e.xAxisPosY-e.zeroY,a[k][l].barHeight=g(c.logarithmic,1*b.datasets[k].data[l],e.calculatedScale,e.scaleHop)-e.zeroY,2==b.datasets[k].axis?(a[k][l].yPosBottom=e.xAxisPosY-e.zeroY2,a[k][l].barHeight=g(c.logarithmic2,1*b.datasets[k].data[l],e.calculatedScale2,e.scaleHop2)-e.zeroY2):(a[k][l].yPosBottom=e.xAxisPosY-e.zeroY,a[k][l].barHeight=g(c.logarithmic,1*b.datasets[k].data[l],e.calculatedScale,e.scaleHop)-e.zeroY),a[k][l].yPosTop=a[k][l].yPosBottom-a[k][l].barHeight+Math.ceil(d.chartLineScale*c.barStrokeWidth)/2,a[k][l].v7=a[k][l].xPosLeft,a[k][l].v8=a[k][l].yPosBottom,a[k][l].v9=a[k][l].xPosRight,a[k][l].v10=a[k][l].yPosTop;m++;break;case"StackedBar":for(l=0;l<b.datasets[k].data.length;l++)a[k][l].xAxisPosY=e.xAxisPosY,a[k][l].yAxisPosX=e.yAxisPosX,a[k][l].valueHop=e.valueHop,a[k][l].barWidth=e.barWidth,a[k][l].additionalSpaceBetweenBars=e.additionalSpaceBetweenBars,a[k][l].nbValueHop=e.nbValueHop,a[k][l].calculatedScale=e.calculatedScale,a[k][l].scaleHop=e.scaleHop,"undefined"==typeof n[l]&&(n[l]=0,o[l]=0,zeroY=g(c.logarithmic,0,e.calculatedScale,e.scaleHop)),"undefined"!=typeof b.datasets[k].data[l]&&(a[k][l].xPosLeft=e.yAxisPosX+Math.ceil(d.chartSpaceScale*c.barValueSpacing)+e.valueHop*l+e.additionalSpaceBetweenBars,1*b.datasets[k].data[l]<0?(a[k][l].botval=o[l],a[k][l].topval=o[l]+1*b.datasets[k].data[l],o[l]=o[l]+1*b.datasets[k].data[l]):(a[k][l].botval=n[l],a[k][l].topval=n[l]+1*b.datasets[k].data[l],n[l]=n[l]+1*b.datasets[k].data[l]),a[k][l].xPosRight=a[k][l].xPosLeft+e.barWidth,a[k][l].botOffset=g(c.logarithmic,a[k][l].botval,e.calculatedScale,e.scaleHop),a[k][l].topOffset=g(c.logarithmic,a[k][l].topval,e.calculatedScale,e.scaleHop),a[k][l].yPosBottom=e.xAxisPosY-a[k][l].botOffset,a[k][l].yPosTop=e.xAxisPosY-a[k][l].topOffset,Math.ceil(d.chartSpaceScale*c.spaceBetweenBar)>0&&(1*b.datasets[k].data[l]<0?(a[k][l].yPosBottom+=Math.ceil(d.chartSpaceScale*c.spaceBetweenBar),o[l]==1*b.datasets[k].data[l]&&(a[k][l].yPosBottom-=Math.ceil(d.chartSpaceScale*c.spaceBetweenBar)/2),a[k][l].yPosTop<a[k][l].yPosBottom&&(a[k][l].yPosBottom=a[k][l].yPosTop)):1*b.datasets[k].data[l]>0&&(a[k][l].yPosBottom-=Math.ceil(d.chartSpaceScale*c.spaceBetweenBar),n[l]==1*b.datasets[k].data[l]&&(a[k][l].yPosBottom+=Math.ceil(d.chartSpaceScale*c.spaceBetweenBar)/2),a[k][l].yPosTop>a[k][l].yPosBottom&&(a[k][l].yPosBottom=a[k][l].yPosTop))),a[k][l].v7=a[k][l].xPosLeft,a[k][l].v8=a[k][l].yPosBottom,a[k][l].v9=a[k][l].xPosRight,a[k][l].v10=a[k][l].yPosTop);break;case"HorizontalBar":for(l=0;l<b.datasets[k].data.length;l++)a[k][l].xAxisPosY=e.xAxisPosY,a[k][l].yAxisPosX=e.yAxisPosX,a[k][l].valueHop=e.valueHop,a[k][l].barWidth=e.barWidth,a[k][l].additionalSpaceBetweenBars=e.additionalSpaceBetweenBars,a[k][l].nbValueHop=e.nbValueHop,a[k][l].calculatedScale=e.calculatedScale,a[k][l].scaleHop=e.scaleHop,a[k][l].xPosLeft=e.yAxisPosX+e.zeroY,a[k][l].yPosTop=e.xAxisPosY+Math.ceil(d.chartSpaceScale*c.barValueSpacing)-e.scaleHop*(l+1)+e.additionalSpaceBetweenBars+e.barWidth*k+Math.ceil(d.chartSpaceScale*c.barDatasetSpacing)*k+Math.ceil(d.chartLineScale*c.barStrokeWidth)*k,a[k][l].yPosBottom=a[k][l].yPosTop+e.barWidth,a[k][l].barWidth=g(c.logarithmic,1*b.datasets[k].data[l],e.calculatedScale,e.valueHop)-e.zeroY,a[k][l].xPosRight=a[k][l].xPosLeft+a[k][l].barWidth,a[k][l].v7=a[k][l].xPosLeft,a[k][l].v8=a[k][l].yPosBottom,a[k][l].v9=a[k][l].xPosRight,a[k][l].v10=a[k][l].yPosTop;break;case"HorizontalStackedBar":for(l=0;l<b.datasets[k].data.length;l++)a[k][l].xAxisPosY=e.xAxisPosY,a[k][l].yAxisPosX=e.yAxisPosX,a[k][l].valueHop=e.valueHop,a[k][l].barWidth=e.barWidth,a[k][l].additionalSpaceBetweenBars=e.additionalSpaceBetweenBars,a[k][l].nbValueHop=e.nbValueHop,a[k][l].calculatedScale=e.calculatedScale,a[k][l].scaleHop=e.scaleHop,0==k&&(n[l]=0,o[l]=0),"undefined"!=typeof b.datasets[k].data[l]&&(a[k][l].xPosLeft=e.yAxisPosX+Math.ceil(d.chartSpaceScale*c.barValueSpacing)+e.valueHop*l,1*b.datasets[k].data[l]<0?(a[k][l].leftval=o[l],a[k][l].rightval=o[l]+1*b.datasets[k].data[l],o[l]=o[l]+1*b.datasets[k].data[l]):(a[k][l].leftval=n[l],a[k][l].rightval=n[l]+1*b.datasets[k].data[l],n[l]=n[l]+1*b.datasets[k].data[l]),a[k][l].rightOffset=h(a[k][l].rightval,e.calculatedScale,e.valueHop),a[k][l].leftOffset=h(a[k][l].leftval,e.calculatedScale,e.valueHop),a[k][l].xPosRight=e.yAxisPosX+a[k][l].rightOffset,a[k][l].xPosLeft=e.yAxisPosX+a[k][l].leftOffset,a[k][l].yPosTop=e.xAxisPosY+Math.ceil(d.chartSpaceScale*c.barValueSpacing)-e.scaleHop*(l+1)+e.additionalSpaceBetweenBars,a[k][l].yPosBottom=a[k][l].yPosTop+e.barWidth,Math.ceil(d.chartSpaceScale*c.spaceBetweenBar)>0&&(1*b.datasets[k].data[l]<0?(a[k][l].xPosLeft-=Math.ceil(d.chartSpaceScale*c.spaceBetweenBar),o[l]==1*b.datasets[k].data[l]&&(a[k][l].xPosLeft+=Math.ceil(d.chartSpaceScale*c.spaceBetweenBar)/2),a[k][l].xPosLeft<a[k][l].xPosRight&&(a[k][l].xPosLeft=a[k][l].xPosRight)):1*b.datasets[k].data[l]>0&&(a[k][l].xPosLeft+=Math.ceil(d.chartSpaceScale*c.spaceBetweenBar),n[l]==1*b.datasets[k].data[l]&&(a[k][l].xPosLeft-=Math.ceil(d.chartSpaceScale*c.spaceBetweenBar)/2),a[k][l].xPosLeft>a[k][l].xPosRight&&(a[k][l].xPosLeft=a[k][l].xPosRight))),a[k][l].v7=a[k][l].xPosLeft,a[k][l].v8=a[k][l].yPosBottom,a[k][l].v9=a[k][l].xPosRight,a[k][l].v10=a[k][l].yPosTop)}}}function isBooleanOptionTrue(a,b){var c;if("undefined"==typeof optionvar){if("function"==typeof b)return!0;if("object"==typeof b){for(c=0;c<b.length;c++)if(b[c])return!0;return!1}return b}if("function"==typeof optionvar)return!0;if("object"==typeof optionvar){for(c=0;c<optionvar.length;c++)if(optionvar[c])return!0;return!1}return optionvar}function setOptionValue(a,b,c,d,e,f,g,h,i,j){var k;return"undefined"==typeof f?"function"==typeof g?g(b,c,d,e,h,i,j):(k="object"==typeof g?g[Math.min(g.length-1,Math.max(0,h))]:g,1!=a&&(k=Math.ceil(k*a)),k):(k="function"==typeof f?f(b,c,d,e,h,i,j):"object"==typeof f?-1==i?f[Math.min(f.length-1,Math.max(0,h))]:f[Math.min(f.length-1,Math.max(0,i))]:f,1!=a&&(k=Math.ceil(k*a)),k)}function tpdraw(a,b){switch(a.tpchart){case"Bar":case"StackedBar":"Line"==b.type?tp="Line":tp=a.tpchart;break;default:tp=a.tpchart}return tp}function setTextBordersAndBackground(a,b,c,d,e,f,g,h,i,j,k,l,m){var n,o;if("string"!=typeof b){var p=b.toString();n=c*(p.split("\n").length||1),o=a.measureText(p).width}else n=c*(b.split("\n").length||1),o=a.measureText(b).width;var q,r,s;"center"==a.textAlign?(q=-o/2,r=o/2):"left"==a.textAlign?(q=0,r=o):"right"==a.textAlign&&(q=-o,r=0),"top"==a.textBaseline?(s=0,ybottom=n):"center"==a.textBaseline||"middle"==a.textBaseline?(s=-n/2,ybottom=n/2):"bottom"==a.textBaseline&&(s=-n,ybottom=0),a.save(),a.beginPath(),a.translate(d,e),"none"!=l&&(a.save(),a.fillStyle=l,a.fillRect(q-i,ybottom+j,r-q+2*i,s-ybottom-2*j),a.stroke(),a.restore(),a.fillStyle="black"),f&&(a.save(),a.lineWidth=h,a.strokeStyle=g,a.fillStyle=g,a.setLineDash(lineStyleFn(k)),a.rect(q-h/2-i,s-h/2-j,r-q+h+2*i,ybottom-s+h+2*j),a.stroke(),a.setLineDash([]),a.restore()),a.restore()}function calculatePieDrawingSize(a,b,c,d,e){var f=((c.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),g=((c.totalAmplitude*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI);g<=c.zeroValue&&(g=2*Math.PI);var h=(f-g+4*Math.PI)%(2*Math.PI),i=h+g,j=Math.floor((h+c.zeroValue)/(Math.PI/2)%4),k=Math.floor((i-c.zeroValue)/(Math.PI/2)%4),l=[0,0,0,0];if(k>=j)for(var m=j;k>=m;m++)l[m]=1;else{for(var m=j;4>m;m++)l[m]=1;for(var m=0;k>=m;m++)l[m]=1}0==l[0]&&0==l[1]?(midPieY=b.topNotUsableSize+5,doughnutRadius=b.availableHeight-5):0==l[2]&&0==l[3]?(midPieY=b.topNotUsableSize+b.availableHeight,doughnutRadius=b.availableHeight-5):(midPieY=b.topNotUsableSize+b.availableHeight/2,doughnutRadius=b.availableHeight/2-5);var n;if(0==l[0]&&0==l[3]?(midPieX=b.leftNotUsableSize+b.availableWidth-5,doughnutRadius=Math.min(doughnutRadius,b.availableWidth-5),n=b.availableWidth-5):0==l[1]&&0==l[2]?(midPieX=b.leftNotUsableSize+5,doughnutRadius=Math.min(doughnutRadius,b.availableWidth-5),n=b.availableWidth-5):(midPieX=b.leftNotUsableSize+b.availableWidth/2,doughnutRadius=Math.min(doughnutRadius,b.availableWidth/2-5),n=b.availableWidth/2-5),isBooleanOptionTrue(void 0,c.inGraphDataShow)&&3==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",a,d,e,void 0,c.inGraphDataRadiusPosition,0,-1,{nullValue:!0})&&"off-center"==setOptionValue(1,"INGRAPHDATAALIGN",a,d,e,void 0,c.inGraphDataAlign,0,-1,{nullValue:!0})&&0==setOptionValue(1,"INGRAPHDATAROTATE",a,d,e,void 0,c.inGraphDataRotate,0,-1,{nullValue:!0})){doughnutRadius=doughnutRadius-setOptionValue(a.chartTextScale,"INGRAPHDATAFONTSIZE",a,d,e,void 0,c.inGraphDataFontSize,0,-1,{nullValue:!0})-setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",a,d,e,void 0,c.inGraphDataPaddingRadius,0,-1,{nullValue:!0})-5;for(var o,m=0;m<d.length;m++)if("undefined"!=typeof d[m].value&&1*d[m].value>=0){a.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",a,d,e,void 0,c.inGraphDataFontStyle,m,-1,{nullValue:!0})+" "+setOptionValue(a.chartTextScale,"INGRAPHDATAFONTSIZE",a,d,e,void 0,c.inGraphDataFontSize,m,-1,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",a,d,e,void 0,c.inGraphDataFontFamily,m,-1,{nullValue:!0}),1==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",a,d,e,void 0,c.inGraphDataAnglePosition,m,-1,{nullValue:!0})?o=f+setOptionValue(1,"INGRAPHDATAPADDINANGLE",a,d,e,void 0,c.inGraphDataPaddingAngle,m,-1,{nullValue:!0})*(Math.PI/180):2==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",a,d,e,void 0,c.inGraphDataAnglePosition,m,-1,{nullValue:!0})?o=f-e[m].segmentAngle/2+setOptionValue(1,"INGRAPHDATAPADDINANGLE",a,d,e,void 0,c.inGraphDataPaddingAngle,m,-1,{nullValue:!0})*(Math.PI/180):3==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",a,d,e,void 0,c.inGraphDataAnglePosition,m,-1,{nullValue:!0})&&(o=f-e[m].segmentAngle+setOptionValue(1,"INGRAPHDATAPADDINANGLE",a,d,e,void 0,c.inGraphDataPaddingAngle,m,-1,{nullValue:!0})*(Math.PI/180)),f-=e[m].segmentAngle;var p=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",a,d,e,void 0,c.inGraphDataTmpl,m,-1,{nullValue:!0}),e[m],c),q=a.measureText(p).width,r=Math.abs((n-q)/Math.cos(o))-setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",a,d,e,void 0,c.inGraphDataPaddingRadius,m,-1,{nullValue:!0})-5;r<doughnutRadius&&(doughnutRadius=r)}}return doughnutRadius*=c.radiusScale,{radius:doughnutRadius,midPieX:midPieX,midPieY:midPieY}}function Localize(a){var b="ru";!a||["ru","en"].indexOf(a)<0||(b=a),$("html").attr("lang",b);var c=window.Graph.locales[b];return $("*[data-locale_key]").each(function(a,b){var d=$(b),e=d.data("locale_key");d.data("name-country")?d.attr("data-name-country",c[e]):d.html(c[e])}),!0}function GraphBuilder(){var a=_.invert(window.Graph.locales.ru),b=(window.Graph.regions,window.Graph.raw_data.map(function(b){return b.region=a[b.region],b})),c=_.template($("#wounded_link").html()),d=_.template($("#killed_link").html());return $(".b-infograghics_figure-line").each(function(a,e){var f=$(e),g=f.data("region-name"),h=_.filter(b,{region:g}),i=f.find(".b-infograghics_count-wounded"),j=f.find(".b-infograghics_count-kill"),k=_.orderBy(h,"year","desc"),l=_.orderBy(h,"year","desc");k.map(function(a){i.append(c(a))}),l.map(function(a){j.append(d(a))})}),"OK"}!function(a,b){a(function(){"use strict";function a(a,b){return null!=a&&null!=b&&a.toLowerCase()===b.toLowerCase()}function c(a){for(var b in a)g.call(a,b)&&(a[b]=new RegExp(a[b],"i"))}function d(a,b){this.ua=a||"",this._cache={},this.maxPhoneWidth=b||600}var e={};e.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925",Samsung:"Samsung|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",
Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)|^.*Android.*Nexus(?:(?!Mobile).)*$",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-I9205|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237P|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI)\\b",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD",LenovoTablet:"Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris E10)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.*\\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",Hudl:"Hudl HT7S3",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bJolla\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",Tizen:"Tizen",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:"Firefox/[VER]",Fennec:"Fennec/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},e.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var f,g=Object.prototype.hasOwnProperty;return e.FALLBACK_PHONE="UnknownPhone",e.FALLBACK_TABLET="UnknownTablet",e.FALLBACK_MOBILE="UnknownMobile",f="isArray"in Array?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},function(){var a,b,d,h,i,j,k=e.mobileDetectRules;for(a in k.props)if(g.call(k.props,a)){for(b=k.props[a],f(b)||(b=[b]),i=b.length,h=0;i>h;++h)d=b[h],j=d.indexOf("[VER]"),j>=0&&(d=d.substring(0,j)+"([\\w._\\+]+)"+d.substring(j+5)),b[h]=new RegExp(d,"i");k.props[a]=b}c(k.oss),c(k.phones),c(k.tablets),c(k.uas),c(k.utils),k.oss0={WindowsPhoneOS:k.oss.WindowsPhoneOS,WindowsMobileOS:k.oss.WindowsMobileOS}}(),e.findMatch=function(a,b){for(var c in a)if(g.call(a,c)&&a[c].test(b))return c;return null},e.getVersionStr=function(a,b){var c,d,f,h,i=e.mobileDetectRules.props;if(g.call(i,a))for(c=i[a],f=c.length,d=0;f>d;++d)if(h=c[d].exec(b),null!==h)return h[1];return null},e.getVersion=function(a,b){var c=e.getVersionStr(a,b);return c?e.prepareVersionNo(c):NaN},e.prepareVersionNo=function(a){var b;return b=a.split(/[a-z._ \/\-]/i),1===b.length&&(a=b[0]),b.length>1&&(a=b[0]+".",b.shift(),a+=b.join("")),Number(a)},e.isMobileFallback=function(a){return e.detectMobileBrowsers.fullPattern.test(a)||e.detectMobileBrowsers.shortPattern.test(a.substr(0,4))},e.isTabletFallback=function(a){return e.detectMobileBrowsers.tabletPattern.test(a)},e.prepareDetectionCache=function(a,c,f){if(a.mobile===b){var g,h,i;return(h=e.findMatch(e.mobileDetectRules.tablets,c))?(a.mobile=a.tablet=h,void(a.phone=null)):(g=e.findMatch(e.mobileDetectRules.phones,c))?(a.mobile=a.phone=g,void(a.tablet=null)):void(e.isMobileFallback(c)?(i=d.isPhoneSized(f),i===b?(a.mobile=e.FALLBACK_MOBILE,a.tablet=a.phone=null):i?(a.mobile=a.phone=e.FALLBACK_PHONE,a.tablet=null):(a.mobile=a.tablet=e.FALLBACK_TABLET,a.phone=null)):e.isTabletFallback(c)?(a.mobile=a.tablet=e.FALLBACK_TABLET,a.phone=null):a.mobile=a.tablet=a.phone=null)}},e.mobileGrade=function(a){var b=null!==a.mobile();return a.os("iOS")&&a.version("iPad")>=4.3||a.os("iOS")&&a.version("iPhone")>=3.1||a.os("iOS")&&a.version("iPod")>=3.1||a.version("Android")>2.1&&a.is("Webkit")||a.version("Windows Phone OS")>=7||a.is("BlackBerry")&&a.version("BlackBerry")>=6||a.match("Playbook.*Tablet")||a.version("webOS")>=1.4&&a.match("Palm|Pre|Pixi")||a.match("hp.*TouchPad")||a.is("Firefox")&&a.version("Firefox")>=12||a.is("Chrome")&&a.is("AndroidOS")&&a.version("Android")>=4||a.is("Skyfire")&&a.version("Skyfire")>=4.1&&a.is("AndroidOS")&&a.version("Android")>=2.3||a.is("Opera")&&a.version("Opera Mobi")>11&&a.is("AndroidOS")||a.is("MeeGoOS")||a.is("Tizen")||a.is("Dolfin")&&a.version("Bada")>=2||(a.is("UC Browser")||a.is("Dolfin"))&&a.version("Android")>=2.3||a.match("Kindle Fire")||a.is("Kindle")&&a.version("Kindle")>=3||a.is("AndroidOS")&&a.is("NookTablet")||a.version("Chrome")>=11&&!b||a.version("Safari")>=5&&!b||a.version("Firefox")>=4&&!b||a.version("MSIE")>=7&&!b||a.version("Opera")>=10&&!b?"A":a.os("iOS")&&a.version("iPad")<4.3||a.os("iOS")&&a.version("iPhone")<3.1||a.os("iOS")&&a.version("iPod")<3.1||a.is("Blackberry")&&a.version("BlackBerry")>=5&&a.version("BlackBerry")<6||a.version("Opera Mini")>=5&&a.version("Opera Mini")<=6.5&&(a.version("Android")>=2.3||a.is("iOS"))||a.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||a.version("Opera Mobi")>=11&&a.is("SymbianOS")?"B":(a.version("BlackBerry")<5||a.match("MSIEMobile|Windows CE.*Mobile")||a.version("Windows Mobile")<=5.2,"C")},e.detectOS=function(a){return e.findMatch(e.mobileDetectRules.oss0,a)||e.findMatch(e.mobileDetectRules.oss,a)},e.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},d.prototype={constructor:d,mobile:function(){return e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===b&&(this._cache.userAgent=e.findMatch(e.mobileDetectRules.uas,this.ua)),this._cache.userAgent},os:function(){return this._cache.os===b&&(this._cache.os=e.detectOS(this.ua)),this._cache.os},version:function(a){return e.getVersion(a,this.ua)},versionStr:function(a){return e.getVersionStr(a,this.ua)},is:function(b){return a(b,this.userAgent())||a(b,this.os())||a(b,this.phone())||a(b,this.tablet())||a(b,e.findMatch(e.mobileDetectRules.utils,this.ua))},match:function(a){return a instanceof RegExp||(a=new RegExp(a,"i")),a.test(this.ua)},isPhoneSized:function(a){return d.isPhoneSized(a||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===b&&(this._cache.grade=e.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?d.isPhoneSized=function(a){return 0>a?b:e.getDeviceSmallerSide()<=a}:d.isPhoneSized=function(){},d._impl=e,d})}(function(a){if("undefined"!=typeof module&&module.exports)return function(a){module.exports=a()};if("function"==typeof define&&define.amd)return define;if("undefined"!=typeof window)return function(a){window.MobileDetect=a()};throw new Error("unknown environment")}());var chartJSLineStyle=[];chartJSLineStyle.solid=[],chartJSLineStyle.dotted=[1,4],chartJSLineStyle.shortDash=[2,1],chartJSLineStyle.dashed=[4,2],chartJSLineStyle.dashSpace=[4,6],chartJSLineStyle.longDashDot=[7,2,1,2],chartJSLineStyle.longDashShortDash=[10,4,4,4],chartJSLineStyle.gradient=[1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,9,9,8,8,7,7,6,6,5,5,4,4,3,3,2,2,1],"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&d!=1/0&&d!=-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1});var charJSPersonalDefaultOptions={},charJSPersonalDefaultOptionsLine={},charJSPersonalDefaultOptionsRadar={},charJSPersonalDefaultOptionsPolarArea={},charJSPersonalDefaultOptionsPie={},charJSPersonalDefaultOptionsDoughnut={},charJSPersonalDefaultOptionsBar={},charJSPersonalDefaultOptionsStackedBar={},charJSPersonalDefaultOptionsHorizontalBar={},charJSPersonalDefaultOptionsHorizontalStackedBar={},cachebis={};"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.fillTextMultiLine=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=(""+a).split("\n");"middle"==d?f&&(c-=(o.length-1)/2*e):"bottom"==d&&f&&(c-=(o.length-1)*e);for(var p=c-e,q=0;q<o.length;q++)this.fillText(o[q],b,c),c+=e;if(g){var r=h.measureTextMultiLine(a,e),s=[],p=[];s.p1=k+b,p.p1=l+c-e;var t=Math.PI/2+j;"left"==h.textAlign&&"top"==d?(s.p1+=e*Math.cos(t),p.p1+=e*Math.sin(t)):"left"==h.textAlign&&"middle"==d?(s.p1+=e/2*Math.cos(t),p.p1+=e/2*Math.sin(t)):"left"==h.textAlign&&"bottom"==d||("center"==h.textAlign&&"top"==d?(s.p1+=e*Math.cos(t)-r.textWidth/2*Math.cos(j),p.p1+=e*Math.sin(t)-r.textWidth/2*Math.sin(j)):"center"==h.textAlign&&"middle"==d?(s.p1+=e/2*Math.cos(t)-r.textWidth/2*Math.cos(j),p.p1+=e/2*Math.sin(t)-r.textWidth/2*Math.sin(j)):"center"==h.textAlign&&"bottom"==d?(s.p1-=r.textWidth/2*Math.cos(j),p.p1-=r.textWidth/2*Math.sin(j)):"right"==h.textAlign&&"top"==d?(s.p1+=e*Math.cos(t)-r.textWidth*Math.cos(j),p.p1+=e*Math.sin(t)-r.textWidth*Math.sin(j)):"right"==h.textAlign&&"middle"==d?(s.p1+=e/2*Math.cos(t)-r.textWidth*Math.cos(j),p.p1+=e/2*Math.sin(t)-r.textWidth*Math.sin(j)):"right"==h.textAlign&&"bottom"==d&&(s.p1-=r.textWidth*Math.cos(j),p.p1-=r.textWidth*Math.sin(j))),s.p2=s.p1+r.textWidth*Math.cos(j),p.p2=p.p1+r.textWidth*Math.sin(j),s.p3=s.p1-e*Math.cos(t),p.p3=p.p1-e*Math.sin(t),s.p4=s.p3+r.textWidth*Math.cos(j),p.p4=p.p3+r.textWidth*Math.sin(j),jsTextMousePos[h.ChartNewId][jsTextMousePos[h.ChartNewId].length]=[i,a,s,p,j,r.textWidth,r.textHeight,m,n]}},CanvasRenderingContext2D.prototype.measureTextMultiLine=function(a,b){for(var c,d=0,e=(""+a).replace(/<BR>/gi,"\n").split("\n"),f=e.length*b,g=0;g<e.length;g++)c=this.measureText(e[g]).width,c>d&&(d=c);return{textWidth:d,textHeight:1.5*f}},"function"!=typeof CanvasRenderingContext2D.prototype.setLineDash&&(CanvasRenderingContext2D.prototype.setLineDash=function(a){return 0})),cursorDivCreated=!1,initChartJsResize=!1;var jsGraphResize=new Array,container;bw=new checkBrowser,fromLeft=10,fromTop=10,"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var dynamicDisplay=new Array,dynamicDisplayList=new Array,jsGraphAnnotate=new Array,jsTextMousePos=new Array,annotatePrevShow=-1;window.Chart=function(context){function init_and_start(a,b,c){var d;if("undefined"==typeof a.initialWidth&&(a.initialWidth=a.canvas.width),"undefined"==typeof a.chartTextScale&&(a.chartTextScale=c.chartTextScale),"undefined"==typeof a.chartLineScale&&(a.chartLineScale=c.chartLineScale),"undefined"==typeof a.chartSpaceScale&&(a.chartSpaceScale=c.chartSpaceScale),"undefined"==typeof a.firstPass&&(a.firstPass=0,c.responsive&&!c.multiGraph))return addResponsiveChart(a.ChartNewId,a,b,c),newSize=resizeGraph(a,c),resizeCtx(a,newSize.newWidth,newSize.newHeight,c),a.prevWidth=newSize.newWidth,a.prevHeight=newSize.newHeight,redrawGraph(a,b,c),!1;if(c.responsive&&!c.multiGraph&&(newSize=resizeGraph(a,c),resizeCtx(a,newSize.newWidth,newSize.newHeight,c),a.prevWidth=newSize.newWidth,a.prevHeight=newSize.newHeight),"undefined"==typeof a.ChartNewId){a.runanimationcompletefunction=!0;var e=new Date,f=e.getTime();a.ChartNewId=a.tpchart+"_"+f,a._eventListeners={}}if(!dynamicFunction(b,c,a))return!1;switch(c.multiGraph||0==a.firstPass||clearAnnotate(a.ChartNewId),"undefined"==typeof jsGraphAnnotate[a.ChartNewId]&&(jsGraphAnnotate[a.ChartNewId]=new Array,jsTextMousePos[a.ChartNewId]=new Array),a.tpdata){case 1:for(d=0;d<b.length;d++)"undefined"==typeof b[d].title&&"undefined"!=typeof b[d].label&&(b[d].title=b[d].label);break;case 0:default:for(d=0;d<b.datasets.length;d++)"undefined"==typeof b.datasets[d].title&&"undefined"!=typeof b.datasets[d].label&&(b.datasets[d].title=b.datasets[d].label)}return 0!=c.contextMenu&&"function"!=typeof c.mouseDownRight||(a.canvas.oncontextmenu=function(a){a.preventDefault()}),defMouse(a,b,c),setRect(a,c),0==a.firstPass&&(c.animation?a.firstPass=1:a.firstPass=2),
!0}function reverseData(a){a.labels=a.labels.reverse();for(var b=0;b<a.datasets.length;b++)for(var c in a.datasets[b])Array.isArray(a.datasets[b][c])&&(a.datasets[b][c]=a.datasets[b][c].reverse());return a}function calculateOffset(a,b,c,d){if(a)return CapValue(log10(b)*d-log10(c.graphMin)*d,void 0,0);var e=c.steps*c.stepValue,f=b-c.graphMin,g=CapValue(f/e,1,0);return d*c.steps*g}function animationLoop(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){var o=a.animation?CapValue(u(v),null,0):1;1*q>=1*CapValue(a.animationSteps,Number.MAX_VALUE,1)||0==a.animation||d.firstPass%10!=1?o=1:o>=1&&(o=.9999),!a.animation||isIE()<9&&0!=isIE()||!a.clearRect||d.clearRect(e,f,g,h),dispCrossImage(d,a,i,j,k,l,!1,m,o,q),dispCrossText(d,a,i,j,k,l,!1,m,o,q),"function"==typeof a.beforeDrawFunction&&a.beforeDrawFunction("BEFOREDRAWFUNCTION",d,m,n,-1,-1,{animationValue:o,cntiter:q,config:a,borderX:k,borderY:l,midPosX:i,midPosY:j}),a.scaleOverlay?(c(o),"function"==typeof a.endDrawDataFunction&&a.endDrawDataFunction("ENDDATAFUNCTION",d,m,n,-1,-1,{animationValue:o,cntiter:q,config:a,borderX:k,borderY:l,midPosX:i,midPosY:j}),b(),"function"==typeof a.endDrawScaleFunction&&a.endDrawScaleFunction("ENDSCALEFUNCTION",d,m,n,-1,-1,{animationValue:o,cntiter:q,config:a,borderX:k,borderY:l,midPosX:i,midPosY:j})):(b(),"function"==typeof a.endDrawScaleFunction&&a.endDrawScaleFunction("ENDSCALEFUNCTION",d,m,n,-1,-1,{animationValue:o,cntiter:q,config:a,borderX:k,borderY:l,midPosX:i,midPosY:j}),c(o),"function"==typeof a.endDrawDataFunction&&a.endDrawDataFunction("ENDDATAFUNCTION",d,m,n,-1,-1,{animationValue:o,cntiter:q,config:a,borderX:k,borderY:l,midPosX:i,midPosY:j})),dispCrossImage(d,a,i,j,k,l,!0,m,o,q),dispCrossText(d,a,i,j,k,l,!0,m,o,q)}function p(){q+=s,v+=s*t,q==a.animationSteps||0==a.animation||d.firstPass%10!=1?v=1:v>=1&&(v=.999),o(),-1==s&&w>=q?("function"==typeof a.onAnimationComplete&&1==d.runanimationcompletefunction&&a.onAnimationComplete(d,a,m,0,r+1),s=1,a.animationForceSetTimeOut?requestAnimFrameSetTimeOut(p):requestAnimFrame(p)):v<a.animationStopValue?a.animationForceSetTimeOut?requestAnimFrameSetTimeOut(p):requestAnimFrame(p):(r<a.animationCount||0==a.animationCount)&&d.firstPass%10==1?(r++,a.animationBackward&&1==s?(v-=t,s=-1):(s=1,q=w-1,v=x-t),window.setTimeout(p,1e3*a.animationPauseTime)):(testRedraw(d,m,a)||"function"==typeof a.onAnimationComplete&&1==d.runanimationcompletefunction&&(a.onAnimationComplete(d,a,m,1,r+1),d.runanimationcompletefunction=!1),d.firstPass=9)}var q=0,r=1,s=1;(a.animationStartValue<0||a.animationStartValue>1)&&(a.animation.StartValue=0),(a.animationStopValue<0||a.animationStopValue>1)&&(a.animation.StopValue=1),a.animationStopValue<a.animationStartValue&&(a.animationStopValue=a.animationStartValue),isIE()<9&&0!=isIE()&&(a.animation=!1);var t=a.animation?1/CapValue(a.animationSteps,Number.MAX_VALUE,1):1,u=animationOptions[a.animationEasing],v=a.animation?0:1;if(a.animation&&a.animationStartValue>0&&a.animationStartValue<=1)for(;v<a.animationStartValue;)q++,v+=t;var w=q,x=v;"function"!=typeof b&&(b=function(){}),a.clearRect?a.animationForceSetTimeOut?requestAnimFrameSetTimeOut(p):requestAnimFrame(p):p()}function calculateScale(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p;if(2==a?(o=b.logarithmic2,p=b.yAxisMinimumInterval2):(o=b.logarithmic,p=b.yAxisMinimumInterval),o){f==e&&(e+=1),0==f&&(f=.01);var q=calculateOrderOfMagnitude(f),r=calculateOrderOfMagnitude(e)+1;h=Math.pow(10,q),i=Math.pow(10,r),n=r-q}else if(m=e-f,n=calculateOrderOfMagnitude(m),h=Math.abs(f)>b.zeroValue?Math.floor(f/(1*Math.pow(10,n)))*Math.pow(10,n):0,i=Math.abs(e)>b.zeroValue?Math.ceil(e/(1*Math.pow(10,n)))*Math.pow(10,n):0,"number"==typeof p&&i>=0){for(h-=h%p;h>f;)h-=p;for(i%p>b.zeroValue&&i%p<p-b.zeroValue&&(i=roundScale(b,(1+Math.floor(i/p))*p));e>i;)i+=p}if(j=i-h,k=Math.pow(10,n),l=Math.round(j/k),o)l=n;else{for(var s=!1;!s&&(d>l||l>c);)d>l?("number"==typeof p&&p>k/2&&(s=!0,k=p,l=Math.ceil(j/k)),s||(k/=2,l=Math.round(j/k))):(k*=2,l=Math.round(j/k));if("number"==typeof p&&(p>k&&(k=p,l=Math.ceil(j/k)),k%p>b.zeroValue&&k%p<p-b.zeroValue&&(2*k%p<b.zeroValue||2*k%p>p-b.zeroValue?(k=2*k,l=Math.ceil(j/k)):(k=roundScale(b,(1+Math.floor(k/p))*p),l=Math.ceil(j/k)))),1==b.graphMaximized||"bottom"==b.graphMaximized||"undefined"!=typeof b.graphMin)for(;f>h+k&&l>=3;)h+=k,l--;if(1==b.graphMaximized||"top"==b.graphMaximized||"undefined"!=typeof b.graphMax)for(;h+(l-1)*k>=e&&l>=3;)l--}var t=[];return populateLabels(1,b,g,t,l,h,i,k),{steps:l,stepValue:k,graphMin:h,labels:t,maxValue:e}}function roundScale(a,b){var c=0,d=""+a.yAxisMinimumInterval;return d.indexOf(".")>0&&(c=d.substr(d.indexOf(".")).length),Math.round(b*Math.pow(10,c))/Math.pow(10,c)}function calculateOrderOfMagnitude(a){return 0==a?0:Math.floor(Math.log(a)/Math.LN10)}function populateLabels(a,b,c,d,e,f,g,h){var i;if(2==a?(i=b.logarithmic2,fmtYLabel=b.fmtYLabel2):(i=b.logarithmic,fmtYLabel=b.fmtYLabel),c){var j;if(i){var k=f;for(j=0;e+1>j;j++)d.push(tmpl(c,{value:fmtChartJS(b,1*k.toFixed(getDecimalPlaces(k)),fmtYLabel)},b)),k*=10}else for(j=0;e+1>j;j++)d.push(tmpl(c,{value:fmtChartJS(b,1*(f+h*j).toFixed(getDecimalPlaces(h)),fmtYLabel)},b))}}function Max(a){return Math.max.apply(Math,a)}function Min(a){return Math.min.apply(Math,a)}function Default(a,b){return a?a:b}function CapValue(a,b,c){return isNumber(b)&&a>b?b:isNumber(c)&&c>a?c:a}function getDecimalPlaces(a){var b=(""+a).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return b?Math.max(0,(b[1]?b[1].length:0)-(b[2]?+b[2]:0)):0}function mergeChartConfig(a,b){var c={};for(var d in a)c[d]=a[d];for(var e in b)c[e]=b[e];return c}function tmpl(a,b,c){return newstr=a,newstr.substr(0,c.templatesOpenTag.length)==c.templatesOpenTag&&(newstr="<%="+newstr.substr(c.templatesOpenTag.length,newstr.length-c.templatesOpenTag.length)),newstr.substr(newstr.length-c.templatesCloseTag.length,c.templatesCloseTag.length)==c.templatesCloseTag&&(newstr=newstr.substr(0,newstr.length-c.templatesCloseTag.length)+"%>"),tmplpart2(newstr,b)}function tmplpart2(a,b){var c=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):cache[a]=cache[a]||tmplpart2(document.getElementById(a).innerHTML);return b?c(b):c}function dispCrossText(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p;for(k=0;k<b.crossText.length;k++)if(""!=b.crossText[k]&&b.crossTextOverlay[Min([k,b.crossTextOverlay.length-1])]==g&&(1==j&&"first"==b.crossTextIter[Min([k,b.crossTextIter.length-1])]||b.crossTextIter[Min([k,b.crossTextIter.length-1])]==j||"all"==b.crossTextIter[Min([k,b.crossTextIter.length-1])]||1==i&&"last"==b.crossTextIter[Min([k,b.crossTextIter.length-1])])){switch(a.save(),a.beginPath(),a.font=b.crossTextFontStyle[Min([k,b.crossTextFontStyle.length-1])]+" "+Math.ceil(a.chartTextScale*b.crossTextFontSize[Min([k,b.crossTextFontSize.length-1])]).toString()+"px "+b.crossTextFontFamily[Min([k,b.crossTextFontFamily.length-1])],a.fillStyle=b.crossTextFontColor[Min([k,b.crossTextFontColor.length-1])],o=b.crossTextAlign[Min([k,b.crossTextAlign.length-1])],p=b.crossTextBaseline[Min([k,b.crossTextBaseline.length-1])],m=1*Math.ceil(a.chartSpaceScale*b.crossTextPosX[Min([k,b.crossTextPosX.length-1])]),n=1*Math.ceil(a.chartSpaceScale*b.crossTextPosY[Min([k,b.crossTextPosY.length-1])]),1*b.crossTextRelativePosX[Min([k,b.crossTextRelativePosX.length-1])]){case 0:"default"==o&&(o="left");break;case 1:m+=e,"default"==o&&(o="right");break;case 2:m+=c,"default"==o&&(o="center");break;case-2:m+=context.canvas.width/2,"default"==o&&(o="center");break;case 3:m+=m+2*c-e,"default"==o&&(o="left");break;case 4:m+=context.canvas.width,"default"==o&&(o="right");break;default:m+=c,"default"==o&&(o="center")}switch(1*b.crossTextRelativePosY[Min([k,b.crossTextRelativePosY.length-1])]){case 0:"default"==p&&(p="top");break;case 3:n+=f,"default"==p&&(p="top");break;case 2:n+=d,"default"==p&&(p="middle");break;case-2:n+=context.canvas.height/2,"default"==p&&(p="middle");break;case 1:n+=n+2*d-f,"default"==p&&(p="bottom");break;case 4:n+=context.canvas.height,"default"==p&&(p="bottom");break;default:n+=d,"default"==p&&(p="middle")}a.textAlign=o,a.textBaseline=p,a.translate(1*m,1*n);var q=Math.PI*b.crossTextAngle[Min([k,b.crossTextAngle.length-1])]/180;a.rotate(q),"%"==b.crossText[k].substring(0,1)?"function"==typeof b.crossTextFunction&&(l=b.crossTextFunction(k,b.crossText[k],a,b,c,d,e,f,g,h,i)):l=b.crossText[k],setTextBordersAndBackground(a,l,Math.ceil(a.chartTextScale*b.crossTextFontSize[Min([k,b.crossTextFontSize.length-1])]),0,0,b.crossTextBorders[Min([k,b.crossTextBorders.length-1])],b.crossTextBordersColor[Min([k,b.crossTextBordersColor.length-1])],Math.ceil(a.chartLineScale*b.crossTextBordersWidth[Min([k,b.crossTextBordersWidth.length-1])]),Math.ceil(a.chartSpaceScale*b.crossTextBordersXSpace[Min([k,b.crossTextBordersXSpace.length-1])]),Math.ceil(a.chartSpaceScale*b.crossTextBordersYSpace[Min([k,b.crossTextBordersYSpace.length-1])]),b.crossTextBordersStyle[Min([k,b.crossTextBordersStyle.length-1])],b.crossTextBackgroundColor[Min([k,b.crossTextBackgroundColor.length-1])],"CROSSTEXT"),1==i&&"all"==b.crossTextIter[Min([k,b.crossTextIter.length-1])]||"last"!=b.crossTextIter[Min([k,b.crossTextIter.length-1])]?a.fillTextMultiLine(l,0,0,a.textBaseline,Math.ceil(a.chartTextScale*b.crossTextFontSize[Min([k,b.crossTextFontSize.length-1])]),!0,b.detectMouseOnText,a,"CROSSTEXT_TEXTMOUSE",q,1*m,1*n,k,-1):a.fillTextMultiLine(l,0,0,a.textBaseline,Math.ceil(a.chartTextScale*b.crossTextFontSize[Min([k,b.crossTextFontSize.length-1])]),!0,!1,a,"CROSSTEXT_TEXTMOUSE",q,1*m,1*n,k,-1),a.restore()}}function dispCrossImage(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o;for(k=0;k<b.crossImage.length;k++)if("undefined"!=typeof b.crossImage[k]&&b.crossImageOverlay[Min([k,b.crossImageOverlay.length-1])]==g&&(-1==j&&"background"==b.crossImageIter[Min([k,b.crossImageIter.length-1])]||1==j&&"first"==b.crossImageIter[Min([k,b.crossImageIter.length-1])]||b.crossImageIter[Min([k,b.crossImageIter.length-1])]==j||-1!=j&&"all"==b.crossImageIter[Min([k,b.crossImageIter.length-1])]||1==i&&"last"==b.crossImageIter[Min([k,b.crossImageIter.length-1])])){switch(a.save(),a.beginPath(),n=b.crossImageAlign[Min([k,b.crossImageAlign.length-1])],o=b.crossImageBaseline[Min([k,b.crossImageBaseline.length-1])],l=1*Math.ceil(a.chartSpaceScale*b.crossImagePosX[Min([k,b.crossImagePosX.length-1])]),m=1*Math.ceil(a.chartSpaceScale*b.crossImagePosY[Min([k,b.crossImagePosY.length-1])]),1*b.crossImageRelativePosX[Min([k,b.crossImageRelativePosX.length-1])]){case 0:"default"==n&&(n="left");break;case 1:l+=e,"default"==n&&(n="right");break;case 2:l+=c,"default"==n&&(n="center");break;case-2:l+=context.canvas.width/2,"default"==n&&(n="center");break;case 3:l+=l+2*c-e,"default"==n&&(n="left");break;case 4:l+=context.canvas.width,"default"==n&&(n="right");break;default:l+=c,"default"==n&&(n="center")}switch(1*b.crossImageRelativePosY[Min([k,b.crossImageRelativePosY.length-1])]){case 0:"default"==o&&(o="top");break;case 3:m+=f,"default"==o&&(o="top");break;case 2:m+=d,"default"==o&&(o="middle");break;case-2:m+=context.canvas.height/2,"default"==o&&(o="middle");break;case 1:m+=m+2*d-f,"default"==o&&(o="bottom");break;case 4:m+=context.canvas.height,"default"==o&&(o="bottom");break;default:m+=d,"default"==o&&(o="middle")}var p=b.crossImage[k].width;switch(n){case"left":break;case"right":l-=p;break;case"center":l-=p/2}var q=b.crossImage[k].height;switch(o){case"top":break;case"bottom":m-=q;break;case"middle":m-=q/2}a.translate(1*l,1*m),a.rotate(Math.PI*b.crossImageAngle[Min([k,b.crossImageAngle.length-1])]/180),a.drawImage(b.crossImage[k],0,0),a.restore()}}function setMeasures(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=d,o=e;window.devicePixelRatio&&0==b.responsive&&(n/=window.devicePixelRatio,o/=window.devicePixelRatio),"none"!=b.canvasBackgroundColor&&(c.canvas.style.background=b.canvasBackgroundColor);var p=0,q=0,r=0,s=0,t=0,u=0,v=0,w=0,x=0,y=0,z=0,A=0,B=0,C=0,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=1,O=1,P=0,Q=1,R=0,S=1,T=0,U=0,V=0,W=0,X=0,Y=0;c.widthAtSetMeasures=o,c.heightAtSetMeasures=n,b.canvasBorders&&(p=Math.ceil(c.chartLineScale*b.canvasBordersWidth));var Z,$;if(j){for(c.font=b.scaleFontStyle+" "+Math.ceil(c.chartTextScale*b.scaleFontSize).toString()+"px "+b.scaleFontFamily,$=0;$<a.labels.length;$++)showLabels(c,a,b,$)===!0&&(Z=c.measureTextMultiLine(fmtChartJS(b,a.labels[$],b.fmtXLabel),Math.ceil(c.chartTextScale*b.scaleFontSize)),N=Z.textWidth>N?Z.textWidth:N,O=Z.textHeight>O?Z.textHeight:O);N<Math.ceil(c.chartTextScale*b.xScaleLabelsMinimumWidth)&&(N=Math.ceil(c.chartTextScale*b.xScaleLabelsMinimumWidth))}if(j){if(P=1,null!=f&&"nihil"!=f)for(c.font=b.scaleFontStyle+" "+Math.ceil(c.chartTextScale*b.scaleFontSize).toString()+"px "+b.scaleFontFamily,$=f.length-1;$>=0;$--)"string"==typeof f[$]&&showYLabels(c,a,b,$,f[$])&&""!=f[$].trim()&&(Z=c.measureTextMultiLine(fmtChartJS(b,f[$],b.fmtYLabel),Math.ceil(c.chartTextScale*b.scaleFontSize)),P=Z.textWidth>P?Z.textWidth:P,Q=Z.textHeight>Q?Z.textHeight:Q);if(P<Math.ceil(c.chartTextScale*b.yScaleLabelsMinimumWidth)&&(P=Math.ceil(c.chartTextScale*b.yScaleLabelsMinimumWidth)),R=1,null!=g&&b.yAxisRight)for(c.font=b.scaleFontStyle+" "+Math.ceil(c.chartTextScale*b.scaleFontSize).toString()+"px "+b.scaleFontFamily,$=g.length-1;$>=0;$--)"string"==typeof g[$]&&""!=g[$].trim()&&(Z=c.measureTextMultiLine(fmtChartJS(b,g[$],b.fmtYLabel2),Math.ceil(c.chartTextScale*b.scaleFontSize)),R=Z.textWidth>R?Z.textWidth:R,S=Z.textHeight>S?Z.textHeight:S);else R=P;R<Math.ceil(c.chartTextScale*b.yScaleLabelsMinimumWidth)&&(R=Math.ceil(c.chartTextScale*b.yScaleLabelsMinimumWidth))}if(T=p+Math.ceil(c.chartSpaceScale*b.spaceLeft),U=p+Math.ceil(c.chartSpaceScale*b.spaceRight),j&&("undefined"!=typeof b.yAxisLabel&&(""!=b.yAxisLabel.trim()&&(I=Math.ceil(c.chartTextScale*b.yAxisFontSize)*(b.yAxisLabel.split("\n").length||1)+Math.ceil(c.chartSpaceScale*b.yAxisLabelSpaceLeft)+Math.ceil(c.chartSpaceScale*b.yAxisLabelSpaceRight),J=p+Math.ceil(c.chartSpaceScale*b.spaceLeft)+Math.ceil(c.chartSpaceScale*b.yAxisLabelSpaceLeft)+Math.ceil(c.chartTextScale*b.yAxisFontSize),K=o-p-Math.ceil(c.chartSpaceScale*b.spaceRight)-Math.ceil(c.chartSpaceScale*b.yAxisLabelSpaceLeft)-Math.ceil(c.chartTextScale*b.yAxisFontSize)),("none"!=b.yAxisLabelBackgroundColor||b.yAxisLabelBorders)&&(I+=2*Math.ceil(c.chartSpaceScale*b.yAxisLabelBordersYSpace),J+=Math.ceil(c.chartSpaceScale*b.yAxisLabelBordersYSpace),K-=Math.ceil(c.chartSpaceScale*b.yAxisLabelBordersYSpace)),b.graphTitleBorders&&(I+=2*Math.ceil(c.chartLineScale*b.yAxisLabelBordersWidth),J+=Math.ceil(c.chartLineScale*b.yAxisLabelBordersWidth),K-=Math.ceil(c.chartLineScale*b.yAxisLabelBordersWidth))),b.yAxisLeft&&(T=0==i?p+Math.ceil(c.chartSpaceScale*b.spaceLeft)+I+P+Math.ceil(c.chartSpaceScale*b.yAxisSpaceLeft)+Math.ceil(c.chartSpaceScale*b.yAxisSpaceRight):p+Math.ceil(c.chartSpaceScale*b.spaceLeft)+I+N+Math.ceil(c.chartSpaceScale*b.yAxisSpaceLeft)+Math.ceil(c.chartSpaceScale*b.yAxisSpaceRight)),b.yAxisRight&&(U=0==i?p+Math.ceil(c.chartSpaceScale*b.spaceRight)+I+R+Math.ceil(c.chartSpaceScale*b.yAxisSpaceLeft)+Math.ceil(c.chartSpaceScale*b.yAxisSpaceRight):p+Math.ceil(c.chartSpaceScale*b.spaceRight)+I+N+Math.ceil(c.chartSpaceScale*b.yAxisSpaceLeft)+Math.ceil(c.chartSpaceScale*b.yAxisSpaceRight))),availableWidth=o-T-U,""!=b.graphTitle.trim()&&(r=Math.ceil(c.chartTextScale*b.graphTitleFontSize)*(b.graphTitle.split("\n").length||1)+Math.ceil(c.chartSpaceScale*b.graphTitleSpaceBefore)+Math.ceil(c.chartSpaceScale*b.graphTitleSpaceAfter),s=p+Math.ceil(c.chartSpaceScale*b.spaceTop)+r-Math.ceil(c.chartSpaceScale*b.graphTitleSpaceAfter),("none"!=b.graphTitleBackgroundColor||b.graphTitleBorders)&&(r+=2*Math.ceil(c.chartSpaceScale*b.graphTitleBordersYSpace),s+=Math.ceil(c.chartSpaceScale*b.graphTitleBordersYSpace)),b.graphTitleBorders&&(r+=2*Math.ceil(c.chartLineScale*b.graphTitleBordersWidth),s+=Math.ceil(c.chartLineScale*b.graphTitleBordersWidth))),""!=b.graphSubTitle.trim()&&(t=Math.ceil(c.chartTextScale*b.graphSubTitleFontSize)*(b.graphSubTitle.split("\n").length||1)+Math.ceil(c.chartSpaceScale*b.graphSubTitleSpaceBefore)+Math.ceil(c.chartSpaceScale*b.graphSubTitleSpaceAfter),u=p+Math.ceil(c.chartSpaceScale*b.spaceTop)+r+t-Math.ceil(c.chartSpaceScale*b.graphSubTitleSpaceAfter),("none"!=b.graphSubTitleBackgroundColor||b.graphSubTitleBorders)&&(t+=2*Math.ceil(c.chartSpaceScale*b.graphSubTitleBordersYSpace),u+=Math.ceil(c.chartSpaceScale*b.graphSubTitleBordersYSpace)),b.graphSubTitleBorders&&(t+=2*Math.ceil(c.chartLineScale*b.graphSubTitleBordersWidth),u+=Math.ceil(c.chartLineScale*b.graphSubTitleBordersWidth))),j&&(""!=b.yAxisUnit.trim()&&(x=Math.ceil(c.chartTextScale*b.yAxisUnitFontSize)*(b.yAxisUnit.split("\n").length||1)+Math.ceil(c.chartSpaceScale*b.yAxisUnitSpaceBefore)+Math.ceil(c.chartSpaceScale*b.yAxisUnitSpaceAfter),y=p+Math.ceil(c.chartSpaceScale*b.spaceTop)+r+t+x-Math.ceil(c.chartSpaceScale*b.yAxisUnitSpaceAfter)),("none"!=b.yAxisUnitBackgroundColor||b.yAxisUnitBorders)&&(x+=2*Math.ceil(c.chartSpaceScale*b.yAxisUnitBordersYSpace),y+=Math.ceil(c.chartSpaceScale*b.yAxisUnitBordersYSpace)),b.yAxisUnitBorders&&(x+=2*Math.ceil(c.chartLineScale*b.yAxisUnitBordersWidth),y+=Math.ceil(c.chartLineScale*b.yAxisUnitBordersWidth))),topNotUsableSize=p+Math.ceil(c.chartSpaceScale*b.spaceTop)+r+t+x+Math.ceil(c.chartTextScale*b.graphSpaceBefore),"undefined"!=typeof b.footNote&&""!=b.footNote.trim()&&(v=Math.ceil(c.chartTextScale*b.footNoteFontSize)*(b.footNote.split("\n").length||1)+Math.ceil(c.chartSpaceScale*b.footNoteSpaceBefore)+Math.ceil(c.chartSpaceScale*b.footNoteSpaceAfter),w=n-Math.ceil(c.chartSpaceScale*b.spaceBottom)-p-Math.ceil(c.chartSpaceScale*b.footNoteSpaceAfter),("none"!=b.footNoteBackgroundColor||b.footNoteBorders)&&(v+=2*Math.ceil(c.chartSpaceScale*b.footNoteBordersYSpace),w-=Math.ceil(c.chartSpaceScale*b.footNoteBordersYSpace)),b.footNoteBorders&&(v+=2*Math.ceil(c.chartLineScale*b.footNoteBordersWidth),w-=Math.ceil(c.chartLineScale*b.footNoteBordersWidth))),j&&"undefined"!=typeof b.xAxisLabel&&""!=b.xAxisLabel.trim()&&(L=Math.ceil(c.chartTextScale*b.xAxisFontSize)*(b.xAxisLabel.split("\n").length||1)+Math.ceil(c.chartSpaceScale*b.xAxisLabelSpaceBefore)+Math.ceil(c.chartSpaceScale*b.xAxisLabelSpaceAfter),q=n-p-Math.ceil(c.chartSpaceScale*b.spaceBottom)-v-Math.ceil(c.chartSpaceScale*b.xAxisLabelSpaceAfter),("none"!=b.xAxisLabelBackgroundColor||b.footNoteBorders)&&(L+=2*Math.ceil(c.chartSpaceScale*b.xAxisLabelBordersYSpace),q-=Math.ceil(c.chartSpaceScale*b.xAxisLabelBordersYSpace)),b.footNoteBorders&&(L+=2*Math.ceil(c.chartLineScale*b.xAxisLabelBordersWidth),q-=Math.ceil(c.chartLineScale*b.xAxisLabelBordersWidth))),bottomNotUsableHeightWithoutXLabels=p+Math.ceil(c.chartSpaceScale*b.spaceBottom)+v+L+Math.ceil(c.chartTextScale*b.graphSpaceAfter),"undefined"!=typeof b.legend&&1==b.legend){c.font=b.legendFontStyle+" "+Math.ceil(c.chartTextScale*b.legendFontSize).toString()+"px "+b.legendFontFamily;var _;if(k)for($=a.datasets.length-1;$>=0;$--)"string"==typeof a.datasets[$].title&&""!=a.datasets[$].title.trim()&&(A++,_=c.measureText(fmtChartJS(b,a.datasets[$].title,b.fmtLegend)).width,z=_>z?_:z);else for($=a.length-1;$>=0;$--)"string"==typeof a[$].title&&""!=a[$].title.trim()&&(A++,_=c.measureText(fmtChartJS(b,a[$].title,b.fmtLegend)).width,z=_>z?_:z);if(A>1||1==A&&b.showSingleLegend){z+=Math.ceil(c.chartTextScale*b.legendBlockSize)+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenBoxAndText),1==b.legendPosY||2==b.legendPosY||3==b.legendPosY?availableLegendWidth=availableWidth-Math.ceil(c.chartSpaceScale*Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText))-Math.ceil(c.chartSpaceScale*b.legendSpaceRightText):availableLegendWidth=o-Math.ceil(c.chartSpaceScale*b.spaceLeft)-Math.ceil(c.chartSpaceScale*b.spaceRight)-2*p-Math.ceil(c.chartSpaceScale*Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText))-Math.ceil(c.chartSpaceScale*b.legendSpaceRightText),1==b.legendBorders&&(availableLegendWidth-=2*Math.ceil(c.chartLineScale*b.legendBordersWidth)-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceLeft)-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceRight)),maxLegendOnLine=Min([Math.floor((availableLegendWidth+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))/(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))),b.maxLegendCols]),B=Math.ceil(A/maxLegendOnLine),C=Math.ceil(A/B);var aa=B*(Math.ceil(c.chartTextScale*b.legendFontSize)+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextVertical))-Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextVertical)+Math.ceil(c.chartSpaceScale*b.legendSpaceBeforeText)+Math.ceil(c.chartSpaceScale*b.legendSpaceAfterText);switch(b.legendPosY){case 0:E=Math.ceil(c.chartSpaceScale*b.spaceLeft)+(o-Math.ceil(c.chartSpaceScale*b.spaceLeft)-Math.ceil(c.chartSpaceScale*b.spaceRight)-C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))/2,D=aa,1==b.legendBorders?(H=topNotUsableSize+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)+Math.ceil(c.chartLineScale*b.legendBordersWidth)/2,F=H+Math.ceil(c.chartLineScale*b.legendBordersWidth)/2+Math.ceil(c.chartSpaceScale*b.legendSpaceBeforeText)+Math.ceil(c.chartTextScale*b.legendFontSize),D+=2*Math.ceil(c.chartLineScale*b.legendBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),G=Math.floor(E-Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText)-Math.ceil(c.chartLineScale*b.legendBordersWidth)/2),Y=Math.ceil(D-Math.ceil(c.chartLineScale*b.legendBordersWidth))-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),X=Math.ceil(C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal)))-Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal)+Math.ceil(c.chartLineScale*b.legendBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendSpaceRightText)+Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText)):F=topNotUsableSize+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)+Math.ceil(c.chartLineScale*b.legendBordersWidth)/2,x>0&&(y+=D,1==b.legendBorders&&(H-=x),F-=x),topNotUsableSize+=D;break;case 1:D=aa,E=Math.ceil(c.chartSpaceScale*b.spaceLeft)+(o-Math.ceil(c.chartSpaceScale*b.spaceLeft)-Math.ceil(c.chartSpaceScale*b.spaceRight)-C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))/2,F=topNotUsableSize+Math.ceil(c.chartSpaceScale*b.legendSpaceBeforeText)+Math.ceil(c.chartTextScale*b.legendFontSize),1==b.legendBorders&&(F+=Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)+Math.ceil(c.chartLineScale*b.legendBordersWidth),H=F-Math.ceil(c.chartSpaceScale*b.legendSpaceBeforeText)-Math.ceil(c.chartTextScale*b.legendFontSize)-Math.ceil(c.chartLineScale*b.legendBordersWidth)/2,D+=2*Math.ceil(c.chartLineScale*b.legendBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),G=Math.floor(E-Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText)-Math.ceil(c.chartLineScale*b.legendBordersWidth)/2),Y=Math.ceil(D-Math.ceil(c.chartLineScale*b.legendBordersWidth))-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),X=Math.ceil(C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal)))-Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal)+Math.ceil(c.chartLineScale*b.legendBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendSpaceRightText)+Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText));break;case 2:D=aa,E=Math.ceil(c.chartSpaceScale*b.spaceLeft)+(o-Math.ceil(c.chartSpaceScale*b.spaceLeft)-Math.ceil(c.chartSpaceScale*b.spaceRight)-C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))/2,F=topNotUsableSize+(n-topNotUsableSize-bottomNotUsableHeightWithoutXLabels-D)/2+Math.ceil(c.chartSpaceScale*b.legendSpaceBeforeText)+Math.ceil(c.chartTextScale*b.legendFontSize),1==b.legendBorders&&(F+=Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),H=F-Math.ceil(c.chartSpaceScale*b.legendSpaceBeforeText)-Math.ceil(c.chartTextScale*b.legendFontSize)-Math.ceil(c.chartLineScale*b.legendBordersWidth)/2,D+=2*Math.ceil(c.chartLineScale*b.legendBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),G=Math.floor(E-Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText)-Math.ceil(c.chartLineScale*b.legendBordersWidth)/2),Y=Math.ceil(D-Math.ceil(c.chartLineScale*b.legendBordersWidth))-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),X=Math.ceil(C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal)))-Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal)+Math.ceil(c.chartLineScale*b.legendBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendSpaceRightText)+Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText));break;case-2:D=aa,E=Math.ceil(c.chartSpaceScale*b.spaceLeft)+(o-Math.ceil(c.chartSpaceScale*b.spaceLeft)-Math.ceil(c.chartSpaceScale*b.spaceRight)-C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))/2,F=(n-D)/2+Math.ceil(c.chartSpaceScale*b.legendSpaceBeforeText)+Math.ceil(c.chartTextScale*b.legendFontSize),1==b.legendBorders&&(F+=Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),H=F-Math.ceil(c.chartSpaceScale*b.legendSpaceBeforeText)-Math.ceil(c.chartTextScale*b.legendFontSize)-Math.ceil(c.chartLineScale*b.legendBordersWidth)/2,D+=2*Math.ceil(c.chartLineScale*b.legendBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),G=Math.floor(E-Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText)-Math.ceil(c.chartLineScale*b.legendBordersWidth)/2),Y=Math.ceil(D-Math.ceil(c.chartLineScale*b.legendBordersWidth))-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),X=Math.ceil(C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal)))-Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal)+Math.ceil(c.chartLineScale*b.legendBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendSpaceRightText)+Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText));break;case 3:D=aa,E=Math.ceil(c.chartSpaceScale*b.spaceLeft)+(o-Math.ceil(c.chartSpaceScale*b.spaceLeft)-Math.ceil(c.chartSpaceScale*b.spaceRight)-C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))/2,availableHeight=n-topNotUsableSize-bottomNotUsableHeightWithoutXLabels,F=topNotUsableSize+availableHeight-D+Math.ceil(c.chartSpaceScale*b.legendSpaceBeforeText)+Math.ceil(c.chartTextScale*b.legendFontSize),1==b.legendBorders&&(F-=Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter)+Math.ceil(c.chartLineScale*b.legendBordersWidth),H=F-Math.ceil(c.chartSpaceScale*b.legendSpaceBeforeText)-Math.ceil(c.chartTextScale*b.legendFontSize)-Math.ceil(c.chartLineScale*b.legendBordersWidth)/2,D+=2*Math.ceil(c.chartLineScale*b.legendBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),G=Math.floor(E-Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText)-Math.ceil(c.chartLineScale*b.legendBordersWidth)/2),Y=Math.ceil(D-Math.ceil(c.chartLineScale*b.legendBordersWidth))-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),X=Math.ceil(C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal)))-Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal)+Math.ceil(c.chartLineScale*b.legendBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendSpaceRightText)+Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText));break;default:D=aa,F=n-p-Math.ceil(c.chartSpaceScale*b.spaceBottom)-v-D+Math.ceil(c.chartSpaceScale*b.legendSpaceBeforeText)+Math.ceil(c.chartTextScale*b.legendFontSize),E=Math.ceil(c.chartSpaceScale*b.spaceLeft)+(o-Math.ceil(c.chartSpaceScale*b.spaceLeft)-Math.ceil(c.chartSpaceScale*b.spaceRight)-C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))/2,1==b.legendBorders&&(D+=2*Math.ceil(c.chartLineScale*b.legendBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),F-=Math.ceil(c.chartLineScale*b.legendBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),H=Math.floor(n-p-Math.ceil(c.chartSpaceScale*b.spaceBottom)-v-D+Math.ceil(c.chartLineScale*b.legendBordersWidth)/2+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)),G=Math.floor(E-Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText)-Math.ceil(c.chartLineScale*b.legendBordersWidth)/2),Y=Math.ceil(D-Math.ceil(c.chartLineScale*b.legendBordersWidth))-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceBefore)-Math.ceil(c.chartSpaceScale*b.legendBordersSpaceAfter),X=Math.ceil(C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal)))-Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal)+Math.ceil(c.chartLineScale*b.legendBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendSpaceRightText)+Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText)),q-=D,bottomNotUsableHeightWithoutXLabels+=D}var ba=Math.ceil(c.chartSpaceScale*b.legendSpaceRightText)+C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))-Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal)+Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText);switch(1==b.legendBorders&&(ba+=2*Math.ceil(c.chartLineScale*b.legendBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceLeft)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceRight)),b.legendPosX){case 0:case 1:E=Math.ceil(c.chartSpaceScale*b.spaceLeft)+b.canvasBorders*Math.ceil(c.chartLineScale*b.canvasBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText),1==b.legendBorders&&(E+=Math.ceil(c.chartLineScale*b.legendBordersWidth)/2+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceLeft),G=Math.ceil(c.chartSpaceScale*b.spaceLeft)+b.canvasBorders*Math.ceil(c.chartLineScale*b.canvasBordersWidth)+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceLeft)),0==b.legendPosX&&(b.legendPosY>=1&&b.legendPosY<=3||-2==b.legendPosY)&&(T+=ba,J+=ba);break;case 2:E=T+(o-U-T)/2-(Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText)-Math.ceil(c.chartSpaceScale*b.legendSpaceRightText))-(C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))-Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))/2,1==b.legendBorders&&(E-=Math.ceil(c.chartLineScale*b.legendBordersWidth)/2+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceRight),G=E-Math.ceil(c.chartLineScale*b.legendBordersWidth)/2-Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText));break;case 3:case 4:E=o-U-Math.ceil(c.chartSpaceScale*b.legendSpaceRightText)-C*(z+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal))+Math.ceil(c.chartSpaceScale*b.legendSpaceBetweenTextHorizontal)/2,1==b.legendBorders&&(E-=Math.ceil(c.chartLineScale*b.legendBordersWidth)/2+Math.ceil(c.chartSpaceScale*b.legendBordersSpaceRight),G=E-Math.ceil(c.chartLineScale*b.legendBordersWidth)/2-Math.ceil(c.chartSpaceScale*b.legendSpaceLeftText)),4==b.legendPosX&&(b.legendPosY>=1&&b.legendPosY<=3||-2==b.legendPosY)&&(U+=ba,K-=ba)}1==b.legendBorders&&(H+=Math.ceil(c.chartSpaceScale*b.legendYPadding),G+=Math.ceil(c.chartSpaceScale*b.legendXPadding)),
F+=Math.ceil(c.chartSpaceScale*b.legendYPadding),E+=Math.ceil(c.chartSpaceScale*b.legendXPadding)}}if(xLabelWidth=0,bottomNotUsableHeightWithXLabels=bottomNotUsableHeightWithoutXLabels,j&&(b.xAxisBottom||b.xAxisTop)){var ca,da;0==i?(ca=N,da=O,nblab=a.labels.length):(ca=P,da=Q,nblab=f.length),"smart"==b.rotateLabels?(V=0,(availableWidth+Math.ceil(c.chartTextScale*b.xAxisSpaceBetweenLabels))/nblab<ca+Math.ceil(c.chartTextScale*b.xAxisSpaceBetweenLabels)&&(V=45,availableWidth/nblab<Math.abs(Math.cos(V*Math.PI/180)*ca)&&(V=90))):(V=b.rotateLabels,0>V&&(V=0),V>180&&(V=180)),V>90&&(V+=180),M=Math.abs(Math.sin(V*Math.PI/180)*ca)+Math.abs(Math.sin((V+90)*Math.PI/180)*da)+Math.ceil(c.chartSpaceScale*b.xAxisSpaceBefore)+Math.ceil(c.chartSpaceScale*b.xAxisSpaceAfter),W=n-p-Math.ceil(c.chartSpaceScale*b.spaceBottom)-v-L-(M-Math.ceil(c.chartSpaceScale*b.xAxisSpaceBefore))-Math.ceil(c.chartTextScale*b.graphSpaceAfter),xLabelWidth=Math.abs(Math.cos(V*Math.PI/180)*ca)+Math.abs(Math.cos((V+90)*Math.PI/180)*da),T=Max([T,p+Math.ceil(c.chartSpaceScale*b.spaceLeft)+xLabelWidth/2]),U=Max([U,p+Math.ceil(c.chartSpaceScale*b.spaceRight)+xLabelWidth/2]),availableWidth=o-T-U,b.legend&&b.xAxisBottom&&4==b.legendPosY&&(W-=D),bottomNotUsableHeightWithXLabels=bottomNotUsableHeightWithoutXLabels+M}else availableWidth=o-T-U;if(availableHeight=n-topNotUsableSize-bottomNotUsableHeightWithXLabels,dispCrossImage(c,b,o/2,n/2,o/2,n/2,!1,a,-1,-1),"function"==typeof b.initFunction&&b.initFunction("INITFUNCTION",c,a,null,-1,-1,{animationValue:0,cntiter:0,config:b,borderX:0,borderY:0,midPosX:0,midPosY:0}),"nihil"!=f){p>0&&(c.save(),c.beginPath(),c.lineWidth=2*p,c.setLineDash(lineStyleFn(b.canvasBordersStyle)),c.strokeStyle=b.canvasBordersColor,c.moveTo(0,0),c.lineTo(0,n),c.lineTo(o,n),c.lineTo(o,0),c.lineTo(0,0),c.stroke(),c.setLineDash([]),c.restore()),r>0&&(c.save(),c.beginPath(),c.font=b.graphTitleFontStyle+" "+Math.ceil(c.chartTextScale*b.graphTitleFontSize).toString()+"px "+b.graphTitleFontFamily,c.fillStyle=b.graphTitleFontColor,c.textAlign="center",c.textBaseline="bottom",setTextBordersAndBackground(c,b.graphTitle,Math.ceil(c.chartTextScale*b.graphTitleFontSize),Math.ceil(c.chartSpaceScale*b.spaceLeft)+(o-Math.ceil(c.chartSpaceScale*b.spaceLeft)-Math.ceil(c.chartSpaceScale*b.spaceRight))/2,s,b.graphTitleBorders,b.graphTitleBordersColor,Math.ceil(c.chartLineScale*b.graphTitleBordersWidth),Math.ceil(c.chartSpaceScale*b.graphTitleBordersXSpace),Math.ceil(c.chartSpaceScale*b.graphTitleBordersYSpace),b.graphTitleBordersStyle,b.graphTitleBackgroundColor,"GRAPHTITLE"),c.translate(Math.ceil(c.chartSpaceScale*b.spaceLeft)+(o-Math.ceil(c.chartSpaceScale*b.spaceLeft)-Math.ceil(c.chartSpaceScale*b.spaceRight))/2,s),c.fillTextMultiLine(b.graphTitle,0,0,c.textBaseline,Math.ceil(c.chartTextScale*b.graphTitleFontSize),!0,b.detectMouseOnText,c,"TITLE_TEXTMOUSE",0,Math.ceil(c.chartSpaceScale*b.spaceLeft)+(o-Math.ceil(c.chartSpaceScale*b.spaceLeft)-Math.ceil(c.chartSpaceScale*b.spaceRight))/2,s,-1,-1),c.stroke(),c.restore()),t>0&&(c.save(),c.beginPath(),c.font=b.graphSubTitleFontStyle+" "+Math.ceil(c.chartTextScale*b.graphSubTitleFontSize).toString()+"px "+b.graphSubTitleFontFamily,c.fillStyle=b.graphSubTitleFontColor,c.textAlign="center",c.textBaseline="bottom",setTextBordersAndBackground(c,b.graphSubTitle,Math.ceil(c.chartTextScale*b.graphSubTitleFontSize),Math.ceil(c.chartSpaceScale*b.spaceLeft)+(o-Math.ceil(c.chartSpaceScale*b.spaceLeft)-Math.ceil(c.chartSpaceScale*b.spaceRight))/2,u,b.graphSubTitleBorders,b.graphSubTitleBordersColor,Math.ceil(c.chartLineScale*b.graphSubTitleBordersWidth),Math.ceil(c.chartSpaceScale*b.graphSubTitleBordersXSpace),Math.ceil(c.chartSpaceScale*b.graphSubTitleBordersYSpace),b.graphSubTitleBordersStyle,b.graphSubTitleBackgroundColor,"GRAPHSUBTITLE"),c.translate(Math.ceil(c.chartSpaceScale*b.spaceLeft)+(o-Math.ceil(c.chartSpaceScale*b.spaceLeft)-Math.ceil(c.chartSpaceScale*b.spaceRight))/2,u),c.fillTextMultiLine(b.graphSubTitle,0,0,c.textBaseline,Math.ceil(c.chartTextScale*b.graphSubTitleFontSize),!0,b.detectMouseOnText,c,"SUBTITLE_TEXTMOUSE",0,Math.ceil(c.chartSpaceScale*b.spaceLeft)+(o-Math.ceil(c.chartSpaceScale*b.spaceLeft)-Math.ceil(c.chartSpaceScale*b.spaceRight))/2,u,-1,-1),c.stroke(),c.restore()),x>0&&(b.yAxisLeft&&(c.save(),c.beginPath(),c.font=b.yAxisUnitFontStyle+" "+Math.ceil(c.chartTextScale*b.yAxisUnitFontSize).toString()+"px "+b.yAxisUnitFontFamily,c.fillStyle=b.yAxisUnitFontColor,c.textAlign="center",c.textBaseline="bottom",setTextBordersAndBackground(c,b.yAxisUnit,Math.ceil(c.chartTextScale*b.yAxisUnitFontSize),T,y,b.yAxisUnitBorders,b.yAxisUnitBordersColor,Math.ceil(c.chartLineScale*b.yAxisUnitBordersWidth),Math.ceil(c.chartSpaceScale*b.yAxisUnitBordersXSpace),Math.ceil(c.chartSpaceScale*b.yAxisUnitBordersYSpace),b.yAxisUnitBordersStyle,b.yAxisUnitBackgroundColor,"YAXISUNIT"),c.translate(T,y),c.fillTextMultiLine(b.yAxisUnit,0,0,c.textBaseline,Math.ceil(c.chartTextScale*b.yAxisUnitFontSize),!0,b.detectMouseOnText,c,"YLEFTAXISUNIT_TEXTMOUSE",0,T,y,-1,-1),c.stroke(),c.restore()),b.yAxisRight&&(""==b.yAxisUnit2&&(b.yAxisUnit2=b.yAxisUnit),c.save(),c.beginPath(),c.font=b.yAxisUnitFontStyle+" "+Math.ceil(c.chartTextScale*b.yAxisUnitFontSize).toString()+"px "+b.yAxisUnitFontFamily,c.fillStyle=b.yAxisUnitFontColor,c.textAlign="center",c.textBaseline="bottom",setTextBordersAndBackground(c,b.yAxisUnit2,Math.ceil(c.chartTextScale*b.yAxisUnitFontSize),o-U,y,b.yAxisUnitBorders,b.yAxisUnitBordersColor,Math.ceil(c.chartLineScale*b.yAxisUnitBordersWidth),Math.ceil(c.chartSpaceScale*b.yAxisUnitBordersXSpace),Math.ceil(c.chartSpaceScale*b.yAxisUnitBordersYSpace),b.yAxisUnitBordersStyle,b.yAxisUnitBackgroundColor,"YAXISUNIT"),c.translate(o-U,y),c.fillTextMultiLine(b.yAxisUnit2,0,0,c.textBaseline,Math.ceil(c.chartTextScale*b.yAxisUnitFontSize),!0,b.detectMouseOnText,c,"YRIGHTAXISUNIT_TEXTMOUSE",0,o-U,y,-1,-1),c.stroke(),c.restore())),I>0&&(b.yAxisLeft&&(c.save(),c.beginPath(),c.font=b.yAxisFontStyle+" "+Math.ceil(c.chartTextScale*b.yAxisFontSize).toString()+"px "+b.yAxisFontFamily,c.fillStyle=b.yAxisFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(J,topNotUsableSize+availableHeight/2),c.rotate(-(90*(Math.PI/180))),setTextBordersAndBackground(c,b.yAxisLabel,Math.ceil(c.chartTextScale*b.yAxisFontSize),0,0,b.yAxisLabelBorders,b.yAxisLabelBordersColor,Math.ceil(c.chartLineScale*b.yAxisLabelBordersWidth),Math.ceil(c.chartSpaceScale*b.yAxisLabelBordersXSpace),Math.ceil(c.chartSpaceScale*b.yAxisLabelBordersYSpace),b.yAxisLabelBordersStyle,b.yAxisLabelBackgroundColor,"YAXISLABELLEFT"),c.fillTextMultiLine(b.yAxisLabel,0,0,c.textBaseline,Math.ceil(c.chartTextScale*b.yAxisFontSize),!1,b.detectMouseOnText,c,"YLEFTAXISLABEL_TEXTMOUSE",-(90*(Math.PI/180)),J,topNotUsableSize+availableHeight/2,-1,-1),c.stroke(),c.restore()),b.yAxisRight&&(""==b.yAxisLabel2&&(b.yAxisLabel2=b.yAxisLabel),c.save(),c.beginPath(),c.font=b.yAxisFontStyle+" "+Math.ceil(c.chartTextScale*b.yAxisFontSize).toString()+"px "+b.yAxisFontFamily,c.fillStyle=b.yAxisFontColor,c.textAlign="center",c.textBaseline="bottom",c.translate(K,topNotUsableSize+availableHeight/2),c.rotate(+(90*(Math.PI/180))),setTextBordersAndBackground(c,b.yAxisLabel2,Math.ceil(c.chartTextScale*b.yAxisFontSize),0,0,b.yAxisLabelBorders,b.yAxisLabelBordersColor,Math.ceil(c.chartLineScale*b.yAxisLabelBordersWidth),Math.ceil(c.chartSpaceScale*b.yAxisLabelBordersXSpace),Math.ceil(c.chartSpaceScale*b.yAxisLabelBordersYSpace),b.yAxisLabelBordersStyle,b.yAxisLabelBackgroundColor,"YAXISLABELLEFT"),c.fillTextMultiLine(b.yAxisLabel2,0,0,c.textBaseline,Math.ceil(c.chartTextScale*b.yAxisFontSize),!1,b.detectMouseOnText,c,"YRIGHTAXISLABEL_TEXTMOUSE",+(90*(Math.PI/180)),K,topNotUsableSize+availableHeight/2,-1,-1),c.stroke(),c.restore())),L>0&&b.xAxisBottom&&(c.save(),c.beginPath(),c.font=b.xAxisFontStyle+" "+Math.ceil(c.chartTextScale*b.xAxisFontSize).toString()+"px "+b.xAxisFontFamily,c.fillStyle=b.xAxisFontColor,c.textAlign="center",c.textBaseline="bottom",setTextBordersAndBackground(c,b.xAxisLabel,Math.ceil(c.chartTextScale*b.xAxisFontSize),T+availableWidth/2,q,b.xAxisLabelBorders,b.xAxisLabelBordersColor,Math.ceil(c.chartLineScale*b.xAxisLabelBordersWidth),Math.ceil(c.chartSpaceScale*b.xAxisLabelBordersXSpace),Math.ceil(c.chartSpaceScale*b.xAxisLabelBordersYSpace),b.xAxisLabelBordersStyle,b.xAxisLabelBackgroundColor,"XAXISLABEL"),c.translate(T+availableWidth/2,q),c.fillTextMultiLine(b.xAxisLabel,0,0,c.textBaseline,Math.ceil(c.chartTextScale*b.xAxisFontSize),!0,b.detectMouseOnText,c,"XAXISLABEL_TEXTMOUSE",0,T+availableWidth/2,q,-1,-1),c.stroke(),c.restore());var ea;A>1||1==A&&b.showSingleLegend?(ea={dispLegend:!0,xLegendBorderPos:G,yLegendBorderPos:H,legendBorderWidth:X,legendBorderHeight:Y,nbLegendCols:C,xFirstLegendTextPos:E,yFirstLegendTextPos:F,drawLegendOnData:k,reverseLegend:h,legendBox:l,widestLegend:z},0!=b.legendPosY&&4!=b.legendPosY&&0!=b.legendPosX&&4!=b.legendPosX||(drawLegend(ea,a,b,c,m),ea={dispLegend:!1})):ea={dispLegend:!1},""!=b.footNote.trim()&&(c.save(),c.font=b.footNoteFontStyle+" "+Math.ceil(c.chartTextScale*b.footNoteFontSize).toString()+"px "+b.footNoteFontFamily,c.fillStyle=b.footNoteFontColor,c.textAlign="center",c.textBaseline="bottom",setTextBordersAndBackground(c,b.footNote,Math.ceil(c.chartTextScale*b.footNoteFontSize),T+availableWidth/2,w,b.footNoteBorders,b.footNoteBordersColor,Math.ceil(c.chartLineScale*b.footNoteBordersWidth),Math.ceil(c.chartSpaceScale*b.footNoteBordersXSpace),Math.ceil(c.chartSpaceScale*b.footNoteBordersYSpace),b.footNoteBordersStyle,b.footNoteBackgroundColor,"FOOTNOTE"),c.translate(T+availableWidth/2,w),c.fillTextMultiLine(b.footNote,0,0,c.textBaseline,Math.ceil(c.chartTextScale*b.footNoteFontSize),!0,b.detectMouseOnText,c,"FOOTNOTE_TEXTMOUSE",0,T+availableWidth/2,w,-1,-1),c.stroke(),c.restore())}return clrx=T,clrwidth=availableWidth,clry=topNotUsableSize,clrheight=availableHeight,{leftNotUsableSize:T,rightNotUsableSize:U,availableWidth:availableWidth,topNotUsableSize:topNotUsableSize,bottomNotUsableHeightWithoutXLabels:bottomNotUsableHeightWithoutXLabels,bottomNotUsableHeightWithXLabels:bottomNotUsableHeightWithXLabels,availableHeight:availableHeight,widestXLabel:N,highestXLabel:O,widestYLabel:P,widestYLabel2:R,highestYLabel:Q,rotateLabels:V,xLabelPos:W,clrx:clrx,clry:clry,clrwidth:clrwidth,clrheight:clrheight,legendMsr:ea}}function drawLinesDataset(a,b,c,d,e,f){function g(a,f,g,h){0==setOptionValue(1,"LINKTYPE",d,b,e,b.datasets[h].linkType,c.linkType,h,y,{nullvalue:null})&&setOptionValue(1,"BEZIERCURVE",d,b,e,void 0,c.bezierCurve,h,-1,{nullValue:!0})&&(a.length=0,a.push(f),a.push(g)),t=g}function h(a,b,c,d){return yposOrigin="undefined","undefined"!=typeof d[a][b].yPosOffsetOrigin&&(yposOrigin=d[a][b].yAxisPos-s.mainVal*d[a][b].yPosOffsetOrigin),yposOrigin}function i(a,b,c,d,e,f,g,h,i){0==setOptionValue(1,"LINKTYPE",b,f,g,f.datasets[h].linkType,e.linkType,h,y,{nullvalue:null})&&setOptionValue(1,"BEZIERCURVE",b,f,g,void 0,e.bezierCurve,h,-1,{nullValue:!0})?(a.push(c),a.push(d)):0==setOptionValue(1,"LINKTYPE",b,f,g,f.datasets[h].linkType,e.linkType,h,y,{nullvalue:null})?b.lineTo(c,d):1==setOptionValue(1,"LINKTYPE",b,f,g,f.datasets[h].linkType,e.linkType,h,y,{nullvalue:null})?("undefined"!=i?b.moveTo(c,i):b.moveTo(c,g[h][0].xAxisPosY-g[h][0].zeroY),b.lineTo(c,d)):2==setOptionValue(1,"LINKTYPE",b,f,g,f.datasets[h].linkType,e.linkType,h,y,{nullvalue:null})&&"undefined"!=typeof t&&(b.lineTo(c,t),b.lineTo(c,d),t=d)}function j(a,c,d,f){0==setOptionValue(1,"LINKTYPE",c,b,e,b.datasets[f].linkType,d.linkType,f,y,{nullvalue:null})&&setOptionValue(1,"BEZIERCURVE",c,b,e,void 0,d.bezierCurve,f,-1,{nullValue:!0})&&(minimumpos=e[f][0].xAxisPosY,maximumpos=e[f][0].xAxisPosY-e[f][0].calculatedScale.steps*e[f][0].scaleHop,l(c,a,setOptionValue(1,"BEZIERCURVETENSION",c,b,e,void 0,d.bezierCurveTension,f,-1,{nullValue:!0}),minimumpos,maximumpos),a.length=0),t=void 0}function k(a,b,c,d,e,f,g){var h=Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2)),i=Math.sqrt(Math.pow(e-c,2)+Math.pow(f-d,2)),j=g*h/(h+i),k=g-j,l=c+j*(a-e),m=d+j*(b-f),n=c-k*(a-e),o=d-k*(b-f);return[l,m,n,o]}function l(a,d,f,g,h){var i=[],j=d.length;if(d.push(2*d[j-2]-d[j-4]),d.push(2*d[j-1]-d[j-3]),4==j)return a.moveTo(d[0],d[1]),void a.lineTo(d[2],d[3]);for(var l=0;j-2>l;l+=2)i=i.concat(k(d[l],d[l+1],d[l+2],d[l+3],d[l+4],d[l+5],f));for(a.beginPath(),a.strokeStyle=setOptionValue(1,"STROKECOLOR",a,b,e,b.datasets[v].strokeColor,c.defaultStrokeColor,v,y,{nullvalue:null}),a.lineWidth=Math.ceil(a.chartLineScale*setOptionValue(1,"LINEWIDTH",a,b,e,b.datasets[v].datasetStrokeWidth,c.datasetStrokeWidth,v,y,{nullvalue:null})),a.moveTo(d[0],d[1]),a.quadraticCurveTo(i[0],Math.max(Math.min(i[1],g),h),d[2],d[3]),a.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",a,b,e,b.datasets[v].datasetStrokeStyle,c.datasetStrokeStyle,v,y,{nullvalue:null}))),l=2;l<d.length-4;l+=2)m=Math.max(Math.min(i[2*l-1],g),h),n=Math.max(Math.min(i[2*l+1],g),h),a.bezierCurveTo(i[2*l-2],m,i[2*l],n,d[l+2],d[l+3]);a.stroke()}for(var m,n,o,p,q,r,s,t,u=[],v=0;v<b.datasets.length;v++)if(1==setOptionValue(1,"ANIMATION",d,b,e,b.datasets[v].animation,c.animation,v,-1,{nullvalue:null})||a>=1){if(t="undefined","Line"!=e[v][0].tpchart)continue;if(0==e[v].length)continue;if(-1==e[v][0].firstNotMissing)continue;d.save(),d.beginPath(),prevAnimPc={mainVal:0,subVal:0,animVal:0};for(var w=-1,x=-1,y=e[v][0].firstNotMissing;y<=e[v][0].lastNotMissing;y++)if(!(0==prevAnimPc.animVal&&y>e[v][0].firstNotMissing))if(s=animationCorrection(a,b,c,v,y,!0),0==s.mainVal&&prevAnimPc.mainVal>0&&-1!=w)d.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",d,b,e,b.datasets[v].datasetStrokeStyle,c.datasetStrokeStyle,v,y,{nullvalue:null}))),d.stroke(),d.setLineDash([]),c.extrapolateMissingData?(m=e[v][e[v][y].prevNotMissing].yAxisPos-prevAnimPc.mainVal*e[v][e[v][y].prevNotMissing].yPosOffset,n=e[v][y].yAxisPos-prevAnimPc.mainVal*e[v][e[v][y-1].nextNotMissing].yPosOffset,p=e[v][y-1].nextNotMissing-e[v][y].prevNotMissing,q=y-1-e[v][y].prevNotMissing,r=(q+prevAnimPc.subVal)/p,o=m+r*(n-m),i(u,d,e[v][e[v][y].prevNotMissing].xPos+r*(e[v][e[v][y-1].nextNotMissing].xPos-e[v][e[v][y].prevNotMissing].xPos),o,c,b,e,v,h(v,y,b,e)),j(u,d,c,v),d.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",d,b,e,b.datasets[v].datasetStrokeStyle,c.datasetStrokeStyle,v,y,{nullvalue:null}))),d.stroke(),d.setLineDash([]),d.strokeStyle="rgba(0,0,0,0)",c.datasetFill&&1!=setOptionValue(1,"LINKTYPE",d,b,e,b.datasets[v].linkType,c.linkType,v,y,{nullvalue:null})&&(d.lineTo(e[v][e[v][y].prevNotMissing].xPos+r*(e[v][e[v][y-1].nextNotMissing].xPos-e[v][e[v][y].prevNotMissing].xPos),e[v][y].yAxisPos),d.lineTo(e[v][w].xPos,e[v][w].xAxisPosY-e[v][0].zeroY),d.closePath(),d.fillStyle=setOptionValue(1,"COLOR",d,b,e,b.datasets[v].fillColor,c.defaultFillColor,v,y,{animationValue:s.mainVal,xPosLeft:e[v][0].xPos,yPosBottom:Math.max(e[v][0].yAxisPos,e[v][0].yAxisPos-(c.animationLeftToRight?1:1*s.mainVal)*e[v][0].lminvalue_offset),xPosRight:e[v][b.datasets[v].data.length-1].xPos,yPosTop:Math.min(e[v][0].yAxisPos,e[v][0].yAxisPos-(c.animationLeftToRight?1:1*s.mainVal)*e[v][0].lmaxvalue_offset)}),d.fill(),w=-1)):"undefined"!=typeof e[v][y].value&&(i(u,d,e[v][y-1].xPos+prevAnimPc.subVal*(e[v][y].xPos-e[v][y-1].xPos),e[v][y].yAxisPos-prevAnimPc.mainVal*e[v][e[v][y-1].nextNotMissing].yPosOffset,c,b,e,v,h(v,y,b,e)),j(u,d,c,v),d.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",d,b,e,b.datasets[v].datasetStrokeStyle,c.datasetStrokeStyle,v,y,{nullvalue:null}))),d.stroke(),d.setLineDash([]),d.strokeStyle="rgba(0,0,0,0)",c.datasetFill&&1!=setOptionValue(1,"LINKTYPE",d,b,e,b.datasets[v].linkType,c.linkType,v,y,{nullvalue:null})&&(d.lineTo(e[v][y-1].xPos+prevAnimPc.subVal*(e[v][y].xPos-e[v][y-1].xPos),e[v][y].yAxisPos),d.lineTo(e[v][w].xPos,e[v][w].xAxisPosY-e[v][0].zeroY),d.closePath(),d.fillStyle=setOptionValue(1,"COLOR",d,b,e,b.datasets[v].fillColor,c.defaultFillColor,v,y,{animationValue:s.mainVal,xPosLeft:e[v][0].xPos,yPosBottom:Math.max(e[v][0].yAxisPos,e[v][0].yAxisPos-(c.animationLeftToRight?1:1*s.mainVal)*e[v][0].lminvalue_offset),xPosRight:e[v][b.datasets[v].data.length-1].xPos,yPosTop:Math.min(e[v][0].yAxisPos,e[v][0].yAxisPos-(c.animationLeftToRight?1:1*s.mainVal)*e[v][0].lmaxvalue_offset)}),d.fill())),prevAnimPc=s;else switch(0==s.totVal?(d.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",d,b,e,b.datasets[v].datasetStrokeStyle,c.datasetStrokeStyle,v,y,{nullvalue:null}))),d.stroke(),d.setLineDash([]),d.strokeStyle="rgba(0,0,0,0)"):(d.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",d,b,e,b.datasets[v].datasetStrokeStyle,c.datasetStrokeStyle,v,y,{nullvalue:null}))),d.stroke(),d.setLineDash([]),d.strokeStyle=setOptionValue(1,"STROKECOLOR",d,b,e,b.datasets[v].strokeColor,c.defaultStrokeColor,v,y,{nullvalue:null})),prevAnimPc=s,typeof b.datasets[v].data[y]){case"undefined":if(c.extrapolateMissingData)s.subVal>0&&(x=e[v][y].xPos+s.subVal*(e[v][y+1].xPos-e[v][y].xPos),m=e[v][e[v][y+1].prevNotMissing].yAxisPos-e[v][e[v][y+1].prevNotMissing].yPosOffset,n=e[v][e[v][y].nextNotMissing].yAxisPos-e[v][e[v][y].nextNotMissing].yPosOffset,p=e[v][y].nextNotMissing-e[v][y+1].prevNotMissing,q=y-e[v][y+1].prevNotMissing,r=(q+prevAnimPc.subVal)/p,o=m+r*(n-m),i(u,d,e[v][e[v][y].prevNotMissing].xPos+r*(e[v][e[v][y-1].nextNotMissing].xPos-e[v][e[v][y].prevNotMissing].xPos),o,c,b,e,v,h(v,y,b,e)));else{if(-1==w)continue;j(u,d,c,v),d.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",d,b,e,b.datasets[v].datasetStrokeStyle,c.datasetStrokeStyle,v,y,{nullvalue:null}))),d.stroke(),d.setLineDash([]),c.datasetFill&&-1!=w&&1!=setOptionValue(1,"LINKTYPE",d,b,e,b.datasets[v].linkType,c.linkType,v,y,{nullvalue:null})&&(x=-1,d.strokeStyle="rgba(0,0,0,0)",d.lineTo(e[v][y-1].xPos,e[v][y-1].yAxisPos),d.lineTo(e[v][w].xPos,e[v][w].yAxisPos),d.closePath(),d.fillStyle=setOptionValue(1,"COLOR",d,b,e,b.datasets[v].fillColor,c.defaultFillColor,v,y,{animationValue:s.mainVal,xPosLeft:e[v][0].xPos,yPosBottom:Math.max(e[v][0].yAxisPos,e[v][0].yAxisPos-(c.animationLeftToRight?1:1*s.mainVal)*e[v][0].lminvalue_offset),xPosRight:e[v][b.datasets[v].data.length-1].xPos,yPosTop:Math.min(e[v][0].yAxisPos,e[v][0].yAxisPos-(c.animationLeftToRight?1:1*s.mainVal)*e[v][0].lmaxvalue_offset)}),d.fill()),d.beginPath(),prevAnimPc={mainVal:0,subVal:0},w=-1}break;default:d.lineWidth=Math.ceil(d.chartLineScale*setOptionValue(1,"LINEWIDTH",d,b,e,b.datasets[v].datasetStrokeWidth,c.datasetStrokeWidth,v,y,{nullvalue:null})),-1==w?(w=y,d.beginPath(),1==setOptionValue(1,"LINKTYPE",d,b,e,b.datasets[v].linkType,c.linkType,v,y,{nullvalue:null})?("undefined"!=typeof e[v][y].yPosOffsetOrigin?d.moveTo(e[v][y].xPos,e[v][y].yAxisPos-s.mainVal*e[v][y].yPosOffsetOrigin):d.moveTo(e[v][w].xPos,e[v][w].xAxisPosY-e[v][0].zeroY),d.lineTo(e[v][y].xPos,e[v][y].yAxisPos-s.mainVal*e[v][y].yPosOffset)):d.moveTo(e[v][y].xPos,e[v][y].yAxisPos-s.mainVal*e[v][y].yPosOffset),g(u,e[v][y].xPos,e[v][y].yAxisPos-s.mainVal*e[v][y].yPosOffset,v),x=e[v][y].xPos):(x=e[v][y].xPos,i(u,d,e[v][y].xPos,e[v][y].yAxisPos-s.mainVal*e[v][y].yPosOffset,c,b,e,v,h(v,y,b,e))),s.subVal>0&&-1!=e[v][y].nextNotMissing&&(c.extrapolateMissing||e[v][y].nextNotMissing==y+1)&&(x=e[v][y].xPos+s.subVal*(e[v][y+1].xPos-e[v][y].xPos),m=e[v][e[v][y+1].prevNotMissing].yAxisPos-e[v][e[v][y+1].prevNotMissing].yPosOffset,n=e[v][e[v][y].nextNotMissing].yAxisPos-e[v][e[v][y].nextNotMissing].yPosOffset,o=m+s.subVal*(n-m),i(u,d,e[v][y].xPos+s.subVal*(e[v][e[v][y].nextNotMissing].xPos-e[v][y].xPos),o,c,b,e,v,h(v,y,b,e)))}if(j(u,d,c,v),d.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",d,b,e,b.datasets[v].datasetStrokeStyle,c.datasetStrokeStyle,v,y,{nullvalue:null}))),d.stroke(),d.setLineDash([]),c.datasetFill&&1!=setOptionValue(1,"LINKTYPE",d,b,e,b.datasets[v].linkType,c.linkType,v,y,{nullvalue:null})&&w>=0&&(d.strokeStyle="rgba(0,0,0,0)",d.lineTo(x,e[v][0].xAxisPosY-e[v][0].zeroY),d.lineTo(e[v][w].xPos,e[v][w].xAxisPosY-e[v][0].zeroY),d.closePath(),d.fillStyle=setOptionValue(1,"COLOR",d,b,e,b.datasets[v].fillColor,c.defaultFillColor,v,-1,{animationValue:s.mainVal,xPosLeft:e[v][0].xPos,yPosBottom:Math.max(e[v][0].yAxisPos,e[v][0].yAxisPos-(c.animationLeftToRight?1:1*s.mainVal)*e[v][0].lminvalue_offset),xPosRight:e[v][b.datasets[v].data.length-1].xPos,yPosTop:Math.min(e[v][0].yAxisPos,e[v][0].yAxisPos-(c.animationLeftToRight?1:1*s.mainVal)*e[v][0].lmaxvalue_offset)}),d.fill()),d.restore(),c.pointDot&&a>=1)for(y=0;y<b.datasets[v].data.length;y++)if("undefined"!=typeof b.datasets[v].data[y]&&(s=animationCorrection(a,b,c,v,y,!0),s.mainVal>0||!c.animationLeftToRight)){d.beginPath(),d.fillStyle=setOptionValue(1,"MARKERFILLCOLOR",d,b,e,b.datasets[v].pointColor,c.defaultStrokeColor,v,y,{nullvalue:!0}),d.strokeStyle=setOptionValue(1,"MARKERSTROKESTYLE",d,b,e,b.datasets[v].pointStrokeColor,c.defaultStrokeColor,v,y,{nullvalue:!0}),d.lineWidth=setOptionValue(d.chartLineScale,"MARKERLINEWIDTH",d,b,e,b.datasets[v].pointDotStrokeWidth,c.pointDotStrokeWidth,v,y,{nullvalue:!0});var z=setOptionValue(1,"MARKERSHAPE",d,b,e,b.datasets[v].markerShape,c.markerShape,v,y,{nullvalue:!0}),A=setOptionValue(d.chartSpaceScale,"MARKERRADIUS",d,b,e,b.datasets[v].pointDotRadius,c.pointDotRadius,v,y,{nullvalue:!0}),B=setOptionValue(1,"MARKERSTROKESTYLE",d,b,e,b.datasets[v].pointDotStrokeStyle,c.pointDotStrokeStyle,v,y,{nullvalue:!0});drawMarker(d,e[v][y].xPos,e[v][y].yAxisPos-s.mainVal*e[v][y].yPosOffset,z,A,B)}if(a>=c.animationStopValue)for(y=0;y<b.datasets[v].data.length;y++)if("undefined"!=typeof b.datasets[v].data[y]&&(jsGraphAnnotate[d.ChartNewId][jsGraphAnnotate[d.ChartNewId].length]=["POINT",v,y,e,setOptionValue(1,"ANNOTATEDISPLAY",d,b,e,b.datasets[v].annotateDisplay,c.annotateDisplay,v,y,{nullValue:!0})],setOptionValue(1,"INGRAPHDATASHOW",d,b,e,b.datasets[v].inGraphDataShow,c.inGraphDataShow,v,y,{nullValue:!0}))){d.save(),d.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",d,b,e,void 0,c.inGraphDataAlign,v,y,{nullValue:!0}),d.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",d,b,e,void 0,c.inGraphDataVAlign,v,y,{nullValue:!0}),d.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",d,b,e,void 0,c.inGraphDataFontStyle,v,y,{nullValue:!0})+" "+setOptionValue(d.chartTextScale,"INGRAPHDATAFONTSIZE",d,b,e,void 0,c.inGraphDataFontSize,v,y,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",d,b,e,void 0,c.inGraphDataFontFamily,v,y,{nullValue:!0}),d.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",d,b,e,void 0,c.inGraphDataFontColor,v,y,{nullValue:!0});var C=setOptionValue(d.chartSpaceScale,"INGRAPHDATAPADDINGX",d,b,e,void 0,c.inGraphDataPaddingX,v,y,{nullValue:!0}),D=setOptionValue(d.chartSpaceScale,"INGRAPHDATAPADDINGY",d,b,e,void 0,c.inGraphDataPaddingY,v,y,{nullValue:!0}),E=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",d,b,e,void 0,c.inGraphDataTmpl,v,y,{nullValue:!0}),e[v][y],c);d.translate(e[v][y].xPos+C,e[v][y].yAxisPos-s.mainVal*e[v][y].yPosOffset-D);var F=setOptionValue(1,"INGRAPHDATAROTATE",d,b,e,void 0,c.inGraphDataRotate,v,y,{nullValue:!0})*(Math.PI/180);d.rotate(F),setTextBordersAndBackground(d,E,setOptionValue(d.chartTextScale,"INGRAPHDATAFONTSIZE",d,b,e,void 0,c.inGraphDataFontSize,v,y,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",d,b,e,void 0,c.inGraphDataBorders,v,y,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",d,b,e,void 0,c.inGraphDataBordersColor,v,y,{nullValue:!0}),setOptionValue(d.chartLineScale,"INGRAPHDATABORDERSWIDTH",d,b,e,void 0,c.inGraphDataBordersWidth,v,y,{nullValue:!0}),setOptionValue(d.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",d,b,e,void 0,c.inGraphDataBordersXSpace,v,y,{nullValue:!0}),setOptionValue(d.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",d,b,e,void 0,c.inGraphDataBordersYSpace,v,y,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",d,b,e,void 0,c.inGraphDataBordersStyle,v,y,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",d,b,e,void 0,c.inGraphDataBackgroundColor,v,y,{nullValue:!0}),"INGRAPHDATA"),d.fillTextMultiLine(E,0,0,d.textBaseline,setOptionValue(d.chartTextScale,"INGRAPHDATAFONTSIZE",d,b,e,void 0,c.inGraphDataFontSize,v,y,{nullValue:!0}),!0,c.detectMouseOnText,d,"INGRAPHDATA_TEXTMOUSE",F,e[v][y].xPos+C,e[v][y].yAxisPos-s.mainVal*e[v][y].yPosOffset-D,v,y),d.restore()}}d.setLineDash([])}function log10(a){return Math.log(a)/Math.LN10}function setRect(a,b){b.clearRect?b.multiGraph||(clear(a),a.clearRect(0,0,width,height)):(clear(a),a.clearRect(0,0,width,height),a.fillStyle=b.savePngBackgroundColor,a.strokeStyle=b.savePngBackgroundColor,a.beginPath(),a.moveTo(0,0),a.lineTo(0,a.canvas.height),a.lineTo(a.canvas.width,a.canvas.height),a.lineTo(a.canvas.width,0),a.lineTo(0,0),a.stroke(),a.fill())}function chartJsMouseDown(a,b,c,d,e){1==a.which&&"function"==typeof c.mouseDownLeft?c.mouseDownLeft(a,b,c,d,e):2==a.which&&"function"==typeof c.mouseDownMiddle?c.mouseDownMiddle(a,b,c,d,e):3==a.which&&"function"==typeof c.mouseDownRight&&c.mouseDownRight(a,b,c,d,e)}function defMouse(a,b,c){function d(d,e,f){function g(d){(null==f||f(d))&&doMouseAction(c,a,d,b,"mouseaction",e)}if("function"==typeof e){var h=d+" "+e.name;h in a._eventListeners&&(a.canvas.removeEventListener?a.canvas.removeEventListener(d,a._eventListeners[h]):a.canvas.detachEvent&&a.canvas.detachEvent(d,a._eventListeners[h])),a._eventListeners[h]=g,a.canvas.addEventListener?("mousewheel"==d&&(d="DOMMouseScroll"),a.canvas.addEventListener(d,g,!1)):a.canvas.attachEvent&&a.canvas.attachEvent("on"+d,g)}}isBooleanOptionTrue(void 0,c.annotateDisplay)&&(0==cursorDivCreated&&(oCursor=new makeCursorObj("divCursor")),isIE()<9&&0!=isIE()?a.canvas.attachEvent("on"+c.annotateFunction.split(" ")[0],function(d){("left"==c.annotateFunction.split(" ")[1]&&1==d.which||"middle"==c.annotateFunction.split(" ")[1]&&2==d.which||"right"==c.annotateFunction.split(" ")[1]&&3==d.which||"string"!=typeof c.annotateFunction.split(" ")[1])&&doMouseAction(c,a,d,b,"annotate",c.mouseDownRight)}):a.canvas.addEventListener(c.annotateFunction.split(" ")[0],function(d){("left"==c.annotateFunction.split(" ")[1]&&1==d.which||"middle"==c.annotateFunction.split(" ")[1]&&2==d.which||"right"==c.annotateFunction.split(" ")[1]&&3==d.which||"string"!=typeof c.annotateFunction.split(" ")[1])&&doMouseAction(c,a,d,b,"annotate",c.mouseDownRight)},!1)),c.savePng&&(isIE()<9&&0!=isIE()?a.canvas.attachEvent("on"+c.savePngFunction.split(" ")[0],function(d){("left"==c.savePngFunction.split(" ")[1]&&1==d.which||"middle"==c.savePngFunction.split(" ")[1]&&2==d.which||"right"==c.savePngFunction.split(" ")[1]&&3==d.which||"string"!=typeof c.savePngFunction.split(" ")[1])&&saveCanvas(a,b,c)}):a.canvas.addEventListener(c.savePngFunction.split(" ")[0],function(d){("left"==c.savePngFunction.split(" ")[1]&&1==d.which||"middle"==c.savePngFunction.split(" ")[1]&&2==d.which||"right"==c.savePngFunction.split(" ")[1]&&3==d.which||"string"!=typeof c.savePngFunction.split(" ")[1])&&saveCanvas(a,b,c)},!1)),isIE()<9&&0!=isIE()?a.canvas.attachEvent("onmousewheel",function(a){cursorDivCreated&&(document.getElementById("divCursor").style.display="none")}):a.canvas.addEventListener("DOMMouseScroll",function(a){cursorDivCreated&&(document.getElementById("divCursor").style.display="none")},!1),"function"==typeof c.mouseDownRight?d("mousedown",chartJsMouseDown,function(a){return 1==a.which||2==a.which||3==a.which}):"function"==typeof c.mouseDownLeft?d("mousedown",chartJsMouseDown,function(a){return 1==a.which||2==a.which||3==a.which}):"function"==typeof c.mouseDownMiddle&&d("mousedown",chartJsMouseDown,function(a){return 1==a.which||2==a.which||3==a.which}),d("mousemove",c.mouseMove),d("mouseout",c.mouseOut),d("mousewheel",c.mouseWheel)}var chart=this,animationOptions={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return-1*a*(a-2)},easeInOutQuad:function(a){return(a/=.5)<1?.5*a*a:-0.5*(--a*(a-2)-1)},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return 1*((a=a/1-1)*a*a+1)},easeInOutCubic:function(a){return(a/=.5)<1?.5*a*a*a:.5*((a-=2)*a*a+2)},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return-1*((a=a/1-1)*a*a*a-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)},easeInQuint:function(a){return 1*(a/=1)*a*a*a*a},easeOutQuint:function(a){return 1*((a=a/1-1)*a*a*a*a+1)},easeInOutQuint:function(a){return(a/=.5)<1?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},easeInSine:function(a){return-1*Math.cos(a/1*(Math.PI/2))+1},easeOutSine:function(a){return 1*Math.sin(a/1*(Math.PI/2))},easeInOutSine:function(a){return-0.5*(Math.cos(Math.PI*a/1)-1)},easeInExpo:function(a){return 0==a?1:1*Math.pow(2,10*(a/1-1))},easeOutExpo:function(a){return 1==a?1:1*(-Math.pow(2,-10*a/1)+1)},easeInOutExpo:function(a){return 0==a?0:1==a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*--a)+2)},easeInCirc:function(a){return a>=1?a:-1*(Math.sqrt(1-(a/=1)*a)-1)},easeOutCirc:function(a){return 1*Math.sqrt(1-(a=a/1-1)*a)},easeInOutCirc:function(a){return(a/=.5)<1?-0.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeInElastic:function(a){var b=1.70158,c=0,d=1;return 0==a?0:1==(a/=1)?1:(c||(c=.3),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),-(d*Math.pow(2,10*(a-=1))*Math.sin((1*a-b)*(2*Math.PI)/c)))},easeOutElastic:function(a){var b=1.70158,c=0,d=1;return 0==a?0:1==(a/=1)?1:(c||(c=.3),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),d*Math.pow(2,-10*a)*Math.sin((1*a-b)*(2*Math.PI)/c)+1)},easeInOutElastic:function(a){var b=1.70158,c=0,d=1;return 0==a?0:2==(a/=.5)?1:(c||(c=1*(.3*1.5)),d<Math.abs(1)?(d=1,b=c/4):b=c/(2*Math.PI)*Math.asin(1/d),1>a?-.5*(d*Math.pow(2,10*(a-=1))*Math.sin((1*a-b)*(2*Math.PI)/c)):d*Math.pow(2,-10*(a-=1))*Math.sin((1*a-b)*(2*Math.PI)/c)*.5+1)},easeInBack:function(a){var b=1.70158;return 1*(a/=1)*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return 1*((a=a/1-1)*a*((b+1)*a+b)+1)},easeInOutBack:function(a){var b=1.70158;return(a/=.5)<1?.5*(a*a*(((b*=1.525)+1)*a-b)):.5*((a-=2)*a*(((b*=1.525)+1)*a+b)+2)},easeInBounce:function(a){return 1-animationOptions.easeOutBounce(1-a)},easeOutBounce:function(a){return(a/=1)<1/2.75?1*(7.5625*a*a):2/2.75>a?1*(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?1*(7.5625*(a-=2.25/2.75)*a+.9375):1*(7.5625*(a-=2.625/2.75)*a+.984375)},easeInOutBounce:function(a){return.5>a?.5*animationOptions.easeInBounce(2*a):.5*animationOptions.easeOutBounce(2*a-1)+.5}},width=context.canvas.width,height=context.canvas.height;window.devicePixelRatio&&(context.canvas.style.width=width+"px",context.canvas.style.height=height+"px",context.canvas.height=height*window.devicePixelRatio,context.canvas.width=width*window.devicePixelRatio,context.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(a,b){chart.PolarArea.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,scaleOverlay:!0,scaleOverride:!1,scaleOverride2:!1,scaleGridLinesStep:1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleLineStyle:"solid",scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeStyle:"solid",segmentStrokeWidth:2,animation:!0,animationByData:"ByArc",animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90,totalAmplitude:360,radiusScale:1},isIE()<9&&0!=isIE()&&(chart.PolarArea.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.PolarArea.defaults)),
chart.PolarArea.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.PolarArea.defaults),chart.PolarArea.defaults=mergeChartConfig(chart.PolarArea.defaults,charJSPersonalDefaultOptions),chart.PolarArea.defaults=mergeChartConfig(chart.PolarArea.defaults,charJSPersonalDefaultOptionsPolarArea);var c=b?mergeChartConfig(chart.PolarArea.defaults,b):chart.PolarArea.defaults;return new PolarArea(a,c,context)},this.Radar=function(a,b){chart.Radar.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,yAxisMinimumInterval:"none",scaleGridLinesStep:1,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!1,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineStyle:"solid",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointDotStrokeStyle:"solid",datasetFill:!0,datasetStrokeWidth:2,datasetStrokeStyle:"solid",animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>",pointHitDetectionRadius:10,startAngle:90},isIE()<9&&0!=isIE()&&(chart.Radar.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.Radar.defaults)),chart.Radar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Radar.defaults),chart.Radar.defaults=mergeChartConfig(chart.Radar.defaults,charJSPersonalDefaultOptions),chart.Radar.defaults=mergeChartConfig(chart.Radar.defaults,charJSPersonalDefaultOptionsRadar);var c=b?mergeChartConfig(chart.Radar.defaults,b):chart.Radar.defaults;return new Radar(a,c,context)},this.Pie=function(a,b){chart.Pie.defaults=chart.defaults.PieAndDoughnut,isIE()<9&&0!=isIE()&&(chart.Pie.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.Pie.defaults)),chart.Pie.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Pie.defaults),chart.Pie.defaults=mergeChartConfig(chart.Pie.defaults,charJSPersonalDefaultOptions),chart.Pie.defaults=mergeChartConfig(chart.Pie.defaults,charJSPersonalDefaultOptionsPie);var c=b?mergeChartConfig(chart.Pie.defaults,b):chart.Pie.defaults;return new Pie(a,c,context)},this.Doughnut=function(a,b){chart.Doughnut.defaults=chart.defaults.PieAndDoughnut,isIE()<9&&0!=isIE()&&(chart.Doughnut.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.Doughnut.defaults)),chart.Doughnut.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Doughnut.defaults),chart.Doughnut.defaults=mergeChartConfig(chart.Doughnut.defaults,charJSPersonalDefaultOptions),chart.Doughnut.defaults=mergeChartConfig(chart.Doughnut.defaults,charJSPersonalDefaultOptionsDoughnut);var c=b?mergeChartConfig(chart.Doughnut.defaults,b):chart.Doughnut.defaults;return new Doughnut(a,c,context)},this.Line=function(a,b){chart.Line.defaults={inGraphDataShow:!1,inGraphDataPaddingX:3,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",drawXScaleLine:[{position:"bottom"}],scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleSteps2:null,scaleStepWidth2:null,scaleStartValue2:null,scaleLabel2:"<%=value%>",scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineStyle:"solid",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",logarithmic:!1,logarithmic2:!1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,bezierCurve:!0,linkType:0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeStyle:"solid",pointDotStrokeWidth:2,datasetStrokeStyle:"solid",datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",extrapolateMissingData:!0,onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>",pointHitDetectionRadius:10},isIE()<9&&0!=isIE()&&(chart.Line.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.Line.defaults)),chart.Line.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Line.defaults),chart.Line.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.Line.defaults),chart.Line.defaults=mergeChartConfig(chart.Line.defaults,charJSPersonalDefaultOptions),chart.Line.defaults=mergeChartConfig(chart.Line.defaults,charJSPersonalDefaultOptionsLine);var c=b?mergeChartConfig(chart.Line.defaults,b):chart.Line.defaults;return new Line(a,c,context)},this.StackedBar=function(a,b){chart.StackedBar.defaults={annotateBarMinimumDetectionHeight:0,inGraphDataShow:!1,inGraphDataPaddingX:0,inGraphDataPaddingY:-3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"top",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineStyle:"solid",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,pointDot:!0,pointDotRadius:4,pointDotStrokeStyle:"solid",pointDotStrokeWidth:2,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,spaceBetweenBar:0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,bezierCurve:!0,linkType:0,bezierCurveTension:.4,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>",pointHitDetectionRadius:10},isIE()<9&&0!=isIE()&&(chart.StackedBar.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.StackedBar.defaults)),chart.StackedBar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.StackedBar.defaults),chart.StackedBar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.StackedBar.defaults),chart.StackedBar.defaults=mergeChartConfig(chart.StackedBar.defaults,charJSPersonalDefaultOptions),chart.StackedBar.defaults=mergeChartConfig(chart.StackedBar.defaults,charJSPersonalDefaultOptionsStackedBar);var c=b?mergeChartConfig(chart.StackedBar.defaults,b):chart.StackedBar.defaults;return new StackedBar(a,c,context)},this.HorizontalStackedBar=function(a,b){chart.HorizontalStackedBar.defaults={annotateBarMinimumDetectionHeight:0,inGraphDataShow:!1,inGraphDataPaddingX:-3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"right",inGraphDataVAlign:"middle",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineStyle:"solid",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:!0,rotateLabels:"smart",barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,spaceBetweenBar:0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>",reverseOrder:!1},isIE()<9&&0!=isIE()&&(chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.HorizontalStackedBar.defaults)),chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.HorizontalStackedBar.defaults),chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.HorizontalStackedBar.defaults),chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.HorizontalStackedBar.defaults,charJSPersonalDefaultOptions),chart.HorizontalStackedBar.defaults=mergeChartConfig(chart.HorizontalStackedBar.defaults,charJSPersonalDefaultOptionsHorizontalStackedBar);var c=b?mergeChartConfig(chart.HorizontalStackedBar.defaults,b):chart.HorizontalStackedBar.defaults;return new HorizontalStackedBar(a,c,context)},this.Bar=function(a,b){chart.Bar.defaults={annotateBarMinimumDetectionHeight:0,inGraphDataShow:!1,inGraphDataPaddingX:0,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleSteps2:null,scaleStepWidth2:null,scaleStartValue2:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleLabel2:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleGridLineStyle:"solid",showYAxisMin:!0,rotateLabels:"smart",logarithmic:!1,logarithmic2:!1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,barBorderRadius:0,pointDot:!0,pointDotRadius:4,pointDotStrokeStyle:"solid",pointDotStrokeWidth:2,extrapolateMissingData:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,bezierCurve:!0,linkType:0,bezierCurveTension:.4,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>",pointHitDetectionRadius:10},isIE()<9&&0!=isIE()&&(chart.Bar.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.Bar.defaults)),chart.Bar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.Bar.defaults),chart.Bar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.Bar.defaults),chart.Bar.defaults=mergeChartConfig(chart.Bar.defaults,charJSPersonalDefaultOptions),chart.Bar.defaults=mergeChartConfig(chart.Bar.defaults,charJSPersonalDefaultOptionsBar);var c=b?mergeChartConfig(chart.Bar.defaults,b):chart.Bar.defaults;return new Bar(a,c,context)},this.HorizontalBar=function(a,b){chart.HorizontalBar.defaults={annotateBarMinimumDetectionHeight:0,inGraphDataShow:!1,inGraphDataPaddingX:3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"middle",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:!1,scaleOverride:!1,scaleOverride2:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineStyle:"solid",scaleLineWidth:1,scaleShowLabels:!0,scaleShowLabels2:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineStyle:"solid",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:!0,rotateLabels:"smart",barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,barBorderRadius:0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>",reverseOrder:!1},isIE()<9&&0!=isIE()&&(chart.HorizontalBar.defaults=mergeChartConfig(chart.defaults.IExplorer8,chart.HorizontalBar.defaults)),chart.HorizontalBar.defaults=mergeChartConfig(chart.defaults.commonOptions,chart.HorizontalBar.defaults),chart.HorizontalBar.defaults=mergeChartConfig(chart.defaults.xyAxisCommonOptions,chart.HorizontalBar.defaults),chart.HorizontalBar.defaults=mergeChartConfig(chart.HorizontalBar.defaults,charJSPersonalDefaultOptions),chart.HorizontalBar.defaults=mergeChartConfig(chart.HorizontalBar.defaults,charJSPersonalDefaultOptionsHorizontalBar);var c=b?mergeChartConfig(chart.HorizontalBar.defaults,b):chart.HorizontalBar.defaults;return new HorizontalBar(a,c,context)},chart.defaults={},chart.defaults.IExplorer8={annotateBackgroundColor:"black",annotateFontColor:"white"},chart.defaults.commonOptions={chartTextScale:1,chartLineScale:1,chartSpaceScale:1,multiGraph:!1,clearRect:!0,dynamicDisplay:!1,dynamicDisplayXPartOfChart:.5,dynamicDisplayYPartOfChart:.5,animationForceSetTimeOut:!1,graphSpaceBefore:5,graphSpaceAfter:5,canvasBorders:!1,canvasBackgroundColor:"none",canvasBordersWidth:3,canvasBordersStyle:"solid",canvasBordersColor:"black",zeroValue:1e-10,graphTitle:"",graphTitleFontFamily:"'Arial'",graphTitleFontSize:24,graphTitleFontStyle:"bold",graphTitleFontColor:"#666",graphTitleSpaceBefore:5,graphTitleSpaceAfter:5,graphTitleBorders:!1,graphTitleBordersColor:"black",graphTitleBordersXSpace:3,graphTitleBordersYSpace:3,graphTitleBordersWidth:1,graphTitleBordersStyle:"solid",graphTitleBackgroundColor:"none",graphSubTitle:"",graphSubTitleFontFamily:"'Arial'",graphSubTitleFontSize:18,graphSubTitleFontStyle:"normal",graphSubTitleFontColor:"#666",graphSubTitleSpaceBefore:5,graphSubTitleSpaceAfter:5,graphSubTitleBorders:!1,graphSubTitleBordersColor:"black",graphSubTitleBordersXSpace:3,graphSubTitleBordersYSpace:3,graphSubTitleBordersWidth:1,graphSubTitleBordersStyle:"solid",graphSubTitleBackgroundColor:"none",footNote:"",footNoteFontFamily:"'Arial'",footNoteFontSize:8,footNoteFontStyle:"bold",footNoteFontColor:"#666",footNoteSpaceBefore:5,footNoteSpaceAfter:5,footNoteBorders:!1,footNoteBordersColor:"black",footNoteBordersXSpace:3,footNoteBordersYSpace:3,footNoteBordersWidth:1,footNoteBordersStyle:"solid",footNoteBackgroundColor:"none",legend:!1,showSingleLegend:!1,maxLegendCols:999,legendPosY:4,legendPosX:-2,legendFontFamily:"'Arial'",legendFontSize:12,legendFontStyle:"normal",legendFontColor:"#666",legendBlockSize:15,legendBorders:!0,legendBordersStyle:"solid",legendBordersWidth:1,legendBordersColors:"#666",legendBordersSpaceBefore:5,legendBordersSpaceAfter:5,legendBordersSpaceLeft:5,legendBordersSpaceRight:5,legendSpaceBeforeText:5,legendSpaceAfterText:5,legendSpaceLeftText:5,legendSpaceRightText:5,legendSpaceBetweenTextVertical:5,legendSpaceBetweenTextHorizontal:5,legendSpaceBetweenBoxAndText:5,legendFillColor:"rgba(0,0,0,0)",legendXPadding:0,legendYPadding:0,inGraphDataBorders:!1,inGraphDataBordersColor:"black",inGraphDataBordersXSpace:3,inGraphDataBordersYSpace:3,inGraphDataBordersWidth:1,inGraphDataBordersStyle:"solid",inGraphDataBackgroundColor:"none",annotateDisplay:!1,annotateRelocate:!1,savePng:!1,savePngOutput:"NewWindow",savePngFunction:"mousedown right",savePngBackgroundColor:"WHITE",annotateFunction:"mousemove",annotateFontFamily:"'Arial'",annotateBorder:"none",annotateBorderRadius:"2px",annotateBackgroundColor:"rgba(0,0,0,0.8)",annotateFontSize:12,annotateFontColor:"white",annotateFontStyle:"normal",annotatePadding:"3px",annotateClassName:"",annotateFunctionIn:null,annotateFunctionOut:null,detectMouseOnText:!1,crossText:[""],crossTextIter:["all"],crossTextOverlay:[!0],crossTextFontFamily:["'Arial'"],crossTextFontSize:[12],crossTextFontStyle:["normal"],crossTextFontColor:["rgba(220,220,220,1)"],crossTextRelativePosX:[2],crossTextRelativePosY:[2],crossTextBaseline:["middle"],crossTextAlign:["center"],crossTextPosX:[0],crossTextPosY:[0],crossTextAngle:[0],crossTextFunction:null,crossTextBorders:[!1],crossTextBordersColor:["black"],crossTextBordersXSpace:[3],crossTextBordersYSpace:[3],crossTextBordersWidth:[1],crossTextBordersStyle:["solid"],crossTextBackgroundColor:["none"],crossImage:[void 0],crossImageIter:["all"],crossImageOverlay:[!0],crossImageRelativePosX:[2],crossImageRelativePosY:[2],crossImageBaseline:["middle"],crossImageAlign:["center"],crossImagePosX:[0],crossImagePosY:[0],crossImageAngle:[0],spaceTop:0,spaceBottom:0,spaceRight:0,spaceLeft:0,decimalSeparator:".",thousandSeparator:"",roundNumber:"none",roundPct:-1,templatesOpenTag:"<%=",templatesCloseTag:"%>",fmtV1:"none",fmtV2:"none",fmtV3:"none",fmtV4:"none",fmtV5:"none",fmtV6:"none",fmtV6T:"none",fmtV7:"none",fmtV8:"none",fmtV8T:"none",fmtV9:"none",fmtV10:"none",fmtV11:"none",fmtV12:"none",fmtV13:"none",fmtXLabel:"none",fmtYLabel:"none",fmtYLabel2:"none",fmtLegend:"none",animationStartValue:0,animationStopValue:1,animationCount:1,animationPauseTime:5,animationBackward:!1,animationStartWithDataset:1,animationStartWithData:1,animationLeftToRight:!1,animationByDataset:!1,defaultStrokeColor:"rgba(220,220,220,1)",defaultFillColor:"rgba(220,220,220,0.5)",defaultLineWidth:2,graphMaximized:!1,contextMenu:!0,mouseDownRight:null,mouseDownLeft:null,mouseDownMiddle:null,mouseMove:null,mouseOut:null,mouseWheel:null,savePngName:"canvas",responsive:!1,responsiveMinWidth:0,responsiveMinHeight:0,responsiveMaxWidth:9999999,responsiveMaxHeight:9999999,maintainAspectRatio:!0,responsiveScaleContent:!1,responsiveWindowInitialWidth:!1,pointMarker:"circle",initFunction:null,beforeDrawFunction:null,endDrawDataFunction:null,endDrawScaleFunction:null},chart.defaults.PieAndDoughnut={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,inGraphDataMinimumAngle:0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeStyle:"solid",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationByData:!1,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90,totalAmplitude:360,radiusScale:1},chart.defaults.xyAxisCommonOptions={maxBarWidth:-1,yAxisMinimumInterval:"none",yAxisMinimumInterval2:"none",yScaleLabelsMinimumWidth:0,xScaleLabelsMinimumWidth:0,yAxisLeft:!0,yAxisRight:!1,xAxisBottom:!0,xAxisTop:!1,xAxisSpaceBetweenLabels:5,fullWidthGraph:!1,yAxisLabel:"",yAxisLabel2:"",yAxisFontFamily:"'Arial'",yAxisFontSize:16,yAxisFontStyle:"normal",yAxisFontColor:"#666",yAxisLabelSpaceRight:5,yAxisLabelSpaceLeft:5,yAxisSpaceRight:5,yAxisSpaceLeft:5,yAxisLabelBorders:!1,yAxisLabelBordersColor:"black",yAxisLabelBordersXSpace:3,yAxisLabelBordersYSpace:3,yAxisLabelBordersWidth:1,yAxisLabelBordersStyle:"solid",yAxisLabelBackgroundColor:"none",xAxisLabel:"",xAxisFontFamily:"'Arial'",xAxisFontSize:16,xAxisFontStyle:"normal",xAxisFontColor:"#666",xAxisLabelSpaceBefore:5,xAxisLabelSpaceAfter:5,xAxisSpaceBefore:5,xAxisSpaceAfter:5,xAxisLabelBorders:!1,xAxisLabelBordersColor:"black",xAxisLabelBordersXSpace:3,xAxisLabelBordersYSpace:3,xAxisLabelBordersWidth:1,xAxisLabelBordersStyle:"solid",xAxisLabelBackgroundColor:"none",showXLabels:1,firstLabelToShow:1,showYLabels:1,firstYLabelToShow:1,yAxisUnit:"",yAxisUnit2:"",yAxisUnitFontFamily:"'Arial'",yAxisUnitFontSize:8,yAxisUnitFontStyle:"normal",yAxisUnitFontColor:"#666",yAxisUnitSpaceBefore:5,yAxisUnitSpaceAfter:5,yAxisUnitBorders:!1,yAxisUnitBordersColor:"black",yAxisUnitBordersXSpace:3,yAxisUnitBordersYSpace:3,yAxisUnitBordersWidth:1,yAxisUnitBordersStyle:"solid",yAxisUnitBackgroundColor:"none"};var clear=function(a){a.clearRect(0,0,width,height)},PolarArea=function(a,b,c){function d(d){var e=t[0].firstAngle,f=0,i=t[0].firstAngle;1*b.animationStartWithData>1&&1*b.animationStartWithData-1<a.length&&(f=t[b.animationStartWithData-1].startAngle-t[0].firstAngle,i=t[b.animationStartWithData-1].startAngle);for(var j=0;j<a.length;j++){var k=1,l=1;if(b.animation&&(b.animateScale&&(k=d),b.animateRotate&&(l=d)),correctedRotateAnimation=animationCorrection(l,a,b,j,-1,!1).mainVal,"undefined"!=typeof a[j].value){if(c.beginPath(),"ByArc"==b.animationByData)endAngle=t[j].startAngle+correctedRotateAnimation*t[j].segmentAngle,c.arc(n,o,k*t[j].radiusOffset,t[j].startAngle,endAngle,!1);else if(b.animationByData)if(j<1*b.animationStartWithData-1)c.arc(midPieX,midPieY,k*t[j].radiusOffset,t[j].startAngle,t[j].endAngle,!1);else{if(!(t[j].startAngle<=i+correctedRotateAnimation*(2*Math.PI-f)))continue;endAngle=t[j].endAngle,t[j].endAngle>i+correctedRotateAnimation*(2*Math.PI-f)&&(endAngle=i+correctedRotateAnimation*(2*Math.PI-f)),c.arc(midPieX,midPieY,k*t[j].radiusOffset,t[j].startAngle,endAngle,!1)}else c.arc(midPieX,midPieY,k*t[j].radiusOffset,e,e+correctedRotateAnimation*(t[j].endAngle-t[j].startAngle),!1),e+=correctedRotateAnimation*(t[j].endAngle-t[j].startAngle);c.lineTo(n,o),c.closePath(),c.fillStyle=setOptionValue(1,"COLOR",c,a,t,a[j].color,b.defaultFillColor,j,-1,{animationDecimal:d,scaleAnimation:k}),c.fill(),"merge"==b.segmentShowStroke?(c.lineWidth=0,c.strokeStyle=setOptionValue(1,"COLOR",c,a,t,a[j].color,b.defaultFillColor,j,-1,{animationDecimal:d,scaleAnimation:k}),c.setLineDash([]),c.stroke()):b.segmentShowStroke&&(c.strokeStyle=b.segmentStrokeColor,c.lineWidth=Math.ceil(c.chartLineScale*b.segmentStrokeWidth),c.setLineDash(lineStyleFn(setOptionValue(1,"SEGMENTSTROKESTYLE",c,a,t,a[j].segmentStrokeStyle,b.segmentStrokeStyle,j,-1,{animationDecimal:d,scaleAnimation:k}))),c.stroke(),c.setLineDash([]))}}if(d>=b.animationStopValue)for(j=0;j<a.length;j++)if("undefined"!=typeof a[j].value&&(jsGraphAnnotate[c.ChartNewId][jsGraphAnnotate[c.ChartNewId].length]=["ARC",j,-1,t,setOptionValue(1,"ANNOTATEDISPLAY",c,a,t,a[j].annotateDisplay,b.annotateDisplay,j,-1,{nullValue:!0})],setOptionValue(1,"INGRAPHDATASHOW",c,a,t,a[j].inGraphDataShow,b.inGraphDataShow,j,-1,{nullValue:!0}))){1==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",c,a,t,void 0,b.inGraphDataAnglePosition,j,-1,{nullValue:!0})?posAngle=t[j].realStartAngle+setOptionValue(1,"INGRAPHDATAPADDINANGLE",c,a,t,void 0,b.inGraphDataPaddingAngle,j,-1,{nullValue:!0})*(Math.PI/180):2==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",c,a,t,void 0,b.inGraphDataAnglePosition,j,-1,{nullValue:!0})?posAngle=(2*t[j].realStartAngle-t[j].segmentAngle)/2+setOptionValue(1,"INGRAPHDATAPADDINANGLE",c,a,t,void 0,b.inGraphDataPaddingAngle,j,-1,{nullValue:!0})*(Math.PI/180):3==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",c,a,t,void 0,b.inGraphDataAnglePosition,j,-1,{nullValue:!0})&&(posAngle=t[j].realStartAngle-t[j].segmentAngle+setOptionValue(1,"INGRAPHDATAPADDINANGLE",c,a,t,void 0,b.inGraphDataPaddingAngle,j,-1,{nullValue:!0})*(Math.PI/180)),1==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",c,a,t,void 0,b.inGraphDataRadiusPosition,j,-1,{nullValue:!0})?labelRadius=0+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",c,a,t,void 0,b.inGraphDataPaddingRadius,j,-1,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",c,a,t,void 0,b.inGraphDataRadiusPosition,j,-1,{nullValue:!0})?labelRadius=t[j].radiusOffset/2+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",c,a,t,void 0,b.inGraphDataPaddingRadius,j,-1,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",c,a,t,void 0,b.inGraphDataRadiusPosition,j,-1,{nullValue:!0})?labelRadius=t[j].radiusOffset+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",c,a,t,void 0,b.inGraphDataPaddingRadius,j,-1,{nullValue:!0}):4==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",c,a,t,void 0,b.inGraphDataRadiusPosition,j,-1,{nullValue:!0})&&(labelRadius=g*h.steps+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",c,a,t,void 0,b.inGraphDataPaddingRadius,j,-1,{nullValue:!0})),c.save(),"off-center"==setOptionValue(1,"INGRAPHDATAALIGN",c,a,t,void 0,b.inGraphDataAlign,j,-1,{nullValue:!0})?"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",c,a,t,void 0,b.inGraphDataRotate,j,-1,{nullValue:!0})||(posAngle+2*Math.PI)%(2*Math.PI)>=3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<=Math.PI/2?c.textAlign="left":c.textAlign="right":"to-center"==setOptionValue(1,"INGRAPHDATAALIGN",c,a,t,void 0,b.inGraphDataAlign,j,-1,{nullValue:!0})?"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",c,a,t,void 0,b.inGraphDataRotate,j,-1,{nullValue:!0})||(posAngle+2*Math.PI)%(2*Math.PI)>=3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<=Math.PI/2?c.textAlign="right":c.textAlign="left":c.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",c,a,t,void 0,b.inGraphDataAlign,j,-1,{nullValue:!0}),"off-center"==setOptionValue(1,"INGRAPHDATAVALIGN",c,a,t,void 0,b.inGraphDataVAlign,j,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?c.textBaseline="top":c.textBaseline="bottom":"to-center"==setOptionValue(1,"INGRAPHDATAVALIGN",c,a,t,void 0,b.inGraphDataVAlign,j,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?c.textBaseline="bottom":c.textBaseline="top":c.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",c,a,t,void 0,b.inGraphDataVAlign,j,-1,{nullValue:!0}),c.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",c,a,t,void 0,b.inGraphDataFontStyle,j,-1,{nullValue:!0})+" "+setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,t,void 0,b.inGraphDataFontSize,j,-1,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",c,a,t,void 0,b.inGraphDataFontFamily,j,-1,{nullValue:!0}),c.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",c,a,t,void 0,b.inGraphDataFontColor,j,-1,{nullValue:!0});var p=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",c,a,t,void 0,b.inGraphDataTmpl,j,-1,{nullValue:!0}),t[j],b);c.translate(n+labelRadius*Math.cos(posAngle),o-labelRadius*Math.sin(posAngle));var q=0;q="inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",c,a,t,void 0,b.inGraphDataRotate,j,-1,{nullValue:!0})?2*Math.PI-posAngle:"inRadiusAxisRotateLabels"==setOptionValue(1,"INGRAPHDATAROTATE",c,a,t,void 0,b.inGraphDataRotate,j,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?3*Math.PI-posAngle:2*Math.PI-posAngle:setOptionValue(1,"INGRAPHDATAROTATE",c,a,t,void 0,b.inGraphDataRotate,j,-1,{nullValue:!0})*(Math.PI/180),c.rotate(q),setTextBordersAndBackground(c,p,setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,t,void 0,b.inGraphDataFontSize,j,-1,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",c,a,t,void 0,b.inGraphDataBorders,j,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",c,a,t,void 0,b.inGraphDataBordersColor,j,-1,{nullValue:!0}),setOptionValue(c.chartLineScale,"INGRAPHDATABORDERSWIDTH",c,a,t,void 0,b.inGraphDataBordersWidth,j,-1,{nullValue:!0}),setOptionValue(c.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",c,a,t,void 0,b.inGraphDataBordersXSpace,j,-1,{nullValue:!0}),setOptionValue(c.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",c,a,t,void 0,b.inGraphDataBordersYSpace,j,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",c,a,t,void 0,b.inGraphDataBordersStyle,j,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",c,a,t,void 0,b.inGraphDataBackgroundColor,j,-1,{nullValue:!0}),"INGRAPHDATA"),c.fillTextMultiLine(p,0,0,c.textBaseline,setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,t,void 0,b.inGraphDataFontSize,j,-1,{nullValue:!0}),!0,b.detectMouseOnText,c,"INGRAPHDATA_TEXTMOUSE",q,n+labelRadius*Math.cos(posAngle),o-labelRadius*Math.sin(posAngle),j,-1),c.restore()}m.legendMsr.dispLegend&&drawLegend(m.legendMsr,a,b,c,"PolarArea")}function e(){for(var a=0;a<h.steps;a++)if(b.scaleShowLine&&(a+1)%b.scaleGridLinesStep==0&&(c.beginPath(),c.arc(n,o,g*(a+1),4*Math.PI-r,4*Math.PI-s,!0),c.strokeStyle=b.scaleLineColor,c.lineWidth=Math.ceil(c.chartLineScale*b.scaleLineWidth),c.setLineDash(lineStyleFn(b.scaleLineStyle)),c.stroke(),c.setLineDash([])),b.scaleShowLabels){Math.abs(b.totalAmplitude-360)<b.zeroValue?scaleAngle=Math.PI/2:scaleAngle=(r+s)/2,c.textAlign="center",c.font=b.scaleFontStyle+" "+Math.ceil(c.chartTextScale*b.scaleFontSize).toString()+"px "+b.scaleFontFamily;var d=h.labels[a+1];if(b.scaleShowLabelBackdrop){var e=c.measureTextMultiLine(d,Math.ceil(c.chartTextScale*b.scaleFontSize));c.fillStyle=b.scaleBackdropColor,c.beginPath(),c.rect(Math.round(n+Math.cos(scaleAngle)*(g*(a+1))-e/2-Math.ceil(c.chartSpaceScale*b.scaleBackdropPaddingX)),Math.round(o-Math.sin(scaleAngle)*(g*(a+1))-.5*Math.ceil(c.chartTextScale*b.scaleFontSize)-Math.ceil(c.chartSpaceScale*b.scaleBackdropPaddingY)),Math.round(e+2*Math.ceil(c.chartSpaceScale*b.scaleBackdropPaddingX)),Math.round(Math.ceil(c.chartTextScale*b.scaleFontSize)+2*Math.ceil(c.chartSpaceScale*b.scaleBackdropPaddingY))),c.fill()}c.textBaseline="middle",c.fillStyle=b.scaleFontColor,c.fillTextMultiLine(d,n+Math.cos(scaleAngle)*(g*(a+1)),o-Math.sin(scaleAngle)*(g*(a+1)),c.textBaseline,Math.ceil(c.chartTextScale*b.scaleFontSize),!0,b.detectMouseOnText,c,"SCALE_TEXTMOUSE",0,0,0,a,-1)}}function f(){for(var d=-Number.MAX_VALUE,e=Number.MAX_VALUE,f=0;f<a.length;f++)"undefined"!=typeof a[f].value&&(1*a[f].value>d&&(d=1*a[f].value),1*a[f].value<e&&(e=1*a[f].value));e>d&&(d=0,e=0),Math.abs(d-e)<b.zeroValue&&(Math.abs(d)<b.zeroValue&&(d=.9),d>0?(d=1.1*d,e=.9*e):(d=.9*d,e=1.1*e)),"function"==typeof b.graphMin?e=setOptionValue(1,"GRAPHMIN",c,a,t,void 0,b.graphMin,-1,-1,{nullValue:!0}):isNaN(b.graphMin)||(e=b.graphMin),"function"==typeof b.graphMax?d=setOptionValue(1,"GRAPHMAX",c,a,t,void 0,b.graphMax,-1,-1,{nullValue:!0}):isNaN(b.graphMax)||(d=b.graphMax);var g=Math.floor(j/(.66*i)),h=Math.floor(j/i*.5);return e>d&&(e=d-1),{maxValue:d,minValue:e,maxSteps:g,minSteps:h}}var g,h,i,j,k,l,m,n,o;if(c.tpchart="PolarArea",c.tpdata=1,init_and_start(c,a,b)){var p=((b.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),q=((b.totalAmplitude*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI);q<=b.zeroValue&&(q=2*Math.PI);var r=(p-q+4*Math.PI)%(2*Math.PI),s=r+q,t=initPassVariableData_part1(a,b,c);if(k=f(),b.logarithmic=!1,b.logarithmic2=!1,l=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride){var u=setOptionValue(1,"SCALESTARTVALUE",c,a,t,void 0,b.scaleStartValue,-1,-1,{nullValue:!0}),v=setOptionValue(1,"SCALESTEPS",c,a,t,void 0,b.scaleSteps,-1,-1,{nullValue:!0}),w=setOptionValue(1,"SCALESTEPWIDTH",c,a,t,void 0,b.scaleStepWidth,-1,-1,{nullValue:!0});h={steps:v,stepValue:w,graphMin:u,graphMax:u+v*w,labels:[]},populateLabels(1,b,l,h.labels,h.steps,u,h.graphMax,w),
m=setMeasures(a,b,c,c.canvas.height,c.canvas.width,h.labels,null,!0,!1,!1,!1,!0,"PolarArea")}else h=calculateScale(1,b,k.maxSteps,k.minSteps,k.maxValue,k.minValue,l),m=setMeasures(a,b,c,c.canvas.height,c.canvas.width,h.labels,null,!0,!1,!1,!1,!0,"PolarArea");var x=h.graphMin+h.steps*h.stepValue,y=calculatePieDrawingSize(c,m,b,a,t);return n=y.midPieX,o=y.midPieY,g=Math.floor(y.radius/h.steps),g>0?(initPassVariableData_part2(t,a,b,c,{midPosX:n,midPosY:o,int_radius:0,ext_radius:g*h.steps,calculatedScale:h,scaleHop:g,outerVal:x}),animationLoop(b,e,d,c,m.clrx,m.clry,m.clrwidth,m.clrheight,n,o,n-(Min([m.availableHeight,m.availableWidth])/2-5),o+(Min([m.availableHeight,m.availableWidth])/2-5),a,t)):(testRedraw(c,a,b),c.firstPass=9),{data:a,config:b,ctx:c}}},Radar=function(a,b,c){function d(d){var e=2*Math.PI/a.datasets[0].data.length;c.save();for(var f=0;f<a.datasets.length;f++){for(var g=-1,h=0;h<a.datasets[f].data.length;h++){var i=animationCorrection(d,a,b,f,h,!1).animVal;i>1&&(i-=1),"undefined"!=typeof a.datasets[f].data[h]&&(-1==g?(c.beginPath(),c.moveTo(p+i*r[f][h].offsetX,q-i*r[f][h].offsetY),g=h):c.lineTo(p+i*r[f][h].offsetX,q-i*r[f][h].offsetY))}if(c.closePath(),b.datasetFill?c.fillStyle=setOptionValue(1,"COLOR",c,a,r,a.datasets[f].fillColor,b.defaultFillColor,f,-1,{animationValue:i,midPosX:r[f][0].midPosX,midPosY:r[f][0].midPosY,ext_radius:(b.animationLeftToRight?1:i)*r[f][0].calculated_offset_max}):c.fillStyle="rgba(0,0,0,0)",c.strokeStyle=setOptionValue(1,"STROKECOLOR",c,a,r,a.datasets[f].strokeColor,b.defaultStrokeColor,f,-1,{nullvalue:null}),c.lineWidth=Math.ceil(c.chartLineScale*setOptionValue(1,"LINEWIDTH",c,a,r,a.datasets[f].datasetStrokeWidth,b.datasetStrokeWidth,f,-1,{nullvalue:null})),c.fill(),c.setLineDash(lineStyleFn(setOptionValue(1,"LINEDASH",c,a,r,a.datasets[f].datasetStrokeStyle,b.datasetStrokeStyle,f,h,{nullvalue:null}))),c.stroke(),c.setLineDash([]),b.pointDot&&d>=b.animationStopValue){c.beginPath(),c.fillStyle=setOptionValue(1,"MARKERFILLCOLOR",c,a,r,a.datasets[f].pointColor,b.defaultStrokeColor,f,-1,{nullvalue:!0}),c.strokeStyle=setOptionValue(1,"MARKERSTROKESTYLE",c,a,r,a.datasets[f].pointStrokeColor,b.defaultStrokeColor,f,-1,{nullvalue:!0}),c.lineWidth=setOptionValue(c.chartLineScale,"MARKERLINEWIDTH",c,a,r,a.datasets[f].pointDotStrokeWidth,b.pointDotStrokeWidth,f,-1,{nullvalue:!0});for(var j=0;j<a.datasets[f].data.length;j++)if("undefined"!=typeof a.datasets[f].data[j]){c.beginPath();var k=setOptionValue(1,"MARKERSHAPE",c,a,r,a.datasets[f].markerShape,b.markerShape,f,j,{nullvalue:!0}),l=setOptionValue(c.chartSpaceScale,"MARKERRADIUS",c,a,r,a.datasets[f].pointDotRadius,b.pointDotRadius,f,j,{nullvalue:!0}),m=setOptionValue(1,"MARKERSTROKESTYLE",c,a,r,a.datasets[f].pointDotStrokeStyle,b.pointDotStrokeStyle,f,j,{nullvalue:!0});drawMarker(c,p+i*r[f][j].offsetX,q-i*r[f][j].offsetY,k,l,m)}}}if(c.restore(),d>=b.animationStopValue)for(f=0;f<a.datasets.length;f++)for(h=0;h<a.datasets[f].data.length;h++)if("undefined"!=typeof a.datasets[f].data[h]&&(jsGraphAnnotate[c.ChartNewId][jsGraphAnnotate[c.ChartNewId].length]=["POINT",f,h,r,setOptionValue(1,"ANNOTATEDISPLAY",c,a,r,a.datasets[f].annotateDisplay,b.annotateDisplay,f,h,{nullValue:!0})],setOptionValue(1,"INGRAPHDATASHOW",c,a,r,a.datasets[f].inGraphDataShow,b.inGraphDataShow,f,h,{nullValue:!0}))){c.save(),c.beginPath(),c.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",c,a,r,void 0,b.inGraphDataAlign,f,h,{nullValue:!0}),c.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",c,a,r,void 0,b.inGraphDataVAlign,f,h,{nullValue:!0}),"off-center"==setOptionValue(1,"INGRAPHDATAALIGN",c,a,r,void 0,b.inGraphDataAlign,f,h,{nullValue:!0})?"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",c,a,r,void 0,b.inGraphDataRotate,f,h,{nullValue:!0})||(b.startAngle*Math.PI/180-h*e+4*Math.PI)%(2*Math.PI)>3*Math.PI/2||(b.startAngle*Math.PI/180-h*e+4*Math.PI)%(2*Math.PI)<=Math.PI/2?c.textAlign="left":c.textAlign="right":"to-center"==setOptionValue(1,"INGRAPHDATAALIGN",c,a,r,void 0,b.inGraphDataAlign,f,h,{nullValue:!0})?"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",c,a,r,void 0,b.inGraphDataRotate,f,h,{nullValue:!0})||(b.startAngle*Math.PI/180-h*e+4*Math.PI)%(2*Math.PI)>3*Math.PI/2||(b.startAngle*Math.PI/180-h*e+4*Math.PI)%(2*Math.PI)<Math.PI/2?c.textAlign="right":c.textAlign="left":c.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",c,a,r,void 0,b.inGraphDataAlign,f,h,{nullValue:!0}),"off-center"==setOptionValue(1,"INGRAPHDATAVALIGN",c,a,r,void 0,b.inGraphDataVAlign,f,h,{nullValue:!0})?(b.startAngle*Math.PI/180-h*e+4*Math.PI)%(2*Math.PI)>Math.PI?c.textBaseline="bottom":c.textBaseline="top":"to-center"==setOptionValue(1,"INGRAPHDATAVALIGN",c,a,r,void 0,b.inGraphDataVAlign,f,h,{nullValue:!0})?(b.startAngle*Math.PI/180-h*e+4*Math.PI)%(2*Math.PI)>Math.PI?c.textBaseline="top":c.textBaseline="bottom":c.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",c,a,r,void 0,b.inGraphDataVAlign,f,h,{nullValue:!0}),c.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",c,a,r,void 0,b.inGraphDataFontStyle,f,h,{nullValue:!0})+" "+setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,r,void 0,b.inGraphDataFontSize,f,h,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",c,a,r,void 0,b.inGraphDataFontFamily,f,h,{nullValue:!0}),c.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",c,a,r,void 0,b.inGraphDataFontColor,f,h,{nullValue:!0});var n;1==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",c,a,r,void 0,b.inGraphDataRadiusPosition,f,h,{nullValue:!0})?n=0+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",c,a,r,void 0,b.inGraphDataPaddingRadius,f,h,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",c,a,r,void 0,b.inGraphDataRadiusPosition,f,h,{nullValue:!0})?n=r[f][h].calculated_offset/2+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",c,a,r,void 0,b.inGraphDataPaddingRadius,f,h,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",c,a,r,void 0,b.inGraphDataRadiusPosition,f,h,{nullValue:!0})&&(n=r[f][h].calculated_offset+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",c,a,r,void 0,b.inGraphDataPaddingRadius,f,h,{nullValue:!0}));var s,t;r[f][h].calculated_offset>0?(s=p+r[f][h].offsetX*(n/r[f][h].calculated_offset),t=q-r[f][h].offsetY*(n/r[f][h].calculated_offset)):(s=p,t=q),c.translate(s,t);var u=0;u="inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",c,a,r,void 0,b.inGraphDataRotate,f,h,{nullValue:!0})?h*e:"inRadiusAxisRotateLabels"==setOptionValue(1,"INGRAPHDATAROTATE",c,a,r,void 0,b.inGraphDataRotate,f,h,{nullValue:!0})?(h*e+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(h*e+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?3*Math.PI+h*e:2*Math.PI+h*e:setOptionValue(1,"INGRAPHDATAROTATE",c,a,r,void 0,b.inGraphDataRotate,f,h,{nullValue:!0})*(Math.PI/180),c.rotate(u);var v=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",c,a,r,void 0,b.inGraphDataTmpl,f,h,{nullValue:!0}),r[f][h],b);setTextBordersAndBackground(c,v,setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,r,void 0,b.inGraphDataFontSize,f,h,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",c,a,r,void 0,b.inGraphDataBorders,f,h,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",c,a,r,void 0,b.inGraphDataBordersColor,f,h,{nullValue:!0}),setOptionValue(c.chartLineScale,"INGRAPHDATABORDERSWIDTH",c,a,r,void 0,b.inGraphDataBordersWidth,f,h,{nullValue:!0}),setOptionValue(c.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",c,a,r,void 0,b.inGraphDataBordersXSpace,f,h,{nullValue:!0}),setOptionValue(c.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",c,a,r,void 0,b.inGraphDataBordersYSpace,f,h,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",c,a,r,void 0,b.inGraphDataBordersStyle,f,h,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",c,a,r,void 0,b.inGraphDataBackgroundColor,f,h,{nullValue:!0}),"INGRAPHDATA"),c.fillTextMultiLine(v,0,0,c.textBaseline,setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,r,void 0,b.inGraphDataFontSize,f,h,{nullValue:!0}),!0,b.detectMouseOnText,c,"INGRAPHDATA_TEXTMOUSE",u,s,t,f,h),c.restore()}o.legendMsr.dispLegend&&drawLegend(o.legendMsr,a,b,c,"Radar")}function e(){var d=2*Math.PI/a.datasets[0].data.length;if(c.save(),c.translate(p,q),c.rotate((90-b.startAngle)*Math.PI/180),b.angleShowLineOut){c.strokeStyle=b.angleLineColor,c.lineWidth=Math.ceil(c.chartLineScale*b.angleLineWidth);for(var e=0;e<a.datasets[0].data.length;e++)c.rotate(d),c.beginPath(),c.moveTo(0,0),c.lineTo(0,-h),c.setLineDash(lineStyleFn(setOptionValue(1,"ANGLELINESTYLE",c,a,r,void 0,b.angleLineStyle,e,-1,{nullValue:!0}))),c.stroke(),c.setLineDash([])}for(var f=0;f<j.steps;f++)if(c.beginPath(),b.scaleShowLine&&(f+1)%b.scaleGridLinesStep==0){c.strokeStyle=b.scaleLineColor,c.lineWidth=Math.ceil(c.chartLineScale*b.scaleLineWidth),c.moveTo(0,-i*(f+1));for(var g=0;g<a.datasets[0].data.length;g++)c.rotate(d),c.lineTo(0,-i*(f+1));c.closePath(),c.setLineDash(lineStyleFn(b.scaleLineStyle)),c.stroke(),c.setLineDash([])}if(c.rotate(-(90-b.startAngle)*Math.PI/180),b.scaleShowLabels)for(f=0;f<j.steps;f++){if(c.textAlign="center",c.font=b.scaleFontStyle+" "+Math.ceil(c.chartTextScale*b.scaleFontSize).toString()+"px "+b.scaleFontFamily,c.textBaseline="middle",b.scaleShowLabelBackdrop){var k=c.measureTextMultiLine(j.labels[f+1],Math.ceil(c.chartTextScale*b.scaleFontSize)).textWidth;c.fillStyle=b.scaleBackdropColor,c.beginPath(),c.rect(Math.round(Math.cos(b.startAngle*Math.PI/180)*(i*(f+1))-k/2-Math.ceil(c.chartSpaceScale*b.scaleBackdropPaddingX)),Math.round(-Math.sin(b.startAngle*Math.PI/180)*i*(f+1)-.5*Math.ceil(c.chartTextScale*b.scaleFontSize)-Math.ceil(c.chartSpaceScale*b.scaleBackdropPaddingY)),Math.round(k+2*Math.ceil(c.chartSpaceScale*b.scaleBackdropPaddingX)),Math.round(Math.ceil(c.chartTextScale*b.scaleFontSize)+2*Math.ceil(c.chartSpaceScale*b.scaleBackdropPaddingY))),c.fill()}c.fillStyle=b.scaleFontColor,c.fillTextMultiLine(j.labels[f+1],Math.cos(b.startAngle*Math.PI/180)*(i*(f+1)),-Math.sin(b.startAngle*Math.PI/180)*i*(f+1),c.textBaseline,Math.ceil(c.chartTextScale*b.scaleFontSize),!0,b.detectMouseOnText,c,"SCALE_TEXTMOUSE",0,p,q,f,-1)}for(var l=0;l<a.labels.length;l++){c.font=b.pointLabelFontStyle+" "+Math.ceil(c.chartTextScale*b.pointLabelFontSize).toString()+"px "+b.pointLabelFontFamily,c.fillStyle=b.pointLabelFontColor;for(var m=Math.sin((90-b.startAngle)*Math.PI/180+d*l)*(h+Math.ceil(c.chartTextScale*b.pointLabelFontSize)),n=Math.cos((90-b.startAngle)*Math.PI/180+d*l)*(h+Math.ceil(c.chartTextScale*b.pointLabelFontSize)),o=(90-b.startAngle)*Math.PI/180+d*l;0>o;)o+=2*Math.PI;for(;o>2*Math.PI;)o-=2*Math.PI;o==Math.PI||0==o?c.textAlign="center":o>Math.PI?c.textAlign="right":c.textAlign="left",c.textBaseline="middle",c.fillTextMultiLine(a.labels[l],m,-n,c.textBaseline,Math.ceil(c.chartTextScale*b.pointLabelFontSize),!0,b.detectMouseOnText,c,"LABEL_TEXTMOUSE",0,p,q,l,-1)}c.restore()}function f(){var d,e,f,g,i,j,l,m,n,q,r=2*Math.PI/a.datasets[0].data.length,s=b.startAngle*Math.PI/180;if(c.font=b.pointLabelFontStyle+" "+Math.ceil(c.chartTextScale*b.pointLabelFontSize).toString()+"px "+b.pointLabelFontFamily,b.graphMaximized)for(g=o.availableWidth/2,f=o.availableWidth/2,j=40,n=0;n<a.labels.length;n++)q=c.measureTextMultiLine(a.labels[n],Math.ceil(c.chartTextScale*b.scaleFontSize)).textWidth+c.measureTextMultiLine(a.labels[n],Math.ceil(c.chartTextScale*b.scaleFontSize)).textHeight,e=(o.availableWidth-q)/(1+Math.abs(Math.cos(s))),s<Math.PI/2&&s>-Math.PI/2||s>3*Math.PI/2?g>e&&(g=e):0!=Math.cos(s)&&f>e&&(f=e),s-=r;else g=o.availableWidth/2,f=o.availableWidth/2,j=1;for(l=0,m=0,p=g+o.leftNotUsableSize,d=g,i=0;j>i;++i,d+=(o.availableWidth-f-g)/j){for(h=Max([d,o.availableWidth-d]),s=b.startAngle*Math.PI/180,e=o.available,n=0;n<a.labels.length;n++)q=c.measureTextMultiLine(a.labels[n],Math.ceil(c.chartTextScale*b.scaleFontSize)).textWidth+c.measureTextMultiLine(a.labels[n],Math.ceil(c.chartTextScale*b.scaleFontSize)).textHeight,s<Math.PI/2&&s>-Math.PI/2||s>3*Math.PI/2?e=(o.availableWidth-d-q)/Math.abs(Math.cos(s)):Math.cos(0!=s)&&(e=(d-q)/Math.abs(Math.cos(s))),h>e&&(h=e),Math.sin(s)*o.availableHeight/2>o.availableHeight/2-2*Math.ceil(c.chartTextScale*b.scaleFontSize)&&(e=Math.sin(s)*o.availableHeight/2-1.5*Math.ceil(c.chartTextScale*b.scaleFontSize),h>e&&(h=e)),s-=r;h>l&&(l=h,p=d+o.leftNotUsableSize)}h=l-Math.ceil(c.chartTextScale*b.scaleFontSize)/2,k=Default(k,5)}function g(){for(var d=-Number.MAX_VALUE,e=Number.MAX_VALUE,f=0;f<a.datasets.length;f++)for(var g=0;g<a.datasets[f].data.length;g++)"undefined"!=typeof a.datasets[f].data[g]&&(1*a.datasets[f].data[g]>d&&(d=1*a.datasets[f].data[g]),1*a.datasets[f].data[g]<e&&(e=1*a.datasets[f].data[g]));e>d&&(d=0,e=0),Math.abs(d-e)<b.zeroValue&&(Math.abs(d)<b.zeroValue&&(d=.9,e=-.9),d>0?(d=1.1*d,e=.9*e):(d=.9*d,e=1.1*e)),"function"==typeof b.graphMin?e=setOptionValue(1,"GRAPHMIN",c,a,r,void 0,b.graphMin,-1,-1,{nullValue:!0}):isNaN(b.graphMin)||(e=b.graphMin),"function"==typeof b.graphMax?d=setOptionValue(1,"GRAPHMAX",c,a,r,void 0,b.graphMax,-1,-1,{nullValue:!0}):isNaN(b.graphMax)||(d=b.graphMax);var h=Math.floor(l/(.66*k)),i=Math.floor(l/k*.5);return e>d&&(e=d-1),{maxValue:d,minValue:e,maxSteps:h,minSteps:i}}var h,i,j,k,l,m,n,o,p,q;if(c.tpchart="Radar",c.tpdata=0,init_and_start(c,a,b)){var r=initPassVariableData_part1(a,b,c);if(m=g(),b.logarithmic=!1,b.logarithmic2=!1,a.labels||(a.labels=[]),n=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride){var s=setOptionValue(1,"SCALESTARTVALUE",c,a,r,void 0,b.scaleStartValue,-1,-1,{nullValue:!0}),t=setOptionValue(1,"SCALESTEPS",c,a,r,void 0,b.scaleSteps,-1,-1,{nullValue:!0}),u=setOptionValue(1,"SCALESTEPWIDTH",c,a,r,void 0,b.scaleStepWidth,-1,-1,{nullValue:!0});j={steps:t,stepValue:u,graphMin:s,graphMax:s+t*u,labels:[]},populateLabels(1,b,n,j.labels,j.steps,s,j.graphMax,u),o=setMeasures(a,b,c,c.canvas.height,c.canvas.width,j.labels,null,!0,!1,!1,!0,b.datasetFill,"Radar")}else j=calculateScale(1,b,m.maxSteps,m.minSteps,m.maxValue,m.minValue,n),o=setMeasures(a,b,c,c.canvas.height,c.canvas.width,j.labels,null,!0,!1,!1,!0,b.datasetFill,"Radar");return f(),q=o.topNotUsableSize+o.availableHeight/2,i=h/j.steps,initPassVariableData_part2(r,a,b,c,{midPosX:p,midPosY:q,calculatedScale:j,scaleHop:i,maxSize:h,outerVal:-1}),animationLoop(b,e,d,c,o.clrx,o.clry,o.clrwidth,o.clrheight,p,q,p-h,q+h,a,r),{data:a,config:b,ctx:c}}},Pie=function(a,b,c){return c.tpchart="Pie",Doughnut(a,b,c)},Doughnut=function(a,b,c){function d(d){var j,l,m=(((-b.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI),i[0].firstAngle),n=0,o=i[0].firstAngle;1*b.animationStartWithData>1&&1*b.animationStartWithData-1<a.length&&(n=i[b.animationStartWithData-1].startAngle-i[0].firstAngle,o=i[b.animationStartWithData-1].startAngle);for(var p=0;p<a.length;p++){var q=1,r=1;if(j="Pie"==c.tpchart?k:k-(h-k)*setOptionValue(1,"EXPANDINRADIUS",c,a,i,a[p].expandInRadius,0,p,-1,{animationDecimal:d,scaleAnimation:q}),l=h+(h-k)*setOptionValue(1,"EXPANDOUTRADIUS",c,a,i,a[p].expandOutRadius,0,p,-1,{animationDecimal:d,scaleAnimation:q}),b.animation&&(b.animateScale&&(q=d),b.animateRotate&&(r=d)),correctedRotateAnimation=animationCorrection(r,a,b,p,-1,!1).mainVal,"undefined"!=typeof a[p].value&&1*a[p].value>=0){if(c.beginPath(),c.lineWidth=Math.ceil(c.chartLineScale*b.segmentStrokeWidth),c.strokeStyle="rgba(0,0,0,0)","ByArc"==b.animationByData)endAngle=i[p].startAngle+correctedRotateAnimation*i[p].segmentAngle,c.arc(f,g,q*l,i[p].startAngle,endAngle,!1),c.arc(f,g,q*j,endAngle,i[p].startAngle,!0);else if(b.animationByData)if(p<1*b.animationStartWithData-1)c.arc(f,g,q*l,i[p].startAngle,i[p].endAngle,!1),c.arc(f,g,q*j,i[p].endAngle,i[p].startAngle,!0);else{if(!(i[p].startAngle<=o+correctedRotateAnimation*(2*Math.PI-n)))continue;endAngle=i[p].endAngle,i[p].endAngle>o+correctedRotateAnimation*(2*Math.PI-n)&&(endAngle=o+correctedRotateAnimation*(2*Math.PI-n)),c.arc(f,g,q*l,i[p].startAngle,endAngle,!1),c.arc(f,g,q*j,endAngle,i[p].startAngle,!0)}else c.arc(f,g,q*l,m,m+correctedRotateAnimation*(i[p].endAngle-i[p].startAngle),!1),c.arc(f,g,q*j,m+correctedRotateAnimation*(i[p].endAngle-i[p].startAngle),m,!0),m+=correctedRotateAnimation*(i[p].endAngle-i[p].startAngle);c.closePath(),c.fillStyle=setOptionValue(1,"COLOR",c,a,i,a[p].color,b.defaultFillColor,p,-1,{animationDecimal:d,scaleAnimation:q}),c.fill(),"merge"==b.segmentShowStroke?(c.lineWidth=1.5,c.strokeStyle=setOptionValue(1,"COLOR",c,a,i,a[p].color,b.defaultFillColor,p,-1,{animationDecimal:d,scaleAnimation:q}),c.setLineDash([]),c.stroke()):b.segmentShowStroke&&(c.lineWidth=Math.ceil(c.chartLineScale*b.segmentStrokeWidth),c.strokeStyle=b.segmentStrokeColor,c.setLineDash(lineStyleFn(setOptionValue(1,"SEGMENTSTROKESTYLE",c,a,i,a[p].segmentStrokeStyle,b.segmentStrokeStyle,p,-1,{animationDecimal:d,scaleAnimation:q}))),c.stroke(),c.setLineDash([]))}}if(d>=b.animationStopValue)for(p=0;p<a.length;p++)if("Pie"==c.tpchart?dataCutOutRadius=k:j=k-(h-k)*setOptionValue(1,"EXPANDINRADIUS",c,a,i,a[p].expandInRadius,0,p,-1,{animationDecimal:d,scaleAnimation:q}),l=h+(h-k)*setOptionValue(1,"EXPANDOUTRADIUS",c,a,i,a[p].expandOutRadius,0,p,-1,{animationDecimal:d,scaleAnimation:q}),!("undefined"==typeof a[p].value||1*a[p].value<0)&&(jsGraphAnnotate[c.ChartNewId][jsGraphAnnotate[c.ChartNewId].length]=["ARC",p,-1,i,setOptionValue(1,"ANNOTATEDISPLAY",c,a,i,a[p].annotateDisplay,b.annotateDisplay,p,-1,{nullValue:!0})],setOptionValue(1,"INGRAPHDATASHOW",c,a,i,a[p].inGraphDataShow,b.inGraphDataShow,p,-1,{nullValue:!0})&&i[p].segmentAngle>=Math.PI/180*setOptionValue(1,"INGRAPHDATAMINIMUMANGLE",c,a,i,void 0,b.inGraphDataMinimumAngle,p,-1,{nullValue:!0}))){1==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",c,a,i,void 0,b.inGraphDataAnglePosition,p,-1,{nullValue:!0})?posAngle=i[p].realStartAngle+setOptionValue(1,"INGRAPHDATAPADDINANGLE",c,a,i,void 0,b.inGraphDataPaddingAngle,p,-1,{nullValue:!0})*(Math.PI/180):2==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",c,a,i,void 0,b.inGraphDataAnglePosition,p,-1,{nullValue:!0})?posAngle=i[p].realStartAngle-i[p].segmentAngle/2+setOptionValue(1,"INGRAPHDATAPADDINANGLE",c,a,i,void 0,b.inGraphDataPaddingAngle,p,-1,{nullValue:!0})*(Math.PI/180):3==setOptionValue(1,"INGRAPHDATAANGLEPOSITION",c,a,i,void 0,b.inGraphDataAnglePosition,p,-1,{nullValue:!0})&&(posAngle=i[p].realStartAngle-i[p].segmentAngle+setOptionValue(1,"INGRAPHDATAPADDINANGLE",c,a,i,void 0,b.inGraphDataPaddingAngle,p,-1,{nullValue:!0})*(Math.PI/180)),1==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",c,a,i,void 0,b.inGraphDataRadiusPosition,p,-1,{nullValue:!0})?labelRadius=j+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",c,a,i,void 0,b.inGraphDataPaddingRadius,p,-1,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",c,a,i,void 0,b.inGraphDataRadiusPosition,p,-1,{nullValue:!0})?labelRadius=j+(l-j)/2+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",c,a,i,void 0,b.inGraphDataPaddingRadius,p,-1,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATARADIUSPOSITION",c,a,i,void 0,b.inGraphDataRadiusPosition,p,-1,{nullValue:!0})&&(labelRadius=l+setOptionValue(1,"INGRAPHDATAPADDINGRADIUS",c,a,i,void 0,b.inGraphDataPaddingRadius,p,-1,{nullValue:!0})),c.save(),"off-center"==setOptionValue(1,"INGRAPHDATAALIGN",c,a,i,void 0,b.inGraphDataAlign,p,-1,{nullValue:!0})?"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",c,a,i,void 0,b.inGraphDataRotate,p,-1,{nullValue:!0})||(posAngle+2*Math.PI)%(2*Math.PI)>=3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<=Math.PI/2?c.textAlign="left":c.textAlign="right":"to-center"==setOptionValue(1,"INGRAPHDATAALIGN",c,a,i,void 0,b.inGraphDataAlign,p,-1,{nullValue:!0})?"inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",c,a,i,void 0,b.inGraphDataRotate,p,-1,{nullValue:!0})||(posAngle+2*Math.PI)%(2*Math.PI)>=3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<=Math.PI/2?c.textAlign="right":c.textAlign="left":c.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",c,a,i,void 0,b.inGraphDataAlign,p,-1,{nullValue:!0}),"off-center"==setOptionValue(1,"INGRAPHDATAVALIGN",c,a,i,void 0,b.inGraphDataVAlign,p,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?c.textBaseline="top":c.textBaseline="bottom":"to-center"==setOptionValue(1,"INGRAPHDATAVALIGN",c,a,i,void 0,b.inGraphDataVAlign,p,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?c.textBaseline="bottom":c.textBaseline="top":c.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",c,a,i,void 0,b.inGraphDataVAlign,p,-1,{nullValue:!0}),c.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",c,a,i,void 0,b.inGraphDataFontStyle,p,-1,{nullValue:!0})+" "+setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,i,void 0,b.inGraphDataFontSize,p,-1,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",c,a,i,void 0,b.inGraphDataFontFamily,p,-1,{nullValue:!0}),c.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",c,a,i,void 0,b.inGraphDataFontColor,p,-1,{nullValue:!0});var s=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",c,a,i,void 0,b.inGraphDataTmpl,p,-1,{nullValue:!0}),i[p],b);c.translate(f+labelRadius*Math.cos(posAngle),g-labelRadius*Math.sin(posAngle));var t=0;t="inRadiusAxis"==setOptionValue(1,"INGRAPHDATAROTATE",c,a,i,void 0,b.inGraphDataRotate,p,-1,{nullValue:!0})?2*Math.PI-posAngle:"inRadiusAxisRotateLabels"==setOptionValue(1,"INGRAPHDATAROTATE",c,a,i,void 0,b.inGraphDataRotate,p,-1,{nullValue:!0})?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?3*Math.PI-posAngle:2*Math.PI-posAngle:setOptionValue(1,"INGRAPHDATAROTATE",c,a,i,void 0,b.inGraphDataRotate,p,-1,{nullValue:!0})*(Math.PI/180),c.rotate(t),setTextBordersAndBackground(c,s,setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,i,void 0,b.inGraphDataFontSize,p,-1,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",c,a,i,void 0,b.inGraphDataBorders,p,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",c,a,i,void 0,b.inGraphDataBordersColor,p,-1,{nullValue:!0}),setOptionValue(c.chartLineScale,"INGRAPHDATABORDERSWIDTH",c,a,i,void 0,b.inGraphDataBordersWidth,p,-1,{nullValue:!0}),setOptionValue(c.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",c,a,i,void 0,b.inGraphDataBordersXSpace,p,-1,{nullValue:!0}),setOptionValue(c.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",c,a,i,void 0,b.inGraphDataBordersYSpace,p,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",c,a,i,void 0,b.inGraphDataBordersStyle,p,-1,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",c,a,i,void 0,b.inGraphDataBackgroundColor,p,-1,{nullValue:!0}),"INGRAPHDATA"),c.fillTextMultiLine(s,0,0,c.textBaseline,setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,i,void 0,b.inGraphDataFontSize,p,-1,{nullValue:!0}),!0,b.detectMouseOnText,c,"INGRAPHDATA_TEXTMOUSE",t,f+labelRadius*Math.cos(posAngle),g-labelRadius*Math.sin(posAngle),p,-1),c.restore()}e.legendMsr.dispLegend&&drawLegend(e.legendMsr,a,b,c,"Doughnut")}var e,f,g,h;if("undefined"==typeof c.tpchart&&(c.tpchart="Doughnut"),c.tpdata=1,init_and_start(c,a,b)){var i=initPassVariableData_part1(a,b,c);((b.startAngle*(Math.PI/180)+2*Math.PI)%(2*Math.PI)+2*Math.PI)%(2*Math.PI);b.logarithmic=!1,b.logarithmic2=!1,e=setMeasures(a,b,c,c.canvas.height,c.canvas.width,"none",null,!0,!1,!1,!1,!0,"Doughnut");var j=calculatePieDrawingSize(c,e,b,a,i);f=j.midPieX,g=j.midPieY,h=j.radius;var k;return k="Pie"==c.tpchart?0:h*(b.percentageInnerCutout/100),h>0?(initPassVariableData_part2(i,a,b,c,{midPosX:f,midPosY:g,int_radius:k,ext_radius:h,outerVal:-1}),animationLoop(b,null,d,c,e.clrx,e.clry,e.clrwidth,e.clrheight,f,g,f-h,g+h,a,i)):(testRedraw(c,a,b),c.firstPass=9),{data:a,config:b,ctx:c}}},Line=function(data,config,ctx){function drawLines(a){drawLinesDataset(a,data,config,ctx,statData,{xAxisPosY:xAxisPosY,yAxisPosX:yAxisPosX,valueHop:valueHop,nbValueHop:data.labels.length-1}),a>=1&&"function"==typeof drawMath&&drawMath(ctx,config,data,msr,{xAxisPosY:xAxisPosY,yAxisPosX:yAxisPosX,valueHop:valueHop,scaleHop:scaleHop,zeroY:zeroY,calculatedScale:calculatedScale,calculateOffset:calculateOffset,statData:statData}),msr.legendMsr.dispLegend&&drawLegend(msr.legendMsr,data,config,ctx,"Line")}function drawScale(){if(config.drawXScaleLine!==!1)for(var a=0;a<config.drawXScaleLine.length;a++){ctx.lineWidth=config.drawXScaleLine[a].lineWidth?config.drawXScaleLine[a].lineWidth:Math.ceil(ctx.chartLineScale*config.scaleLineWidth),ctx.strokeStyle=config.drawXScaleLine[a].lineColor?config.drawXScaleLine[a].lineColor:config.scaleLineColor,ctx.beginPath();var b;switch(config.drawXScaleLine[a].position){case"bottom":b=xAxisPosY;break;case"top":b=xAxisPosY-msr.availableHeight-Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop);break;case"0":case 0:0!=zeroY&&(b=xAxisPosY-zeroY)}ctx.moveTo(yAxisPosX-Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft),b),ctx.lineTo(yAxisPosX+msr.availableWidth+Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight),b),ctx.setLineDash(lineStyleFn(config.scaleLineStyle)),ctx.stroke(),ctx.setLineDash([])}for(var c=0;c<data.labels.length;c++)ctx.beginPath(),ctx.moveTo(yAxisPosX+c*valueHop,xAxisPosY+Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)),ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.scaleGridLineWidth),ctx.strokeStyle=config.scaleGridLineColor,config.scaleShowGridLines&&c>0&&c%config.scaleXGridLinesStep==0?ctx.lineTo(yAxisPosX+c*valueHop,xAxisPosY-msr.availableHeight-Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)):ctx.lineTo(yAxisPosX+c*valueHop,xAxisPosY),ctx.setLineDash(lineStyleFn(config.scaleGridLineStyle)),ctx.stroke(),ctx.setLineDash([]);ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.scaleLineWidth),ctx.strokeStyle=config.scaleLineColor,ctx.beginPath(),ctx.moveTo(yAxisPosX,xAxisPosY+Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)),ctx.lineTo(yAxisPosX,xAxisPosY-msr.availableHeight-Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)),ctx.setLineDash(lineStyleFn(config.scaleLineStyle)),ctx.stroke(),ctx.setLineDash([]);for(var d=0;d<calculatedScale.steps;d++)ctx.beginPath(),ctx.moveTo(yAxisPosX-Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft),xAxisPosY-(d+1)*scaleHop),ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.scaleGridLineWidth),ctx.strokeStyle=config.scaleGridLineColor,config.scaleShowGridLines&&(d+1)%config.scaleYGridLinesStep==0?ctx.lineTo(yAxisPosX+msr.availableWidth+Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight),xAxisPosY-(d+1)*scaleHop):ctx.lineTo(yAxisPosX,xAxisPosY-(d+1)*scaleHop),ctx.setLineDash(lineStyleFn(config.scaleGridLineStyle)),ctx.stroke(),ctx.setLineDash([])}function drawLabels(){if(ctx.font=config.scaleFontStyle+" "+Math.ceil(ctx.chartTextScale*config.scaleFontSize).toString()+"px "+config.scaleFontFamily,(config.xAxisTop||config.xAxisBottom)&&(ctx.textBaseline="top",msr.rotateLabels>90?(ctx.save(),ctx.textAlign="left"):msr.rotateLabels>0?(ctx.save(),ctx.textAlign="right"):ctx.textAlign="center",ctx.fillStyle=config.scaleFontColor,config.xAxisBottom))for(var a=0;a<data.labels.length;a++)showLabels(ctx,data,config,a)&&(ctx.save(),msr.rotateLabels>0?(ctx.translate(yAxisPosX+a*valueHop-msr.highestXLabel/2,msr.xLabelPos),ctx.rotate(-(msr.rotateLabels*(Math.PI/180))),ctx.fillTextMultiLine(fmtChartJS(config,data.labels[a],config.fmtXLabel),0,0,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0,config.detectMouseOnText,ctx,"XSCALE_TEXTMOUSE",-(msr.rotateLabels*(Math.PI/180)),yAxisPosX+a*valueHop-msr.highestXLabel/2,msr.xLabelPos,a,-1)):ctx.fillTextMultiLine(fmtChartJS(config,data.labels[a],config.fmtXLabel),yAxisPosX+a*valueHop,msr.xLabelPos,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0,config.detectMouseOnText,ctx,"XSCALE_TEXTMOUSE",0,0,0,a,-1),ctx.restore());ctx.textAlign="right",ctx.textBaseline="middle";for(var b=config.showYAxisMin?-1:0;b<calculatedScale.steps;b++)config.scaleShowLabels&&showYLabels(ctx,data,config,b+1,calculatedScale.labels[b+1])&&(config.yAxisLeft&&(ctx.textAlign="right",ctx.fillTextMultiLine(calculatedScale.labels[b+1],yAxisPosX-(Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft)+Math.ceil(ctx.chartSpaceScale*config.yAxisSpaceRight)),xAxisPosY-(b+1)*scaleHop,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0,config.detectMouseOnText,ctx,"YLEFTAXIS_TEXTMOUSE",0,0,0,-1,b)),config.yAxisRight&&!valueBounds.dbAxis&&(ctx.textAlign="left",ctx.fillTextMultiLine(calculatedScale.labels[b+1],yAxisPosX+msr.availableWidth+(Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight)+Math.ceil(ctx.chartSpaceScale*config.yAxisSpaceRight)),xAxisPosY-(b+1)*scaleHop,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0,config.detectMouseOnText,ctx,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,b)));if(config.yAxisRight&&valueBounds.dbAxis)for(b=config.showYAxisMin?-1:0;b<calculatedScale2.steps;b++)config.scaleShowLabels&&(ctx.textAlign="left",ctx.fillTextMultiLine(calculatedScale2.labels[b+1],yAxisPosX+msr.availableWidth+(Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight)+Math.ceil(ctx.chartSpaceScale*config.yAxisSpaceRight)),xAxisPosY-(b+1)*scaleHop2,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0,config.detectMouseOnText,ctx,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,b))}function getValueBounds(){for(var upperValue=-Number.MAX_VALUE,lowerValue=Number.MAX_VALUE,upperValue2=-Number.MAX_VALUE,lowerValue2=Number.MAX_VALUE,secondAxis=!1,firstAxis=!1,mathValueHeight,i=0;i<data.datasets.length;i++){var mathFctName=data.datasets[i].drawMathDeviation,mathValueHeight=0;if("function"==typeof eval(mathFctName)){var parameter={data:data,datasetNr:i};mathValueHeightVal=window[mathFctName](parameter)}else mathValueHeightVal=0;for(var j=0;j<data.datasets[i].data.length;j++)mathValueHeight="object"==typeof mathValueHeightVal?mathValueHeightVal[Math.min(mathValueHeightVal.length,j)]:mathValueHeightVal,"undefined"!=typeof data.datasets[i].data[j]&&(2==data.datasets[i].axis?(secondAxis=!0,1*data.datasets[i].data[j]+mathValueHeight>upperValue2&&(upperValue2=1*data.datasets[i].data[j]+mathValueHeight),1*data.datasets[i].data[j]-mathValueHeight<lowerValue2&&(lowerValue2=1*data.datasets[i].data[j]-mathValueHeight)):(firstAxis=!0,1*data.datasets[i].data[j]+mathValueHeight>upperValue&&(upperValue=1*data.datasets[i].data[j]+mathValueHeight),1*data.datasets[i].data[j]-mathValueHeight<lowerValue&&(lowerValue=1*data.datasets[i].data[j]-mathValueHeight)))}lowerValue>upperValue&&(upperValue=0,lowerValue=0),Math.abs(upperValue-lowerValue)<config.zeroValue&&(Math.abs(upperValue)<config.zeroValue&&(upperValue=.9),upperValue>0?(upperValue=1.1*upperValue,lowerValue=.9*lowerValue):(upperValue=.9*upperValue,lowerValue=1.1*lowerValue)),"function"==typeof config.graphMin?lowerValue=setOptionValue(1,"GRAPHMIN",ctx,data,statData,void 0,config.graphMin,-1,-1,{nullValue:!0}):isNaN(config.graphMin)||(lowerValue=config.graphMin),"function"==typeof config.graphMax?upperValue=setOptionValue(1,"GRAPHMAX",ctx,data,statData,void 0,config.graphMax,-1,-1,{nullValue:!0}):isNaN(config.graphMax)||(upperValue=config.graphMax),secondAxis&&(lowerValue2>upperValue2&&(upperValue2=0,lowerValue2=0),Math.abs(upperValue2-lowerValue2)<config.zeroValue&&(Math.abs(upperValue2)<config.zeroValue&&(upperValue2=.9),upperValue2>0?(upperValue2=1.1*upperValue2,lowerValue2=.9*lowerValue2):(upperValue2=.9*upperValue2,lowerValue2=1.1*lowerValue2)),"function"==typeof config.graphMin2?lowerValue2=setOptionValue(1,"GRAPHMIN",ctx,data,statData,void 0,config.graphMin2,-1,-1,{nullValue:!0}):isNaN(config.graphMin2)||(lowerValue2=config.graphMin2),"function"==typeof config.graphMax2?upperValue2=setOptionValue(1,"GRAPHMAX",ctx,data,statData,void 0,config.graphMax2,-1,-1,{nullValue:!0}):isNaN(config.graphMax2)||(upperValue2=config.graphMax2)),!firstAxis&&secondAxis&&(upperValue=upperValue2,lowerValue=lowerValue2),labelHeight=Math.ceil(ctx.chartTextScale*config.scaleFontSize),scaleHeight=msr.availableHeight;var maxSteps=Math.floor(scaleHeight/(.66*labelHeight)),minSteps=Math.floor(scaleHeight/labelHeight*.5);return lowerValue>upperValue&&(lowerValue=upperValue-1),lowerValue2>upperValue2&&(lowerValue2=upperValue2-1),{maxValue:upperValue,minValue:lowerValue,maxValue2:upperValue2,minValue2:lowerValue2,dbAxis:secondAxis,maxSteps:maxSteps,minSteps:minSteps
}}var maxSize,scaleHop,scaleHop2,calculatedScale,calculatedScale2,labelHeight,scaleHeight,valueBounds,labelTemplateString,labelTemplateString2,valueHop,widestXLabel,xAxisLength,yAxisPosX,xAxisPosY,rotateLabels=0,msr,zeroY=0,zeroY2=0;if(ctx.tpchart="Line",ctx.tpdata=0,init_and_start(ctx,data,config)){for(var mxlgt=0,i=0;i<data.datasets.length;i++)mxlgt=Max([mxlgt,data.datasets[i].data.length]);if(1==mxlgt){for("string"==typeof data.labels[0]&&(data.labels=["",data.labels[0],""]),i=0;i<data.datasets.length;i++)data.datasets[i].data=[void 0,data.datasets[i].data[0],void 0];mxlgt=3}var statData=initPassVariableData_part1(data,config,ctx);for(i=0;i<data.datasets.length;i++)statData[i][0].tpchart="Line";msr=setMeasures(data,config,ctx,ctx.canvas.height,ctx.canvas.width,"nihil",[""],!1,!1,!0,!0,config.datasetFill,"Line"),valueBounds=getValueBounds(),config.logarithmic!==!1&&valueBounds.minValue<=0&&(config.logarithmic=!1),config.logarithmic2!==!1&&valueBounds.minValue2<=0&&(config.logarithmic2=!1);var OrderOfMagnitude=calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.maxValue)+1))-calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.minValue)));("fuzzy"==config.logarithmic&&4>OrderOfMagnitude||config.scaleOverride)&&(config.logarithmic=!1);var OrderOfMagnitude2=calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.maxValue2)+1))-calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.minValue2)));if(("fuzzy"==config.logarithmic2&&4>OrderOfMagnitude2||config.scaleOverride2)&&(config.logarithmic2=!1),labelTemplateString=config.scaleShowLabels?config.scaleLabel:"",labelTemplateString2=config.scaleShowLabels2?config.scaleLabel2:"",config.scaleOverride){var scaleStartValue=setOptionValue(1,"SCALESTARTVALUE",ctx,data,statData,void 0,config.scaleStartValue,-1,-1,{nullValue:!0}),scaleSteps=setOptionValue(1,"SCALESTEPS",ctx,data,statData,void 0,config.scaleSteps,-1,-1,{nullValue:!0}),scaleStepWidth=setOptionValue(1,"SCALESTEPWIDTH",ctx,data,statData,void 0,config.scaleStepWidth,-1,-1,{nullValue:!0});calculatedScale={steps:scaleSteps,stepValue:scaleStepWidth,graphMin:scaleStartValue,graphMax:scaleStartValue+scaleSteps*scaleStepWidth,labels:[]},populateLabels(1,config,labelTemplateString,calculatedScale.labels,calculatedScale.steps,scaleStartValue,calculatedScale.graphMax,scaleStepWidth)}else valueBounds.maxSteps>0&&valueBounds.minSteps>0&&(calculatedScale=calculateScale(1,config,valueBounds.maxSteps,valueBounds.minSteps,valueBounds.maxValue,valueBounds.minValue,labelTemplateString));if(valueBounds.dbAxis)if(config.scaleOverride2){var scaleStartValue2=setOptionValue(1,"SCALESTARTVALUE2",ctx,data,statData,void 0,config.scaleStartValue2,-1,-1,{nullValue:!0}),scaleSteps2=setOptionValue(1,"SCALESTEPS2",ctx,data,statData,void 0,config.scaleSteps2,-1,-1,{nullValue:!0}),scaleStepWidth2=setOptionValue(1,"SCALESTEPWIDTH2",ctx,data,statData,void 0,config.scaleStepWidth2,-1,-1,{nullValue:!0});calculatedScale2={steps:scaleSteps2,stepValue:scaleStepWidth2,graphMin:scaleStartValue2,graphMax:scaleStartValue2+scaleSteps2*scaleStepWidth2,labels:[]},populateLabels(2,config,labelTemplateString2,calculatedScale2.labels,calculatedScale2.steps,scaleStartValue2,calculatedScale2.graphMax,scaleStepWidth2)}else valueBounds.maxSteps>0&&valueBounds.minSteps>0&&(calculatedScale2=calculateScale(2,config,valueBounds.maxSteps,valueBounds.minSteps,valueBounds.maxValue2,valueBounds.minValue2,labelTemplateString2));else calculatedScale2={steps:0,stepValue:0,graphMin:0,graphMax:0,labels:null};if(valueBounds.maxSteps>0&&valueBounds.minSteps>0){msr=setMeasures(data,config,ctx,ctx.canvas.height,ctx.canvas.width,calculatedScale.labels,calculatedScale2.labels,!1,!1,!0,!0,config.datasetFill,"Line");var prevHeight=msr.availableHeight;msr.availableHeight=msr.availableHeight-Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)-Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop),msr.availableWidth=msr.availableWidth-Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft)-Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight),scaleHop=Math.floor(msr.availableHeight/calculatedScale.steps),scaleHop2=Math.floor(msr.availableHeight/calculatedScale2.steps),valueHop=Math.floor(msr.availableWidth/(data.labels.length-1)),(0==valueHop||config.fullWidthGraph)&&(valueHop=msr.availableWidth/(data.labels.length-1)),msr.clrwidth=msr.clrwidth-(msr.availableWidth-(data.labels.length-1)*valueHop),msr.availableWidth=(data.labels.length-1)*valueHop,msr.availableHeight=calculatedScale.steps*scaleHop,msr.xLabelPos+=Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)+Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)-(prevHeight-msr.availableHeight),msr.clrheight+=Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)+Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)-(prevHeight-msr.availableHeight),yAxisPosX=msr.leftNotUsableSize+Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft),xAxisPosY=msr.topNotUsableSize+msr.availableHeight+Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop),drawLabels(),zeroY=calculateOffset(config.logarithmic,0,calculatedScale,scaleHop),"object"==typeof calculatedScale2&&(zeroY2=calculateOffset(config.logarithmic2,0,calculatedScale2,scaleHop2)),initPassVariableData_part2(statData,data,config,ctx,{xAxisPosY:xAxisPosY,yAxisPosX:yAxisPosX,valueHop:valueHop,nbValueHop:data.labels.length-1,scaleHop:scaleHop,zeroY:zeroY,calculatedScale:calculatedScale,logarithmic:config.logarithmic,scaleHop2:scaleHop2,zeroY2:zeroY2,msr:msr,calculatedScale2:calculatedScale2,logarithmic2:config.logarithmic2}),animationLoop(config,drawScale,drawLines,ctx,msr.clrx,msr.clry,msr.clrwidth,msr.clrheight,yAxisPosX+msr.availableWidth/2,xAxisPosY-msr.availableHeight/2,yAxisPosX,xAxisPosY,data,statData)}else testRedraw(ctx,data,config),ctx.firstPass=9;return{data:data,config:config,ctx:ctx}}},StackedBar=function(a,b,c){function d(d){var e=new Array,f=new Array;c.lineWidth=Math.ceil(c.chartLineScale*b.barStrokeWidth);for(var g=0;g<a.datasets.length;g++)if("Line"!=a.datasets[g].type)for(var h=0;h<a.datasets[g].data.length;h++){var i=animationCorrection(d,a,b,g,h,!1).animVal;if(i>1&&(i-=1),"undefined"!=typeof a.datasets[g].data[h]&&1*a.datasets[g].data[h]!=0){"undefined"==typeof e[h]&&(e[h]=s[s[g][h].firstNotMissing][h].yPosBottom,f[h]=s[s[g][h].firstNotMissing][h].yPosBottom);var j,k;j=1*a.datasets[g].data[h]>0?e[h]:f[h],k=j+i*(s[g][h].yPosTop-s[g][h].yPosBottom),1*a.datasets[g].data[h]>0?e[h]=k:f[h]=k,c.fillStyle=setOptionValue(1,"COLOR",c,a,s,a.datasets[g].fillColor,b.defaultFillColor,g,h,{animationValue:i,xPosLeft:s[g][h].xPosLeft,yPosBottom:j,xPosRight:s[g][h].xPosRight,yPosTop:k}),c.strokeStyle=setOptionValue(1,"STROKECOLOR",c,a,s,a.datasets[g].strokeColor,b.defaultStrokeColor,g,h,{nullvalue:null}),0!=i&&j!=k&&(c.beginPath(),c.moveTo(s[g][h].xPosLeft,j),c.lineTo(s[g][h].xPosLeft,k),c.lineTo(s[g][h].xPosRight,k),c.lineTo(s[g][h].xPosRight,j),b.barShowStroke&&(c.setLineDash(lineStyleFn(setOptionValue(1,"STROKESTYLE",c,a,s,a.datasets[g].datasetStrokeStyle,b.datasetStrokeStyle,g,h,{nullvalue:null}))),c.stroke(),c.setLineDash([])),c.closePath(),c.fill())}}if(drawLinesDataset(d,a,b,c,s,{xAxisPosY:p,yAxisPosX:o,valueHop:n,nbValueHop:a.labels.length}),d>=b.animationStopValue){var l=0,m=0;for(g=0;g<a.datasets.length;g++)for(h=0;h<a.datasets[g].data.length;h++)if("undefined"!=typeof a.datasets[g].data[h]&&(jsGraphAnnotate[c.ChartNewId][jsGraphAnnotate[c.ChartNewId].length]=["RECT",g,h,s,setOptionValue(1,"ANNOTATEDISPLAY",c,a,s,a.datasets[g].annotateDisplay,b.annotateDisplay,g,h,{nullValue:!0})],setOptionValue(1,"INGRAPHDATASHOW",c,a,s,a.datasets[g].inGraphDataShow,b.inGraphDataShow,g,h,{nullValue:!0}))){c.save(),c.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",c,a,s,void 0,b.inGraphDataAlign,g,h,{nullValue:!0}),c.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",c,a,s,void 0,b.inGraphDataVAlign,g,h,{nullValue:!0}),c.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",c,a,s,void 0,b.inGraphDataFontStyle,g,h,{nullValue:!0})+" "+setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,s,void 0,b.inGraphDataFontSize,g,h,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",c,a,s,void 0,b.inGraphDataFontFamily,g,h,{nullValue:!0}),c.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",c,a,s,void 0,b.inGraphDataFontColor,g,h,{nullValue:!0});var t=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",c,a,s,void 0,b.inGraphDataTmpl,g,h,{nullValue:!0}),s[g][h],b);if(c.beginPath(),c.beginPath(),l=0,m=0,1==setOptionValue(1,"INGRAPHDATAXPOSITION",c,a,s,void 0,b.inGraphDataXPosition,g,h,{nullValue:!0})?m=s[g][h].xPosLeft+setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGX",c,a,s,void 0,b.inGraphDataPaddingX,g,h,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATAXPOSITION",c,a,s,void 0,b.inGraphDataXPosition,g,h,{nullValue:!0})?m=s[g][h].xPosLeft+q/2+setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGX",c,a,s,void 0,b.inGraphDataPaddingX,g,h,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAXPOSITION",c,a,s,void 0,b.inGraphDataXPosition,g,h,{nullValue:!0})&&(m=s[g][h].xPosLeft+q+setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGX",c,a,s,void 0,b.inGraphDataPaddingX,g,h,{nullValue:!0})),1==setOptionValue(1,"INGRAPHDATAYPOSITION",c,a,s,void 0,b.inGraphDataYPosition,g,h,{nullValue:!0})?l=s[g][h].yPosBottom-setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGY",c,a,s,void 0,b.inGraphDataPaddingY,g,h,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATAYPOSITION",c,a,s,void 0,b.inGraphDataYPosition,g,h,{nullValue:!0})?l=(s[g][h].yPosTop+s[g][h].yPosBottom)/2-setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGY",c,a,s,void 0,b.inGraphDataPaddingY,g,h,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAYPOSITION",c,a,s,void 0,b.inGraphDataYPosition,g,h,{nullValue:!0})&&(l=s[g][h].yPosTop-setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGY",c,a,s,void 0,b.inGraphDataPaddingY,g,h,{nullValue:!0})),l>r.topNotUsableSize){c.translate(m,l);var u=setOptionValue(1,"INGRAPHDATAROTATE",c,a,s,void 0,b.inGraphDataRotate,g,h,{nullValue:!0})*(Math.PI/180);c.rotate(u),setTextBordersAndBackground(c,t,setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,s,void 0,b.inGraphDataFontSize,g,h,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",c,a,s,void 0,b.inGraphDataBorders,g,h,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",c,a,s,void 0,b.inGraphDataBordersColor,g,h,{nullValue:!0}),setOptionValue(c.chartLineScale,"INGRAPHDATABORDERSWIDTH",c,a,s,void 0,b.inGraphDataBordersWidth,g,h,{nullValue:!0}),setOptionValue(c.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",c,a,s,void 0,b.inGraphDataBordersXSpace,g,h,{nullValue:!0}),setOptionValue(c.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",c,a,s,void 0,b.inGraphDataBordersYSpace,g,h,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",c,a,s,void 0,b.inGraphDataBordersStyle,g,h,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",c,a,s,void 0,b.inGraphDataBackgroundColor,g,h,{nullValue:!0}),"INGRAPHDATA"),c.fillTextMultiLine(t,0,0,c.textBaseline,setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,s,void 0,b.inGraphDataFontSize,g,h,{nullValue:!0}),!0,b.detectMouseOnText,c,"INGRAPHDATA_TEXTMOUSE",u,m,l,g,h)}c.restore()}}r.legendMsr.dispLegend&&drawLegend(r.legendMsr,a,b,c,"StackedBar")}function e(){c.lineWidth=Math.ceil(c.chartLineScale*b.scaleLineWidth),c.strokeStyle=b.scaleLineColor,c.setLineDash(lineStyleFn(b.scaleLineStyle)),c.beginPath(),c.moveTo(o-Math.ceil(c.chartLineScale*b.scaleTickSizeLeft),p),c.lineTo(o+r.availableWidth+Math.ceil(c.chartLineScale*b.scaleTickSizeRight),p),c.stroke(),c.setLineDash([]),c.setLineDash(lineStyleFn(b.scaleGridLineStyle));for(var d=0;d<a.labels.length;d++)c.beginPath(),c.moveTo(o+d*n,p+Math.ceil(c.chartLineScale*b.scaleTickSizeBottom)),c.lineWidth=Math.ceil(c.chartLineScale*b.scaleGridLineWidth),c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&d>0&&d%b.scaleXGridLinesStep==0?c.lineTo(o+d*n,p-r.availableHeight-Math.ceil(c.chartLineScale*b.scaleTickSizeTop)):c.lineTo(o+d*n,p),c.stroke();c.setLineDash([]),c.lineWidth=Math.ceil(c.chartLineScale*b.scaleLineWidth),c.strokeStyle=b.scaleLineColor,c.setLineDash(lineStyleFn(b.scaleLineStyle)),c.beginPath(),c.moveTo(o,p+Math.ceil(c.chartLineScale*b.scaleTickSizeBottom)),c.lineTo(o,p-r.availableHeight-Math.ceil(c.chartLineScale*b.scaleTickSizeTop)),c.stroke(),c.setLineDash([]),c.setLineDash(lineStyleFn(b.scaleGridLineStyle));for(var e=b.showYAxisMin?-1:0;e<i.steps;e++)c.beginPath(),c.moveTo(o-Math.ceil(c.chartLineScale*b.scaleTickSizeLeft),p-(e+1)*h),c.lineWidth=Math.ceil(c.chartLineScale*b.scaleGridLineWidth),c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&(e+1)%b.scaleYGridLinesStep==0?c.lineTo(o+r.availableWidth+Math.ceil(c.chartLineScale*b.scaleTickSizeRight),p-(e+1)*h):c.lineTo(o,p-(e+1)*h),c.stroke();c.setLineDash([])}function f(){if(c.font=b.scaleFontStyle+" "+Math.ceil(c.chartTextScale*b.scaleFontSize).toString()+"px "+b.scaleFontFamily,(b.xAxisTop||b.xAxisBottom)&&(c.textBaseline="top",r.rotateLabels>90?(c.save(),c.textAlign="left"):r.rotateLabels>0?(c.save(),c.textAlign="right"):c.textAlign="center",c.fillStyle=b.scaleFontColor,b.xAxisBottom))for(var d=0;d<a.labels.length;d++)showLabels(c,a,b,d)&&(c.save(),r.rotateLabels>0?(c.translate(o+Math.ceil(c.chartSpaceScale*b.barValueSpacing)+d*n+z+q/2-r.highestXLabel/2,r.xLabelPos),c.rotate(-(r.rotateLabels*(Math.PI/180))),c.fillTextMultiLine(fmtChartJS(b,a.labels[d],b.fmtXLabel),0,0,c.textBaseline,Math.ceil(c.chartTextScale*b.scaleFontSize),!0,b.detectMouseOnText,c,"XAXIS_TEXTMOUSE",-(r.rotateLabels*(Math.PI/180)),o+Math.ceil(c.chartSpaceScale*b.barValueSpacing)+d*n+z+q/2-r.highestXLabel/2,r.xLabelPos,d,-1)):c.fillTextMultiLine(fmtChartJS(b,a.labels[d],b.fmtXLabel),o+Math.ceil(c.chartSpaceScale*b.barValueSpacing)+d*n+z+q/2,r.xLabelPos,c.textBaseline,Math.ceil(c.chartTextScale*b.scaleFontSize),!0,b.detectMouseOnText,c,"XAXIS_TEXTMOUSE",0,0,0,d,-1),c.restore());c.textAlign="right",c.textBaseline="middle";for(var e=b.showYAxisMin?-1:0;e<i.steps;e++)b.scaleShowLabels&&showYLabels(c,a,b,e+1,i.labels[e+1])&&(b.yAxisLeft&&(c.textAlign="right",c.fillTextMultiLine(i.labels[e+1],o-(Math.ceil(c.chartLineScale*b.scaleTickSizeLeft)+Math.ceil(c.chartSpaceScale*b.yAxisSpaceRight)),p-(e+1)*h,c.textBaseline,Math.ceil(c.chartTextScale*b.scaleFontSize),!0,b.detectMouseOnText,c,"YLEFTAXIS_TEXTMOUSE",0,0,0,-1,e)),b.yAxisRight&&(c.textAlign="left",c.fillTextMultiLine(i.labels[e+1],o+r.availableWidth+(Math.ceil(c.chartLineScale*b.scaleTickSizeRight)+Math.ceil(c.chartSpaceScale*b.yAxisSpaceRight)),p-(e+1)*h,c.textBaseline,Math.ceil(c.chartTextScale*b.scaleFontSize),!0,b.detectMouseOnText,c,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,e)))}function g(){for(var d=-Number.MAX_VALUE,e=Number.MAX_VALUE,f=-Number.MAX_VALUE,g=Number.MAX_VALUE,h=[],i=[],l=0,m=0,n=0;n<a.datasets.length;n++)for(var o=0;o<a.datasets[n].data.length;o++)1*a.datasets[n].data[o]>0?("Bar"==s[n][0].tpchart?("undefined"==typeof h[o]&&(h[o]=0),h[o]+=1*a.datasets[n].data[o],d=Math.max(d,h[o])):d=Math.max(d,1*a.datasets[n].data[o]),e=Math.min(e,1*a.datasets[n].data[o]),l=1):"number"==typeof(1*a.datasets[n].data[o])&&"undefined"!=typeof a.datasets[n].data[o]&&("Bar"==s[n][0].tpchart?("undefined"==typeof i[o]&&(i[o]=0),i[o]+=1*a.datasets[n].data[o],g=Math.min(g,i[o])):g=Math.min(g,1*a.datasets[n].data[o]),f=Math.max(f,1*a.datasets[n].data[o]),m=1);var p,q;0==l?(p=f,q=g):0==m?(p=d,q=e):(p=d,q=g),"function"==typeof b.graphMin?q=setOptionValue(1,"GRAPHMIN",c,a,s,void 0,b.graphMin,-1,-1,{nullValue:!0}):isNaN(b.graphMin)||(q=b.graphMin),"function"==typeof b.graphMax?p=setOptionValue(1,"GRAPHMAX",c,a,s,void 0,b.graphMax,-1,-1,{nullValue:!0}):isNaN(b.graphMax)||(p=b.graphMax),q>p&&(p=0,q=0),Math.abs(p-q)<b.zeroValue&&(Math.abs(p)<b.zeroValue&&(p=.9),p>0?(p=1.1*p,q=.9*q):(p=.9*p,q=1.1*q)),j=Math.ceil(c.chartTextScale*b.scaleFontSize),k=r.availableHeight;var t=Math.floor(k/(.66*j)),u=Math.floor(k/j*.5);return q>p&&(q=p-1),{maxValue:p,minValue:q,maxSteps:t,minSteps:u}}var h,i,j,k,l,m,n,o,p,q,r;if(c.tpchart="StackedBar",c.tpdata=0,init_and_start(c,a,b)){for(var s=initPassVariableData_part1(a,b,c),t=a.datasets.length,u=0;u<a.datasets.length;u++)"Line"==a.datasets[u].type?(s[u][0].tpchart="Line",t--):s[u][0].tpchart="Bar";if(b.logarithmic=!1,r=setMeasures(a,b,c,c.canvas.height,c.canvas.width,"nihil",[""],!0,!1,!0,!0,!0,"StackedBar"),l=g(),l.maxSteps>0&&l.minSteps>0){if(m=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride){var v=setOptionValue(1,"SCALESTARTVALUE",c,a,s,void 0,b.scaleStartValue,-1,-1,{nullValue:!0}),w=setOptionValue(1,"SCALESTEPS",c,a,s,void 0,b.scaleSteps,-1,-1,{nullValue:!0}),x=setOptionValue(1,"SCALESTEPWIDTH",c,a,s,void 0,b.scaleStepWidth,-1,-1,{nullValue:!0});i={steps:w,stepValue:x,graphMin:v,labels:[]};for(var u=0;u<=i.steps;u++)m&&i.labels.push(tmpl(m,{value:fmtChartJS(b,1*(v+x*u).toFixed(getDecimalPlaces(x)),b.fmtYLabel)},b));r=setMeasures(a,b,c,c.canvas.height,c.canvas.width,i.labels,null,!0,!1,!0,!0,!0,"StackedBar")}else i=calculateScale(1,b,l.maxSteps,l.minSteps,l.maxValue,l.minValue,m),r=setMeasures(a,b,c,c.canvas.height,c.canvas.width,i.labels,null,!0,!1,!0,!0,!0,"StackedBar");var y=r.availableHeight;r.availableHeight=r.availableHeight-Math.ceil(c.chartLineScale*b.scaleTickSizeBottom)-Math.ceil(c.chartLineScale*b.scaleTickSizeTop),r.availableWidth=r.availableWidth-Math.ceil(c.chartLineScale*b.scaleTickSizeLeft)-Math.ceil(c.chartLineScale*b.scaleTickSizeRight),h=Math.floor(r.availableHeight/i.steps),n=Math.floor(r.availableWidth/a.labels.length),(0==n||b.fullWidthGraph)&&(n=r.availableWidth/a.labels.length),r.clrwidth=r.clrwidth-(r.availableWidth-a.labels.length*n),r.availableWidth=a.labels.length*n,r.availableHeight=i.steps*h,r.xLabelPos+=Math.ceil(c.chartLineScale*b.scaleTickSizeBottom)+Math.ceil(c.chartLineScale*b.scaleTickSizeTop)-(y-r.availableHeight),r.clrheight+=Math.ceil(c.chartLineScale*b.scaleTickSizeBottom)+Math.ceil(c.chartLineScale*b.scaleTickSizeTop)-(y-r.availableHeight),o=r.leftNotUsableSize+Math.ceil(c.chartLineScale*b.scaleTickSizeLeft),p=r.topNotUsableSize+r.availableHeight+Math.ceil(c.chartLineScale*b.scaleTickSizeTop),q=n-2*Math.ceil(c.chartLineScale*b.scaleGridLineWidth)-2*Math.ceil(c.chartSpaceScale*b.barValueSpacing)-(1*Math.ceil(c.chartSpaceScale*b.barDatasetSpacing)-1)-Math.ceil(c.chartLineScale*b.barStrokeWidth)/2-1,q>=0&&1>=q&&(q=1),0>q&&q>=-1&&(q=-1);var z;1*b.maxBarWidth>0&&q>1*b.maxBarWidth?(z=(q-1*b.maxBarWidth)/2,q=1*b.maxBarWidth):z=0;var A=0,B=0;A=calculateOffset(!1,0,i,h),"object"==typeof calculatedScale2&&(B=calculateOffset(b.logarithmic2,0,calculatedScale2,scaleHop2)),f(),initPassVariableData_part2(s,a,b,c,{msr:r,zeroY:A,zeroY2:B,logarithmic:!1,logarithmic2:!1,calculatedScale:i,additionalSpaceBetweenBars:z,scaleHop:h,valueHop:n,yAxisPosX:o,xAxisPosY:p,barWidth:q}),animationLoop(b,e,d,c,r.clrx,r.clry,r.clrwidth,r.clrheight,o+r.availableWidth/2,p-r.availableHeight/2,o,p,a,s)}else testRedraw(c,a,b),c.firstPass=9;return{data:a,config:b,ctx:c}}},HorizontalStackedBar=function(a,b,c){function d(a,b,c){var d=b.steps*b.stepValue,e=a-b.graphMin,f=CapValue(e/d,1,0);return c*b.steps*f}function e(d){var e=new Array,f=new Array;c.lineWidth=Math.ceil(c.chartLineScale*b.barStrokeWidth);for(var g=0;g<a.datasets.length;g++)for(var h=0;h<a.datasets[g].data.length;h++){var i=animationCorrection(d,a,b,g,h,!1).animVal;if(i>1&&(i-=1),"undefined"!=typeof a.datasets[g].data[h]&&1*a.datasets[g].data[h]!=0){"undefined"==typeof e[h]&&(e[h]=t[t[g][h].firstNotMissing][h].xPosLeft,f[h]=t[t[g][h].firstNotMissing][h].xPosLeft);var j,k;j=1*a.datasets[g].data[h]>0?e[h]:f[h],k=j+i*(t[g][h].xPosRight-t[g][h].xPosLeft),1*a.datasets[g].data[h]>0?e[h]=k:f[h]=k,c.fillStyle=setOptionValue(1,"COLOR",c,a,t,a.datasets[g].fillColor,b.defaultFillColor,g,h,{animationValue:i,xPosLeft:j,yPosBottom:t[g][h].yPosBottom,xPosRight:k,yPosTop:t[g][h].yPosBottom}),c.strokeStyle=setOptionValue(1,"STROKECOLOR",c,a,t,a.datasets[g].strokeColor,b.defaultStrokeColor,g,h,{nullvalue:null}),0!=i&&t[g][h].xPosLeft!=t[g][h].xPosRight&&(c.beginPath(),c.moveTo(j,t[g][h].yPosTop),c.lineTo(k,t[g][h].yPosTop),c.lineTo(k,t[g][h].yPosBottom),c.lineTo(j,t[g][h].yPosBottom),c.lineTo(j,t[g][h].yPosTop),b.barShowStroke&&(c.setLineDash(lineStyleFn(setOptionValue(1,"STROKESTYLE",c,a,t,a.datasets[g].datasetStrokeStyle,b.datasetStrokeStyle,g,h,{nullvalue:null}))),c.stroke(),c.setLineDash([])),c.closePath(),c.fill())}}if(d>=b.animationStopValue){var l=0,m=0;for(g=0;g<a.datasets.length;g++)for(h=0;h<a.datasets[g].data.length;h++)if("undefined"!=typeof a.datasets[g].data[h]&&(jsGraphAnnotate[c.ChartNewId][jsGraphAnnotate[c.ChartNewId].length]=["RECT",g,h,t,setOptionValue(1,"ANNOTATEDISPLAY",c,a,t,a.datasets[g].annotateDisplay,b.annotateDisplay,g,h,{nullValue:!0})],setOptionValue(1,"INGRAPHDATASHOW",c,a,t,a.datasets[g].inGraphDataShow,b.inGraphDataShow,g,h,{nullValue:!0}))){c.save(),c.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",c,a,t,void 0,b.inGraphDataAlign,g,h,{nullValue:!0}),c.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",c,a,t,void 0,b.inGraphDataVAlign,g,h,{nullValue:!0}),c.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",c,a,t,void 0,b.inGraphDataFontStyle,g,h,{nullValue:!0})+" "+setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,t,void 0,b.inGraphDataFontSize,g,h,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",c,a,t,void 0,b.inGraphDataFontFamily,g,h,{nullValue:!0}),c.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",c,a,t,void 0,b.inGraphDataFontColor,g,h,{nullValue:!0});var n=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",c,a,t,void 0,b.inGraphDataTmpl,g,h,{nullValue:!0}),t[g][h],b);c.beginPath(),l=0,m=0,1==setOptionValue(1,"INGRAPHDATAXPOSITION",c,a,t,void 0,b.inGraphDataXPosition,g,h,{nullValue:!0})?m=t[g][h].xPosLeft+setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGX",c,a,t,void 0,b.inGraphDataPaddingX,g,h,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATAXPOSITION",c,a,t,void 0,b.inGraphDataXPosition,g,h,{nullValue:!0})?m=t[g][h].xPosLeft+(t[g][h].xPosRight-t[g][h].xPosLeft)/2+setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGX",c,a,t,void 0,b.inGraphDataPaddingX,g,h,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAXPOSITION",c,a,t,void 0,b.inGraphDataXPosition,g,h,{nullValue:!0})&&(m=t[g][h].xPosRight+setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGX",c,a,t,void 0,b.inGraphDataPaddingX,g,h,{nullValue:!0})),1==setOptionValue(1,"INGRAPHDATAYPOSITION",c,a,t,void 0,b.inGraphDataYPosition,g,h,{nullValue:!0})?l=t[g][h].yPosBottom-setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGY",c,a,t,void 0,b.inGraphDataPaddingY,g,h,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATAYPOSITION",c,a,t,void 0,b.inGraphDataYPosition,g,h,{nullValue:!0})?l=t[g][h].yPosBottom-r/2-setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGY",c,a,t,void 0,b.inGraphDataPaddingY,g,h,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAYPOSITION",c,a,t,void 0,b.inGraphDataYPosition,g,h,{nullValue:!0})&&(l=t[g][h].yPosTop-setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGY",c,a,t,void 0,b.inGraphDataPaddingY,g,h,{nullValue:!0})),c.translate(m,l),rotateVal=setOptionValue(1,"INGRAPHDATAROTATE",c,a,t,void 0,b.inGraphDataRotate,g,h,{nullValue:!0})*(Math.PI/180),c.rotate(rotateVal),setTextBordersAndBackground(c,n,setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,t,void 0,b.inGraphDataFontSize,g,h,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",c,a,t,void 0,b.inGraphDataBorders,g,h,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",c,a,t,void 0,b.inGraphDataBordersColor,g,h,{nullValue:!0}),setOptionValue(c.chartLineScale,"INGRAPHDATABORDERSWIDTH",c,a,t,void 0,b.inGraphDataBordersWidth,g,h,{nullValue:!0}),setOptionValue(c.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",c,a,t,void 0,b.inGraphDataBordersXSpace,g,h,{nullValue:!0}),setOptionValue(c.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",c,a,t,void 0,b.inGraphDataBordersYSpace,g,h,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",c,a,t,void 0,b.inGraphDataBordersStyle,g,h,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",c,a,t,void 0,b.inGraphDataBackgroundColor,g,h,{nullValue:!0}),"INGRAPHDATA"),c.fillTextMultiLine(n,0,0,c.textBaseline,setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,t,void 0,b.inGraphDataFontSize,g,h,{nullValue:!0}),!0,b.detectMouseOnText,c,"INGRAPHDATA_TEXTMOUSE",rotateVal,m,l,g,h),c.restore()}}s.legendMsr.dispLegend&&drawLegend(s.legendMsr,a,b,c,"HorizontalStackedBar")}function f(){c.lineWidth=Math.ceil(c.chartLineScale*b.scaleLineWidth),c.strokeStyle=b.scaleLineColor,c.setLineDash(lineStyleFn(b.scaleLineStyle)),c.beginPath(),c.moveTo(p-Math.ceil(c.chartLineScale*b.scaleTickSizeLeft),q),c.lineTo(p+s.availableWidth,q),c.stroke(),c.setLineDash([]),c.setLineDash(lineStyleFn(b.scaleGridLineStyle));for(var d=b.showYAxisMin?-1:0;d<j.steps;d++)d>=0&&(c.beginPath(),c.moveTo(p+d*o,q+Math.ceil(c.chartLineScale*b.scaleTickSizeBottom)),c.lineWidth=Math.ceil(c.chartLineScale*b.scaleGridLineWidth),c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&d>0&&d%b.scaleXGridLinesStep==0?c.lineTo(p+d*o,q-s.availableHeight-Math.ceil(c.chartLineScale*b.scaleTickSizeTop)):c.lineTo(p+d*o,q),c.stroke()),c.setLineDash([]);c.lineWidth=Math.ceil(c.chartLineScale*b.scaleLineWidth),c.strokeStyle=b.scaleLineColor,c.setLineDash(lineStyleFn(b.scaleLineStyle)),c.beginPath(),c.moveTo(p,q+Math.ceil(c.chartLineScale*b.scaleTickSizeBottom)),c.lineTo(p,q-s.availableHeight-Math.ceil(c.chartLineScale*b.scaleTickSizeTop)),c.stroke(),c.setLineDash([]),c.setLineDash(lineStyleFn(b.scaleGridLineStyle));for(var e=0;e<a.labels.length;e++)c.beginPath(),c.moveTo(p-Math.ceil(c.chartLineScale*b.scaleTickSizeLeft),q-(e+1)*i),c.lineWidth=Math.ceil(c.chartLineScale*b.scaleGridLineWidth),c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&(e+1)%b.scaleYGridLinesStep==0?c.lineTo(p+s.availableWidth,q-(e+1)*i):c.lineTo(p,q-(e+1)*i),c.stroke();c.setLineDash([])}function g(){if(c.font=b.scaleFontStyle+" "+Math.ceil(c.chartTextScale*b.scaleFontSize).toString()+"px "+b.scaleFontFamily,b.scaleShowLabels&&(b.xAxisTop||b.xAxisBottom)&&(c.textBaseline="top",s.rotateLabels>90?(c.save(),c.textAlign="left"):s.rotateLabels>0?(c.save(),c.textAlign="right"):c.textAlign="center",c.fillStyle=b.scaleFontColor,b.xAxisBottom))for(var d=b.showYAxisMin?-1:0;d<j.steps;d++)showYLabels(c,a,b,d+1,j.labels[d+1])&&(c.save(),s.rotateLabels>0?(c.translate(p+(d+1)*o-s.highestXLabel/2,s.xLabelPos),c.rotate(-(s.rotateLabels*(Math.PI/180))),c.fillTextMultiLine(j.labels[d+1],0,0,c.textBaseline,Math.ceil(c.chartTextScale*b.scaleFontSize),!0,b.detectMouseOnText,c,"XAXIS_TEXTMOUSE",-(s.rotateLabels*(Math.PI/180)),p+(d+1)*o-s.highestXLabel/2,s.xLabelPos,d,-1)):c.fillTextMultiLine(j.labels[d+1],p+(d+1)*o,s.xLabelPos,c.textBaseline,Math.ceil(c.chartTextScale*b.scaleFontSize),!0,b.detectMouseOnText,c,"XAXIS_TEXTMOUSE",0,0,0,d,-1),c.restore());c.textAlign="right",c.textBaseline="middle";for(var e=0;e<a.labels.length;e++)showLabels(c,a,b,e)&&(b.yAxisLeft&&(c.textAlign="right",c.fillTextMultiLine(fmtChartJS(b,a.labels[e],b.fmtXLabel),p-(Math.ceil(c.chartLineScale*b.scaleTickSizeLeft)+Math.ceil(c.chartSpaceScale*b.yAxisSpaceRight)),q-(e+1)*i+Math.ceil(c.chartSpaceScale*b.barValueSpacing)+y+r/2,c.textBaseline,Math.ceil(c.chartTextScale*b.scaleFontSize),!0,b.detectMouseOnText,c,"YLEFTAXIS_TEXTMOUSE",0,0,0,-1,e)),b.yAxisRight&&(c.textAlign="left",c.fillTextMultiLine(fmtChartJS(b,a.labels[e],b.fmtXLabel),p+s.availableWidth+(Math.ceil(c.chartLineScale*b.scaleTickSizeRight)+Math.ceil(c.chartSpaceScale*b.yAxisSpaceRight)),q-(e+1)*i+y+r/2,c.textBaseline,Math.ceil(c.chartTextScale*b.scaleFontSize),!0,b.detectMouseOnText,c,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,e)))}function h(){for(var d=-Number.MAX_VALUE,e=Number.MAX_VALUE,f=(new Array(a.datasets.length),new Array(a.datasets.length),0);f<a.datasets.length;f++)for(var g=0;g<a.datasets[f].data.length;g++){var h=f,i=0,j=0;for("undefined"!=typeof a.datasets[0].data[g]&&(1*a.datasets[0].data[g]>0?(i+=1*a.datasets[0].data[g],i>d&&(d=i),e>i&&(e=i)):(j+=1*a.datasets[0].data[g],j>d&&(d=j),e>j&&(e=j)));h>0;)"undefined"!=typeof a.datasets[h].data[g]&&(1*a.datasets[h].data[g]>0?(i+=1*a.datasets[h].data[g],i>d&&(d=i),e>i&&(e=i)):(j+=1*a.datasets[h].data[g],j>d&&(d=j),e>j&&(e=j))),h--}"function"==typeof b.graphMin?e=setOptionValue(1,"GRAPHMIN",c,a,t,void 0,b.graphMin,-1,-1,{nullValue:!0}):isNaN(b.graphMin)||(e=b.graphMin),"function"==typeof b.graphMax?d=setOptionValue(1,"GRAPHMAX",c,a,t,void 0,b.graphMax,-1,-1,{nullValue:!0}):isNaN(b.graphMax)||(d=b.graphMax),e>d&&(d=0,e=0),Math.abs(d-e)<b.zeroValue&&(Math.abs(d)<b.zeroValue&&(d=.9),d>0?(d=1.1*d,e=.9*e):(d=.9*d,e=1.1*e)),k=Math.ceil(c.chartTextScale*b.scaleFontSize),l=s.availableHeight;var m=Math.floor(l/(.66*k)),n=Math.floor(l/k*.5);return e>d&&(e=d-1),{maxValue:d,minValue:e,maxSteps:m,minSteps:n}}var i,j,k,l,m,n,o,p,q,r,s;if(b.reverseOrder&&"undefined"==typeof c.reversed&&(c.reversed=!0,a=reverseData(a)),c.tpchart="HorizontalStackedBar",c.tpdata=0,init_and_start(c,a,b)){var t=initPassVariableData_part1(a,b,c);if(b.logarithmic=!1,s=setMeasures(a,b,c,c.canvas.height,c.canvas.width,"nihil",[""],!0,!0,!0,!0,!0,"HorizontalStackedBar"),m=h(),m.maxSteps>0&&m.minSteps>0){if(n=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride){var u=setOptionValue(1,"SCALESTARTVALUE",c,a,t,void 0,b.scaleStartValue,-1,-1,{nullValue:!0}),v=setOptionValue(1,"SCALESTEPS",c,a,t,void 0,b.scaleSteps,-1,-1,{nullValue:!0}),w=setOptionValue(1,"SCALESTEPWIDTH",c,a,t,void 0,b.scaleStepWidth,-1,-1,{nullValue:!0});j={steps:v,stepValue:w,graphMin:u,labels:[]};for(var x=0;x<=j.steps;x++)n&&j.labels.push(tmpl(n,{value:fmtChartJS(b,1*(u+w*x).toFixed(getDecimalPlaces(w)),b.fmtYLabel)},b));s=setMeasures(a,b,c,c.canvas.height,c.canvas.width,j.labels,null,!0,!0,!0,!0,!0,"HorizontalStackedBar")}else j=calculateScale(1,b,m.maxSteps,m.minSteps,m.maxValue,m.minValue,n),s=setMeasures(a,b,c,c.canvas.height,c.canvas.width,j.labels,null,!0,!0,!0,!0,!0,"HorizontalStackedBar");s.availableHeight=s.availableHeight-Math.ceil(c.chartLineScale*b.scaleTickSizeBottom)-Math.ceil(c.chartLineScale*b.scaleTickSizeTop),s.availableWidth=s.availableWidth-Math.ceil(c.chartLineScale*b.scaleTickSizeLeft)-Math.ceil(c.chartLineScale*b.scaleTickSizeRight),i=Math.floor(s.availableHeight/a.labels.length),o=Math.floor(s.availableWidth/j.steps),(0==o||b.fullWidthGraph)&&(o=s.availableWidth/j.steps),s.clrwidth=s.clrwidth-(s.availableWidth-j.steps*o),s.availableWidth=j.steps*o,s.availableHeight=a.labels.length*i,p=s.leftNotUsableSize+Math.ceil(c.chartLineScale*b.scaleTickSizeLeft),q=s.topNotUsableSize+s.availableHeight+Math.ceil(c.chartLineScale*b.scaleTickSizeTop),r=i-2*Math.ceil(c.chartLineScale*b.scaleGridLineWidth)-2*Math.ceil(c.chartSpaceScale*b.barValueSpacing)-(1*Math.ceil(c.chartSpaceScale*b.barDatasetSpacing)-1)-Math.ceil(c.chartLineScale*b.barStrokeWidth)/2-1,r>=0&&1>=r&&(r=1),0>r&&r>=-1&&(r=-1);var y;1*b.maxBarWidth>0&&r>1*b.maxBarWidth?(y=(r-1*b.maxBarWidth)/2,r=1*b.maxBarWidth):y=0,g();var z=d(0,j,i);initPassVariableData_part2(t,a,b,c,{yAxisPosX:p,additionalSpaceBetweenBars:y,xAxisPosY:q,barWidth:r,zeroY:z,scaleHop:i,valueHop:o,calculatedScale:j}),animationLoop(b,f,e,c,s.clrx,s.clry,s.clrwidth,s.clrheight,p+s.availableWidth/2,q-s.availableHeight/2,p,q,a,t)}else testRedraw(c,a,b),c.firstPass=9;return{data:a,config:b,ctx:c}}},Bar=function(data,config,ctx){function drawBars(a){var b,c;ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.barStrokeWidth);for(var d=0;d<data.datasets.length;d++)if("Line"!=data.datasets[d].type)for(var e=0;e<data.datasets[d].data.length;e++)if("undefined"!=typeof data.datasets[d].data[e]){var f=animationCorrection(a,data,config,d,e,!1).animVal;f>1&&(f-=1);var g=f*statData[d][e].barHeight+Math.ceil(ctx.chartLineScale*config.barStrokeWidth)/2;ctx.fillStyle=setOptionValue(1,"COLOR",ctx,data,statData,data.datasets[d].fillColor,config.defaultFillColor,d,e,{animationValue:f,xPosLeft:statData[d][e].xPosLeft,
yPosBottom:statData[d][e].yPosBottom,xPosRight:statData[d][e].xPosLeft+barWidth,yPosTop:statData[d][e].yPosBottom-g}),ctx.strokeStyle=setOptionValue(1,"STROKECOLOR",ctx,data,statData,data.datasets[d].strokeColor,config.defaultStrokeColor,d,e,{nullvalue:null}),roundRect(ctx,statData[d][e].xPosLeft,statData[d][e].yPosBottom,barWidth,g,config.barShowStroke,config.barBorderRadius,d,e,data.datasets[d].data[e]<0?-1:1)}if(drawLinesDataset(a,data,config,ctx,statData,{xAxisPosY:xAxisPosY,yAxisPosX:yAxisPosX,valueHop:valueHop,nbValueHop:data.labels.length}),a>=config.animationStopValue)for(d=0;d<data.datasets.length;d++)for(e=0;e<data.datasets[d].data.length;e++)if("undefined"!=typeof data.datasets[d].data[e]&&"Line"!=data.datasets[d].type&&(jsGraphAnnotate[ctx.ChartNewId][jsGraphAnnotate[ctx.ChartNewId].length]=["RECT",d,e,statData,setOptionValue(1,"ANNOTATEDISPLAY",ctx,data,statData,data.datasets[d].annotateDisplay,config.annotateDisplay,d,e,{nullValue:!0})],setOptionValue(1,"INGRAPHDATASHOW",ctx,data,statData,data.datasets[d].inGraphDataShow,config.inGraphDataShow,d,e,{nullValue:!0}))){ctx.save(),ctx.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",ctx,data,statData,void 0,config.inGraphDataAlign,d,e,{nullValue:!0}),ctx.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",ctx,data,statData,void 0,config.inGraphDataVAlign,d,e,{nullValue:!0}),ctx.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",ctx,data,statData,void 0,config.inGraphDataFontStyle,d,e,{nullValue:!0})+" "+setOptionValue(ctx.chartTextScale,"INGRAPHDATAFONTSIZE",ctx,data,statData,void 0,config.inGraphDataFontSize,d,e,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",ctx,data,statData,void 0,config.inGraphDataFontFamily,d,e,{nullValue:!0}),ctx.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",ctx,data,statData,void 0,config.inGraphDataFontColor,d,e,{nullValue:!0}),b=statData[d][e].yPosBottom,c=statData[d][e].yPosTop,ctx.beginPath();var h=0,i=0;1==setOptionValue(1,"INGRAPHDATAXPOSITION",ctx,data,statData,void 0,config.inGraphDataXPosition,d,e,{nullValue:!0})?i=statData[d][e].xPosLeft+setOptionValue(ctx.chartSpaceScale,"INGRAPHDATAPADDINGX",ctx,data,statData,void 0,config.inGraphDataPaddingX,d,e,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATAXPOSITION",ctx,data,statData,void 0,config.inGraphDataXPosition,d,e,{nullValue:!0})?i=statData[d][e].xPosLeft+barWidth/2+setOptionValue(ctx.chartSpaceScale,"INGRAPHDATAPADDINGX",ctx,data,statData,void 0,config.inGraphDataPaddingX,d,e,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAXPOSITION",ctx,data,statData,void 0,config.inGraphDataXPosition,d,e,{nullValue:!0})&&(i=statData[d][e].xPosLeft+barWidth+setOptionValue(ctx.chartSpaceScale,"INGRAPHDATAPADDINGX",ctx,data,statData,void 0,config.inGraphDataPaddingX,d,e,{nullValue:!0})),1==setOptionValue(1,"INGRAPHDATAYPOSITION",ctx,data,statData,void 0,config.inGraphDataYPosition,d,e,{nullValue:!0})?h=statData[d][e].yPosBottom-setOptionValue(ctx.chartSpaceScale,"INGRAPHDATAPADDINGY",ctx,data,statData,void 0,config.inGraphDataPaddingY,d,e,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATAYPOSITION",ctx,data,statData,void 0,config.inGraphDataYPosition,d,e,{nullValue:!0})?h=(statData[d][e].yPosBottom+statData[d][e].yPosTop)/2-setOptionValue(ctx.chartSpaceScale,"INGRAPHDATAPADDINGY",ctx,data,statData,void 0,config.inGraphDataPaddingY,d,e,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAYPOSITION",ctx,data,statData,void 0,config.inGraphDataYPosition,d,e,{nullValue:!0})&&(h=statData[d][e].yPosTop-setOptionValue(ctx.chartSpaceScale,"INGRAPHDATAPADDINGY",ctx,data,statData,void 0,config.inGraphDataPaddingY,d,e,{nullValue:!0})),ctx.translate(i,h);var j=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",ctx,data,statData,void 0,config.inGraphDataTmpl,d,e,{nullValue:!0}),statData[d][e],config);rotateVal=setOptionValue(1,"INGRAPHDATAROTATE",ctx,data,statData,void 0,config.inGraphDataRotate,d,e,{nullValue:!0})*(Math.PI/180),ctx.rotate(rotateVal),setTextBordersAndBackground(ctx,j,setOptionValue(ctx.chartTextScale,"INGRAPHDATAFONTSIZE",ctx,data,statData,void 0,config.inGraphDataFontSize,d,e,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",ctx,data,statData,void 0,config.inGraphDataBorders,d,e,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",ctx,data,statData,void 0,config.inGraphDataBordersColor,d,e,{nullValue:!0}),setOptionValue(ctx.chartLineScale,"INGRAPHDATABORDERSWIDTH",ctx,data,statData,void 0,config.inGraphDataBordersWidth,d,e,{nullValue:!0}),setOptionValue(ctx.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",ctx,data,statData,void 0,config.inGraphDataBordersXSpace,d,e,{nullValue:!0}),setOptionValue(ctx.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",ctx,data,statData,void 0,config.inGraphDataBordersYSpace,d,e,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",ctx,data,statData,void 0,config.inGraphDataBordersStyle,d,e,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",ctx,data,statData,void 0,config.inGraphDataBackgroundColor,d,e,{nullValue:!0}),"INGRAPHDATA"),ctx.fillTextMultiLine(j,0,0,ctx.textBaseline,setOptionValue(ctx.chartTextScale,"INGRAPHDATAFONTSIZE",ctx,data,statData,void 0,config.inGraphDataFontSize,d,e,{nullValue:!0}),!0,config.detectMouseOnText,ctx,"INGRAPHDATA_TEXTMOUSE",rotateVal,i,h,d,e),ctx.restore()}a>=1&&"function"==typeof drawMath&&drawMath(ctx,config,data,msr,{xAxisPosY:xAxisPosY,yAxisPosX:yAxisPosX,valueHop:valueHop,scaleHop:scaleHop,zeroY:zeroY,calculatedScale:calculatedScale,calculateOffset:calculateOffset,additionalSpaceBetweenBars:additionalSpaceBetweenBars,barWidth:barWidth}),msr.legendMsr.dispLegend&&drawLegend(msr.legendMsr,data,config,ctx,"Bar")}function roundRect(a,b,c,d,e,f,g,h,i,j){a.beginPath(),a.setLineDash(lineStyleFn(setOptionValue(1,"STROKESTYLE",a,data,statData,data.datasets[h].datasetStrokeStyle,config.datasetStrokeStyle,h,i,{nullvalue:null}))),a.moveTo(b+g,c),a.lineTo(b+d-g,c),a.quadraticCurveTo(b+d,c,b+d,c),a.lineTo(b+d,c-e+j*g),a.quadraticCurveTo(b+d,c-e,b+d-g,c-e),a.lineTo(b+g,c-e),a.quadraticCurveTo(b,c-e,b,c-e+j*g),a.lineTo(b,c),a.quadraticCurveTo(b,c,b+g,c),f&&a.stroke(),a.closePath(),a.fill(),a.setLineDash([])}function drawScale(){ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.scaleLineWidth),ctx.strokeStyle=config.scaleLineColor,ctx.setLineDash(lineStyleFn(config.scaleLineStyle)),ctx.beginPath(),ctx.moveTo(yAxisPosX-Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft),xAxisPosY),ctx.lineTo(yAxisPosX+msr.availableWidth+Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight),xAxisPosY),ctx.stroke(),ctx.setLineDash([]),ctx.setLineDash(lineStyleFn(config.scaleGridLineStyle));for(var a=0;a<data.labels.length;a++)ctx.beginPath(),ctx.moveTo(yAxisPosX+a*valueHop,xAxisPosY+Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)),ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.scaleGridLineWidth),ctx.strokeStyle=config.scaleGridLineColor,config.scaleShowGridLines&&a>0&&a%config.scaleXGridLinesStep==0?ctx.lineTo(yAxisPosX+a*valueHop,xAxisPosY-msr.availableHeight-Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)):ctx.lineTo(yAxisPosX+a*valueHop,xAxisPosY),ctx.stroke();ctx.setLineDash([]),ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.scaleLineWidth),ctx.strokeStyle=config.scaleLineColor,ctx.setLineDash(lineStyleFn(config.scaleLineStyle)),ctx.beginPath(),ctx.moveTo(yAxisPosX,xAxisPosY+Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)),ctx.lineTo(yAxisPosX,xAxisPosY-msr.availableHeight-Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)),ctx.stroke(),ctx.setLineDash([]),ctx.setLineDash(lineStyleFn(config.scaleGridLineStyle));for(var b=0;b<calculatedScale.steps;b++)ctx.beginPath(),ctx.moveTo(yAxisPosX-Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft),xAxisPosY-(b+1)*scaleHop),ctx.lineWidth=Math.ceil(ctx.chartLineScale*config.scaleGridLineWidth),ctx.strokeStyle=config.scaleGridLineColor,config.scaleShowGridLines&&(b+1)%config.scaleYGridLinesStep==0?ctx.lineTo(yAxisPosX+msr.availableWidth+Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight),xAxisPosY-(b+1)*scaleHop):ctx.lineTo(yAxisPosX,xAxisPosY-(b+1)*scaleHop),ctx.stroke();ctx.setLineDash([])}function drawLabels(){if(ctx.font=config.scaleFontStyle+" "+Math.ceil(ctx.chartTextScale*config.scaleFontSize).toString()+"px "+config.scaleFontFamily,(config.xAxisTop||config.xAxisBottom)&&(ctx.textBaseline="top",msr.rotateLabels>90?(ctx.save(),ctx.textAlign="left"):msr.rotateLabels>0?(ctx.save(),ctx.textAlign="right"):ctx.textAlign="center",ctx.fillStyle=config.scaleFontColor,config.xAxisBottom))for(var a=0;a<data.labels.length;a++)showLabels(ctx,data,config,a)&&(ctx.save(),msr.rotateLabels>0?(ctx.translate(yAxisPosX+a*valueHop+valueHop/2-msr.highestXLabel/2,msr.xLabelPos),ctx.rotate(-(msr.rotateLabels*(Math.PI/180))),ctx.fillTextMultiLine(fmtChartJS(config,data.labels[a],config.fmtXLabel),0,0,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0,config.detectMouseOnText,ctx,"XAXIS_TEXTMOUSE",-(msr.rotateLabels*(Math.PI/180)),yAxisPosX+a*valueHop+valueHop/2-msr.highestXLabel/2,msr.xLabelPos,a,-1)):ctx.fillTextMultiLine(fmtChartJS(config,data.labels[a],config.fmtXLabel),yAxisPosX+a*valueHop+valueHop/2,msr.xLabelPos,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0,config.detectMouseOnText,ctx,"XAXIS_TEXTMOUSE",0,0,0,a,-1),ctx.restore());ctx.textAlign="right",ctx.textBaseline="middle";for(var b=config.showYAxisMin?-1:0;b<calculatedScale.steps;b++)config.scaleShowLabels&&showYLabels(ctx,data,config,b+1,calculatedScale.labels[b+1])&&(config.yAxisLeft&&(ctx.textAlign="right",ctx.fillTextMultiLine(calculatedScale.labels[b+1],yAxisPosX-(Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft)+Math.ceil(ctx.chartSpaceScale*config.yAxisSpaceRight)),xAxisPosY-(b+1)*scaleHop,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0,config.detectMouseOnText,ctx,"YLEFTAXIS_TEXTMOUSE",0,0,0,-1,b)),config.yAxisRight&&!valueBounds.dbAxis&&(ctx.textAlign="left",ctx.fillTextMultiLine(calculatedScale.labels[b+1],yAxisPosX+msr.availableWidth+(Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight)+Math.ceil(ctx.chartSpaceScale*config.yAxisSpaceRight)),xAxisPosY-(b+1)*scaleHop,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0,config.detectMouseOnText,ctx,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,b)));if(config.yAxisRight&&valueBounds.dbAxis)for(b=config.showYAxisMin?-1:0;b<calculatedScale2.steps;b++)config.scaleShowLabels&&(ctx.textAlign="left",ctx.fillTextMultiLine(calculatedScale2.labels[b+1],yAxisPosX+msr.availableWidth+(Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight)+Math.ceil(ctx.chartSpaceScale*config.yAxisSpaceRight)),xAxisPosY-(b+1)*scaleHop2,ctx.textBaseline,Math.ceil(ctx.chartTextScale*config.scaleFontSize),!0,config.detectMouseOnText,ctx,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,b))}function getValueBounds(){for(var upperValue=-Number.MAX_VALUE,lowerValue=Number.MAX_VALUE,upperValue2=-Number.MAX_VALUE,lowerValue2=Number.MAX_VALUE,secondAxis=!1,firstAxis=!1,mathValueHeight,i=0;i<data.datasets.length;i++){var mathFctName=data.datasets[i].drawMathDeviation,mathValueHeight=0;if("function"==typeof eval(mathFctName)){var parameter={data:data,datasetNr:i};mathValueHeightVal=window[mathFctName](parameter)}else mathValueHeightVal=0;for(var j=0;j<data.datasets[i].data.length;j++)mathValueHeight="object"==typeof mathValueHeightVal?mathValueHeightVal[Math.min(mathValueHeightVal.length,j)]:mathValueHeightVal,"undefined"!=typeof data.datasets[i].data[j]&&(2==data.datasets[i].axis?(secondAxis=!0,1*data.datasets[i].data[j]+mathValueHeight>upperValue2&&(upperValue2=1*data.datasets[i].data[j]+mathValueHeight),1*data.datasets[i].data[j]-mathValueHeight<lowerValue2&&(lowerValue2=1*data.datasets[i].data[j]-mathValueHeight)):(firstAxis=!0,1*data.datasets[i].data[j]+mathValueHeight>upperValue&&(upperValue=1*data.datasets[i].data[j]+mathValueHeight),1*data.datasets[i].data[j]-mathValueHeight<lowerValue&&(lowerValue=1*data.datasets[i].data[j]-mathValueHeight)))}lowerValue>upperValue&&(upperValue=0,lowerValue=0),Math.abs(upperValue-lowerValue)<config.zeroValue&&(Math.abs(upperValue)<config.zeroValue&&(upperValue=.9),upperValue>0?(upperValue=1.1*upperValue,lowerValue=.9*lowerValue):(upperValue=.9*upperValue,lowerValue=1.1*lowerValue)),"function"==typeof config.graphMin?lowerValue=setOptionValue(1,"GRAPHMIN",ctx,data,statData,void 0,config.graphMin,-1,-1,{nullValue:!0}):isNaN(config.graphMin)||(lowerValue=config.graphMin),"function"==typeof config.graphMax?upperValue=setOptionValue(1,"GRAPHMAX",ctx,data,statData,void 0,config.graphMax,-1,-1,{nullValue:!0}):isNaN(config.graphMax)||(upperValue=config.graphMax),secondAxis&&(lowerValue2>upperValue2&&(upperValue2=0,lowerValue2=0),Math.abs(upperValue2-lowerValue2)<config.zeroValue&&(Math.abs(upperValue2)<config.zeroValue&&(upperValue2=.9),upperValue2>0?(upperValue2=1.1*upperValue2,lowerValue2=.9*lowerValue2):(upperValue2=.9*upperValue2,lowerValue2=1.1*lowerValue2)),"function"==typeof config.graphMin2?lowerValue2=setOptionValue(1,"GRAPHMIN",ctx,data,statData,void 0,config.graphMin2,-1,-1,{nullValue:!0}):isNaN(config.graphMin2)||(lowerValue2=config.graphMin2),"function"==typeof config.graphMax2?upperValue2=setOptionValue(1,"GRAPHMAX",ctx,data,statData,void 0,config.graphMax2,-1,-1,{nullValue:!0}):isNaN(config.graphMax2)||(upperValue2=config.graphMax2)),!firstAxis&&secondAxis&&(upperValue=upperValue2,lowerValue=lowerValue2),labelHeight=Math.ceil(ctx.chartTextScale*config.scaleFontSize),scaleHeight=msr.availableHeight;var maxSteps=Math.floor(scaleHeight/(.66*labelHeight)),minSteps=Math.floor(scaleHeight/labelHeight*.5);return lowerValue>upperValue&&(lowerValue=upperValue-1),lowerValue2>upperValue2&&(lowerValue2=upperValue2-1),{maxValue:upperValue,minValue:lowerValue,maxValue2:upperValue2,minValue2:lowerValue2,dbAxis:secondAxis,maxSteps:maxSteps,minSteps:minSteps}}var maxSize,scaleHop,scaleHop2,calculatedScale,calculatedScale2,labelHeight,scaleHeight,valueBounds,labelTemplateString,labelTemplateString2,valueHop,widestXLabel,xAxisLength,yAxisPosX,xAxisPosY,barWidth,rotateLabels=0,msr;if(ctx.tpchart="Bar",ctx.tpdata=0,init_and_start(ctx,data,config)){for(var statData=initPassVariableData_part1(data,config,ctx),nrOfBars=data.datasets.length,i=0;i<data.datasets.length;i++)"Line"==data.datasets[i].type?(statData[i][0].tpchart="Line",nrOfBars--):statData[i][0].tpchart="Bar";var bufferDataset,l=0;if(msr=setMeasures(data,config,ctx,ctx.canvas.height,ctx.canvas.width,"nihil",[""],!0,!1,!0,!0,!0,"Bar"),valueBounds=getValueBounds(),valueBounds.minValue<=0&&(config.logarithmic=!1),valueBounds.maxSteps>0&&valueBounds.minSteps>0){config.logarithmic!==!1&&valueBounds.minValue<=0&&(config.logarithmic=!1),config.logarithmic2!==!1&&valueBounds.minValue2<=0&&(config.logarithmic2=!1);var OrderOfMagnitude=calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.maxValue)+1))-calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.minValue)));("fuzzy"==config.logarithmic&&4>OrderOfMagnitude||config.scaleOverride)&&(config.logarithmic=!1);var OrderOfMagnitude2=calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.maxValue2)+1))-calculateOrderOfMagnitude(Math.pow(10,calculateOrderOfMagnitude(valueBounds.minValue2)));if(("fuzzy"==config.logarithmic2&&4>OrderOfMagnitude2||config.scaleOverride2)&&(config.logarithmic2=!1),labelTemplateString=config.scaleShowLabels?config.scaleLabel:"",labelTemplateString2=config.scaleShowLabels2?config.scaleLabel2:"",config.scaleOverride){var scaleStartValue=setOptionValue(1,"SCALESTARTVALUE",ctx,data,statData,void 0,config.scaleStartValue,-1,-1,{nullValue:!0}),scaleSteps=setOptionValue(1,"SCALESTEPS",ctx,data,statData,void 0,config.scaleSteps,-1,-1,{nullValue:!0}),scaleStepWidth=setOptionValue(1,"SCALESTEPWIDTH",ctx,data,statData,void 0,config.scaleStepWidth,-1,-1,{nullValue:!0});calculatedScale={steps:scaleSteps,stepValue:scaleStepWidth,graphMin:scaleStartValue,graphMax:scaleStartValue+scaleSteps*scaleStepWidth,labels:[]},populateLabels(1,config,labelTemplateString,calculatedScale.labels,calculatedScale.steps,scaleStartValue,calculatedScale.graphMax,scaleStepWidth)}else calculatedScale=calculateScale(1,config,valueBounds.maxSteps,valueBounds.minSteps,valueBounds.maxValue,valueBounds.minValue,labelTemplateString);if(valueBounds.dbAxis)if(config.scaleOverride2){var scaleStartValue2=setOptionValue(1,"SCALESTARTVALUE2",ctx,data,statData,void 0,config.scaleStartValue2,-1,-1,{nullValue:!0}),scaleSteps2=setOptionValue(1,"SCALESTEPS2",ctx,data,statData,void 0,config.scaleSteps2,-1,-1,{nullValue:!0}),scaleStepWidth2=setOptionValue(1,"SCALESTEPWIDTH2",ctx,data,statData,void 0,config.scaleStepWidth2,-1,-1,{nullValue:!0});calculatedScale2={steps:scaleSteps2,stepValue:scaleStepWidth2,graphMin:scaleStartValue2,graphMax:scaleStartValue2+scaleSteps2*scaleStepWidth2,labels:[]},populateLabels(2,config,labelTemplateString2,calculatedScale2.labels,calculatedScale2.steps,scaleStartValue2,calculatedScale2.graphMax,scaleStepWidth2)}else calculatedScale2=calculateScale(2,config,valueBounds.maxSteps,valueBounds.minSteps,valueBounds.maxValue2,valueBounds.minValue2,labelTemplateString2);else calculatedScale2={steps:0,stepValue:0,graphMin:0,graphMax:0,labels:null};msr=setMeasures(data,config,ctx,ctx.canvas.height,ctx.canvas.width,calculatedScale.labels,calculatedScale2.labels,!0,!1,!0,!0,!0,"Bar");var prevHeight=msr.availableHeight;msr.availableHeight=msr.availableHeight-Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)-Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop),msr.availableWidth=msr.availableWidth-Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft)-Math.ceil(ctx.chartLineScale*config.scaleTickSizeRight),scaleHop=Math.floor(msr.availableHeight/calculatedScale.steps),scaleHop2=Math.floor(msr.availableHeight/calculatedScale2.steps),valueHop=Math.floor(msr.availableWidth/data.labels.length),(0==valueHop||config.fullWidthGraph)&&(valueHop=msr.availableWidth/data.labels.length),msr.clrwidth=msr.clrwidth-(msr.availableWidth-data.labels.length*valueHop),msr.availableWidth=data.labels.length*valueHop,msr.availableHeight=calculatedScale.steps*scaleHop,msr.xLabelPos+=Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)+Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)-(prevHeight-msr.availableHeight),msr.clrheight+=Math.ceil(ctx.chartLineScale*config.scaleTickSizeBottom)+Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop)-(prevHeight-msr.availableHeight),yAxisPosX=msr.leftNotUsableSize+Math.ceil(ctx.chartLineScale*config.scaleTickSizeLeft),xAxisPosY=msr.topNotUsableSize+msr.availableHeight+Math.ceil(ctx.chartLineScale*config.scaleTickSizeTop),barWidth=(valueHop-2*Math.ceil(ctx.chartLineScale*config.scaleGridLineWidth)-2*Math.ceil(ctx.chartSpaceScale*config.barValueSpacing)-(Math.ceil(ctx.chartSpaceScale*config.barDatasetSpacing)*nrOfBars-1)-(Math.ceil(ctx.chartLineScale*config.barStrokeWidth)/2*nrOfBars-1))/nrOfBars,barWidth>=0&&1>=barWidth&&(barWidth=1),0>barWidth&&barWidth>=-1&&(barWidth=-1);var additionalSpaceBetweenBars;1*config.maxBarWidth>0&&barWidth>1*config.maxBarWidth?(additionalSpaceBetweenBars=nrOfBars*(barWidth-1*config.maxBarWidth)/2,barWidth=1*config.maxBarWidth):additionalSpaceBetweenBars=0;var zeroY2=0,zeroY=calculateOffset(config.logarithmic,0,calculatedScale,scaleHop);"object"==typeof calculatedScale2&&(zeroY2=calculateOffset(config.logarithmic2,0,calculatedScale2,scaleHop2)),initPassVariableData_part2(statData,data,config,ctx,{msr:msr,yAxisPosX:yAxisPosX,xAxisPosY:xAxisPosY,valueHop:valueHop,nbValueHop:data.labels.length-1,barWidth:barWidth,additionalSpaceBetweenBars:additionalSpaceBetweenBars,zeroY:zeroY,zeroY2:zeroY2,calculatedScale:calculatedScale,calculatedScale2:calculatedScale2,scaleHop:scaleHop,scaleHop2:scaleHop2}),drawLabels(),animationLoop(config,drawScale,drawBars,ctx,msr.clrx,msr.clry,msr.clrwidth,msr.clrheight,yAxisPosX+msr.availableWidth/2,xAxisPosY-msr.availableHeight/2,yAxisPosX,xAxisPosY,data,statData)}else testRedraw(ctx,data,config),ctx.firstPass=9;return{data:data,config:config,ctx:ctx}}},HorizontalBar=function(a,b,c){function d(d){for(var f=0;f<a.datasets.length;f++)for(var g=0;g<a.datasets[f].data.length;g++){c.lineWidth=Math.ceil(c.chartLineScale*b.barStrokeWidth);var h=animationCorrection(d,a,b,f,g,!1).animVal;h>1&&(h-=1);var i=h*t[f][g].barWidth+Math.ceil(c.chartLineScale*b.barStrokeWidth)/2;c.fillStyle=setOptionValue(1,"COLOR",c,a,t,a.datasets[f].fillColor,b.defaultFillColor,f,g,{animationValue:h,xPosLeft:t[f][g].xPosLeft,yPosBottom:t[f][g].yPosBottom,xPosRight:t[f][g].xPosLeft+i,yPosTop:t[f][g].yPosBottom}),c.strokeStyle=setOptionValue(1,"STROKECOLOR",c,a,t,a.datasets[f].strokeColor,b.defaultStrokeColor,f,g,{nullvalue:null}),"undefined"!=typeof a.datasets[f].data[g]&&e(c,t[f][g].yPosTop,t[f][g].xPosLeft,r,i,b.barShowStroke,b.barBorderRadius,0,f,g,a.datasets[f].data[g]<0?-1:1)}if(d>=b.animationStopValue)for(f=0;f<a.datasets.length;f++)for(g=0;g<a.datasets[f].data.length;g++)if("undefined"!=typeof a.datasets[f].data[g]&&(jsGraphAnnotate[c.ChartNewId][jsGraphAnnotate[c.ChartNewId].length]=["RECT",f,g,t,setOptionValue(1,"ANNOTATEDISPLAY",c,a,t,a.datasets[f].annotateDisplay,b.annotateDisplay,f,g,{nullValue:!0})],setOptionValue(1,"INGRAPHDATASHOW",c,a,t,a.datasets[f].inGraphDataShow,b.inGraphDataShow,f,g,{nullValue:!0}))){c.save(),c.textAlign=setOptionValue(1,"INGRAPHDATAALIGN",c,a,t,void 0,b.inGraphDataAlign,f,g,{nullValue:!0}),c.textBaseline=setOptionValue(1,"INGRAPHDATAVALIGN",c,a,t,void 0,b.inGraphDataVAlign,f,g,{nullValue:!0}),c.font=setOptionValue(1,"INGRAPHDATAFONTSTYLE",c,a,t,void 0,b.inGraphDataFontStyle,f,g,{nullValue:!0})+" "+setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,t,void 0,b.inGraphDataFontSize,f,g,{nullValue:!0})+"px "+setOptionValue(1,"INGRAPHDATAFONTFAMILY",c,a,t,void 0,b.inGraphDataFontFamily,f,g,{nullValue:!0}),c.fillStyle=setOptionValue(1,"INGRAPHDATAFONTCOLOR",c,a,t,void 0,b.inGraphDataFontColor,f,g,{nullValue:!0}),c.beginPath();var j=0,k=0;1==setOptionValue(1,"INGRAPHDATAYPOSITION",c,a,t,void 0,b.inGraphDataYPosition,f,g,{nullValue:!0})?j=t[f][g].yPosTop-setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGY",c,a,t,void 0,b.inGraphDataPaddingY,f,g,{nullValue:!0})+r:2==setOptionValue(1,"INGRAPHDATAYPOSITION",c,a,t,void 0,b.inGraphDataYPosition,f,g,{nullValue:!0})?j=t[f][g].yPosTop+r/2-setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGY",c,a,t,void 0,b.inGraphDataPaddingY,f,g,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAYPOSITION",c,a,t,void 0,b.inGraphDataYPosition,f,g,{nullValue:!0})&&(j=t[f][g].yPosTop-setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGY",c,a,t,void 0,b.inGraphDataPaddingY,f,g,{nullValue:!0})),1==setOptionValue(1,"INGRAPHDATAXPOSITION",c,a,t,void 0,b.inGraphDataXPosition,f,g,{nullValue:!0})?k=t[f][g].xPosLeft+setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGX",c,a,t,void 0,b.inGraphDataPaddingX,f,g,{nullValue:!0}):2==setOptionValue(1,"INGRAPHDATAXPOSITION",c,a,t,void 0,b.inGraphDataXPosition,f,g,{nullValue:!0})?k=(t[f][g].xPosLeft+t[f][g].xPosRight)/2+setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGX",c,a,t,void 0,b.inGraphDataPaddingX,f,g,{nullValue:!0}):3==setOptionValue(1,"INGRAPHDATAXPOSITION",c,a,t,void 0,b.inGraphDataXPosition,f,g,{nullValue:!0})&&(k=t[f][g].xPosRight+setOptionValue(c.chartSpaceScale,"INGRAPHDATAPADDINGX",c,a,t,void 0,b.inGraphDataPaddingX,f,g,{nullValue:!0})),c.translate(k,j);var l=tmplbis(setOptionValue(1,"INGRAPHDATATMPL",c,a,t,void 0,b.inGraphDataTmpl,f,g,{nullValue:!0}),t[f][g],b),m=setOptionValue(1,"INGRAPHDATAROTATE",c,a,t,void 0,b.inGraphDataRotate,f,g,{nullValue:!0})*(Math.PI/180);c.rotate(m),setTextBordersAndBackground(c,l,setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,t,void 0,b.inGraphDataFontSize,f,g,{nullValue:!0}),0,0,setOptionValue(1,"INGRAPHDATABORDERS",c,a,t,void 0,b.inGraphDataBorders,f,g,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSCOLOR",c,a,t,void 0,b.inGraphDataBordersColor,f,g,{nullValue:!0}),setOptionValue(c.chartLineScale,"INGRAPHDATABORDERSWIDTH",c,a,t,void 0,b.inGraphDataBordersWidth,f,g,{nullValue:!0}),setOptionValue(c.chartSpaceScale,"INGRAPHDATABORDERSXSPACE",c,a,t,void 0,b.inGraphDataBordersXSpace,f,g,{nullValue:!0}),setOptionValue(c.chartSpaceScale,"INGRAPHDATABORDERSYSPACE",c,a,t,void 0,b.inGraphDataBordersYSpace,f,g,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABORDERSSTYLE",c,a,t,void 0,b.inGraphDataBordersStyle,f,g,{nullValue:!0}),setOptionValue(1,"INGRAPHDATABACKGROUNDCOLOR",c,a,t,void 0,b.inGraphDataBackgroundColor,f,g,{nullValue:!0}),"INGRAPHDATA"),c.fillTextMultiLine(l,0,0,c.textBaseline,setOptionValue(c.chartTextScale,"INGRAPHDATAFONTSIZE",c,a,t,void 0,b.inGraphDataFontSize,f,g,{nullValue:!0}),!0,b.detectMouseOnText,c,"INGRAPHDATA_TEXTMOUSE",m,k,j,f,g),c.restore()}s.legendMsr.dispLegend&&drawLegend(s.legendMsr,a,b,c,"HorizontalBar")}function e(c,d,e,f,g,h,i,j,k,l,m){c.beginPath(),c.moveTo(e+j,d+i),c.lineTo(e+j,d+f-i),c.quadraticCurveTo(e+j,d+f,e+j,d+f),c.lineTo(e+g-m*i,d+f),c.quadraticCurveTo(e+g,d+f,e+g,d+f-i),c.lineTo(e+g,d+i),c.quadraticCurveTo(e+g,d,e+g-m*i,d),c.lineTo(e+j,d),c.quadraticCurveTo(e+j,d,e+j,d+i),h&&(c.setLineDash(lineStyleFn(setOptionValue(1,"STROKESTYLE",c,a,t,a.datasets[k].datasetStrokeStyle,b.datasetStrokeStyle,k,l,{nullvalue:null}))),c.stroke(),c.setLineDash([])),c.closePath(),c.fill()}function f(){c.lineWidth=Math.ceil(c.chartLineScale*b.scaleLineWidth),c.strokeStyle=b.scaleLineColor,c.setLineDash(lineStyleFn(b.scaleLineStyle)),c.beginPath(),c.moveTo(p-Math.ceil(c.chartLineScale*b.scaleTickSizeLeft),q),c.lineTo(p+s.availableWidth+Math.ceil(c.chartLineScale*b.scaleTickSizeRight),q),c.stroke(),c.setLineDash([]),c.setLineDash(lineStyleFn(b.scaleGridLineStyle));for(var d=b.showYAxisMin?-1:0;d<j.steps;d++)d>=0&&(c.beginPath(),c.moveTo(p+d*o,q+Math.ceil(c.chartLineScale*b.scaleTickSizeBottom)),c.lineWidth=Math.ceil(c.chartLineScale*b.scaleGridLineWidth),c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&d>0&&d%b.scaleXGridLinesStep==0?c.lineTo(p+d*o,q-s.availableHeight-Math.ceil(c.chartLineScale*b.scaleTickSizeTop)):c.lineTo(p+d*o,q),c.stroke());c.setLineDash([]),c.lineWidth=Math.ceil(c.chartLineScale*b.scaleLineWidth),c.strokeStyle=b.scaleLineColor,c.setLineDash(lineStyleFn(b.scaleLineStyle)),c.beginPath(),c.moveTo(p,q+Math.ceil(c.chartLineScale*b.scaleTickSizeBottom)),c.lineTo(p,q-s.availableHeight-Math.ceil(c.chartLineScale*b.scaleTickSizeTop)),c.stroke(),c.setLineDash([]),c.setLineDash(lineStyleFn(b.scaleGridLineStyle));for(var e=0;e<a.labels.length;e++)c.beginPath(),c.moveTo(p-Math.ceil(c.chartLineScale*b.scaleTickSizeLeft),q-(e+1)*i),c.lineWidth=Math.ceil(c.chartLineScale*b.scaleGridLineWidth),c.strokeStyle=b.scaleGridLineColor,b.scaleShowGridLines&&(e+1)%b.scaleYGridLinesStep==0?c.lineTo(p+s.availableWidth+Math.ceil(c.chartLineScale*b.scaleTickSizeRight),q-(e+1)*i):c.lineTo(p,q-(e+1)*i),c.stroke();c.setLineDash([])}function g(){if(c.font=b.scaleFontStyle+" "+Math.ceil(c.chartTextScale*b.scaleFontSize).toString()+"px "+b.scaleFontFamily,b.scaleShowLabels&&(b.xAxisTop||b.xAxisBottom)&&(c.textBaseline="top",s.rotateLabels>90?(c.save(),c.textAlign="left"):s.rotateLabels>0?(c.save(),c.textAlign="right"):c.textAlign="center",c.fillStyle=b.scaleFontColor,b.xAxisBottom))for(var d=b.showYAxisMin?-1:0;d<j.steps;d++)showYLabels(c,a,b,d+1,j.labels[d+1])&&(c.save(),s.rotateLabels>0?(c.translate(p+(d+1)*o-s.highestXLabel/2,s.xLabelPos),c.rotate(-(s.rotateLabels*(Math.PI/180))),c.fillTextMultiLine(j.labels[d+1],0,0,c.textBaseline,Math.ceil(c.chartTextScale*b.scaleFontSize),!0,b.detectMouseOnText,c,"XAXIS_TEXTMOUSE",-(s.rotateLabels*(Math.PI/180)),p+(d+1)*o-s.highestXLabel/2,s.xLabelPos,d,-1)):c.fillTextMultiLine(j.labels[d+1],p+(d+1)*o,s.xLabelPos,c.textBaseline,Math.ceil(c.chartTextScale*b.scaleFontSize),!0,b.detectMouseOnText,c,"XAXIS_TEXTMOUSE",0,0,0,d,-1),c.restore());c.textAlign="right",c.textBaseline="middle";for(var e=0;e<a.labels.length;e++)showLabels(c,a,b,e)&&(b.yAxisLeft&&(c.textAlign="right",c.fillTextMultiLine(fmtChartJS(b,a.labels[e],b.fmtXLabel),p-(Math.ceil(c.chartLineScale*b.scaleTickSizeLeft)+Math.ceil(c.chartSpaceScale*b.yAxisSpaceRight)),q-e*i-i/2,c.textBaseline,Math.ceil(c.chartTextScale*b.scaleFontSize),!0,b.detectMouseOnText,c,"YLEFTAXIS_TEXTMOUSE",0,0,0,-1,e)),b.yAxisRight&&(c.textAlign="left",c.fillTextMultiLine(fmtChartJS(b,a.labels[e],b.fmtXLabel),p+s.availableWidth+(Math.ceil(c.chartLineScale*b.scaleTickSizeRight)+Math.ceil(c.chartSpaceScale*b.yAxisSpaceRight)),q-e*i-i/2,c.textBaseline,Math.ceil(c.chartTextScale*b.scaleFontSize),!0,b.detectMouseOnText,c,"YRIGHTAXIS_TEXTMOUSE",0,0,0,-1,e)))}function h(){for(var d=-Number.MAX_VALUE,e=Number.MAX_VALUE,f=0;f<a.datasets.length;f++)for(var g=0;g<a.datasets[f].data.length;g++)"undefined"!=typeof a.datasets[f].data[g]&&(1*a.datasets[f].data[g]>d&&(d=1*a.datasets[f].data[g]),1*a.datasets[f].data[g]<e&&(e=1*a.datasets[f].data[g]));e>d&&(d=0,e=0),Math.abs(d-e)<b.zeroValue&&(Math.abs(d)<b.zeroValue&&(d=.9),d>0?(d=1.1*d,e=.9*e):(d=.9*d,e=1.1*e)),"function"==typeof b.graphMin?e=setOptionValue(1,"GRAPHMIN",c,a,t,void 0,b.graphMin,-1,-1,{nullValue:!0}):isNaN(b.graphMin)||(e=b.graphMin),"function"==typeof b.graphMax?d=setOptionValue(1,"GRAPHMAX",c,a,t,void 0,b.graphMax,-1,-1,{nullValue:!0}):isNaN(b.graphMax)||(d=b.graphMax),k=Math.ceil(c.chartTextScale*b.scaleFontSize),l=s.availableHeight;var h=Math.floor(l/(.66*k)),i=Math.floor(l/k*.5);return e>d&&(e=d-1),{maxValue:d,minValue:e,maxSteps:h,minSteps:i}}var i,j,k,l,m,n,o,p,q,r,s;if(c.tpchart="HorizontalBar",c.tpdata=0,init_and_start(c,a,b)){b.reverseOrder&&"undefined"==typeof c.reversed&&(c.reversed=!0,a=reverseData(a));var t=initPassVariableData_part1(a,b,c);if(s=setMeasures(a,b,c,c.canvas.height,c.canvas.width,"nihil",[""],!0,!0,!0,!0,!0,"StackedBar"),m=h(),m.minValue<=0&&(b.logarithmic=!1),m.maxSteps>0&&m.minSteps>0){if(b.logarithmic!==!1&&m.minValue<=0&&(b.logarithmic=!1),n=b.scaleShowLabels?b.scaleLabel:"",b.scaleOverride){var u=setOptionValue(1,"SCALESTARTVALUE",c,a,t,void 0,b.scaleStartValue,-1,-1,{nullValue:!0}),v=setOptionValue(1,"SCALESTEPS",c,a,t,void 0,b.scaleSteps,-1,-1,{nullValue:!0}),w=setOptionValue(1,"SCALESTEPWIDTH",c,a,t,void 0,b.scaleStepWidth,-1,-1,{nullValue:!0});j={steps:v,stepValue:w,graphMin:u,graphMax:u+v*w,labels:[]},populateLabels(1,b,n,j.labels,j.steps,u,j.graphMax,w),s=setMeasures(a,b,c,c.canvas.height,c.canvas.width,j.labels,null,!0,!0,!0,!0,!0,"HorizontalBar")}else j=calculateScale(1,b,m.maxSteps,m.minSteps,m.maxValue,m.minValue,n),s=setMeasures(a,b,c,c.canvas.height,c.canvas.width,j.labels,null,!0,!0,!0,!0,!0,"HorizontalBar");s.availableHeight=s.availableHeight-Math.ceil(c.chartLineScale*b.scaleTickSizeBottom)-Math.ceil(c.chartLineScale*b.scaleTickSizeTop),s.availableWidth=s.availableWidth-Math.ceil(c.chartLineScale*b.scaleTickSizeLeft)-Math.ceil(c.chartLineScale*b.scaleTickSizeRight),i=Math.floor(s.availableHeight/a.labels.length),o=Math.floor(s.availableWidth/j.steps),(0==o||b.fullWidthGraph)&&(o=s.availableWidth/j.steps),s.clrwidth=s.clrwidth-(s.availableWidth-j.steps*o),s.availableWidth=j.steps*o,s.availableHeight=a.labels.length*i,p=s.leftNotUsableSize+Math.ceil(c.chartLineScale*b.scaleTickSizeLeft),q=s.topNotUsableSize+s.availableHeight+Math.ceil(c.chartLineScale*b.scaleTickSizeTop),r=(i-2*Math.ceil(c.chartLineScale*b.scaleGridLineWidth)-2*Math.ceil(c.chartSpaceScale*b.barValueSpacing)-(Math.ceil(c.chartSpaceScale*b.barDatasetSpacing)*a.datasets.length-1)-(Math.ceil(c.chartLineScale*b.barStrokeWidth)/2*a.datasets.length-1))/a.datasets.length,r>=0&&1>=r&&(r=1),0>r&&r>=-1&&(r=-1);var x;1*b.maxBarWidth>0&&r>1*b.maxBarWidth?(x=a.datasets.length*(r-1*b.maxBarWidth)/2,r=1*b.maxBarWidth):x=0;var y=0;y=calculateOffset(b.logarithmic,0,j,o),g(),initPassVariableData_part2(t,a,b,c,{yAxisPosX:p,xAxisPosY:q,barWidth:r,additionalSpaceBetweenBars:x,zeroY:y,scaleHop:i,valueHop:o,calculatedScale:j}),animationLoop(b,f,d,c,s.clrx,s.clry,s.clrwidth,s.clrheight,p+s.availableWidth/2,q-s.availableHeight/2,p,q,a,t);
}else testRedraw(c,a,b),c.firstPass=9;return{data:a,config:b,ctx:c}}},requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),requestAnimFrameSetTimeOut=function(){return function(a){window.setTimeout(a,1e3/60)}}(),cache={}},function(a,b){function c(b,c,d,e){var f,g=b.text().split(c),h="";g.length&&(a(g).each(function(a,b){f=""," "===b&&(f=" empty",b="&nbsp;"),h+='<span class="'+d+(a+1)+f+'">'+b+"</span>"+e}),b.empty().append(h))}a.fn.fitText=function(b,c){var d={minFontSize:Number.NEGATIVE_INFINITY,maxFontSize:Number.POSITIVE_INFINITY};return this.each(function(){var e=a(this),f=b||1;c&&a.extend(d,c);var g=function(){e.css("font-size",Math.max(Math.min(e.width()/(10*f),parseFloat(d.maxFontSize)),parseFloat(d.minFontSize)))};g(),a(window).resize(g)})};var d={init:function(){return this.each(function(){c(a(this),"","char","")})},words:function(){return this.each(function(){c(a(this)," ","word"," ")})},lines:function(){return this.each(function(){var b="eefec303079ad17405c889e092e105b0";c(a(this).children("br").replaceWith(b).end(),b,"line","")})}};a.fn.lettering=function(b){return b&&d[b]?d[b].apply(this,[].slice.call(arguments,1)):"letters"!==b&&b?(a.error("Method "+b+" does not exist on jQuery.lettering"),this):d.init.apply(this,[].slice.call(arguments,0))},a.Arctext=function(b,c){this.$el=a(c),this._init(b)},a.Arctext.defaults={radius:0,dir:1,rotate:!0,fitText:!1},a.Arctext.prototype={_init:function(b){this.options=a.extend(!0,{},a.Arctext.defaults,b),this._applyLettering(),this.$el.data("arctext",!0),this._calc(),this._rotateWord(),this._loadEvents()},_applyLettering:function(){this.$el.lettering(),this.options.fitText&&this.$el.fitText(),this.$letters=this.$el.find("span").css("display","inline-block")},_calc:function(){return-1===this.options.radius?!1:(this._calcBase(),void this._calcLetters())},_calcBase:function(){this.dtWord=0;var b=this;this.$letters.each(function(c){var d=a(this),e=d.outerWidth(!0);b.dtWord+=e,d.data("center",b.dtWord-e/2)});var c=this.dtWord/2;this.options.radius<c&&(this.options.radius=c),this.dtArcBase=this.dtWord;var d=2*Math.asin(this.dtArcBase/(2*this.options.radius));this.dtArc=this.options.radius*d},_calcLetters:function(){var b=this,c=0;this.$letters.each(function(d){var e=a(this),f=e.outerWidth(!0)/b.dtWord*b.dtArc,g=f/b.options.radius,h=b.options.radius*Math.cos(g/2),i=Math.acos((b.dtWord/2-c)/b.options.radius),j=i+g/2,k=Math.cos(j)*h,l=Math.sin(j)*h,m=c+Math.abs(b.dtWord/2-k-c),n=0|m-e.data("center"),o=0|b.options.radius-l,p=b.options.rotate?0|-Math.asin(k/b.options.radius)*(180/Math.PI):0;c=2*m-c,e.data({x:n,y:1===b.options.dir?o:-o,a:1===b.options.dir?p:-p})})},_rotateWord:function(b){if(!this.$el.data("arctext"))return!1;var c=this;this.$letters.each(function(d){var e=a(this),f=-1===c.options.radius?"none":"translateX("+e.data("x")+"px) translateY("+e.data("y")+"px) rotate("+e.data("a")+"deg)",g=b?"all "+(b.speed||0)+"ms "+(b.easing||"linear"):"none";e.css({"-webkit-transition":g,"-moz-transition":g,"-o-transition":g,"-ms-transition":g,transition:g}).css({"-webkit-transform":f,"-moz-transform":f,"-o-transform":f,"-ms-transform":f,transform:f})})},_loadEvents:function(){if(this.options.fitText){var b=this;a(window).on("resize.arctext",function(){b._calc(),b._rotateWord()})}},set:function(a){return a.radius||a.dir||"undefined"!==a.rotate?(this.options.radius=a.radius||this.options.radius,this.options.dir=a.dir||this.options.dir,a.rotate!==b&&(this.options.rotate=a.rotate),this._calc(),void this._rotateWord(a.animation)):!1},destroy:function(){this.options.radius=-1,this._rotateWord(),this.$letters.removeData("x y a center"),this.$el.removeData("arctext"),a(window).off(".arctext")}};var e=function(a){this.console&&console.error(a)};a.fn.arctext=function(b){if("string"==typeof b){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=a.data(this,"arctext");return d?a.isFunction(d[b])&&"_"!==b.charAt(0)?void d[b].apply(d,c):void e("no such method '"+b+"' for arctext instance"):void e("cannot call methods on arctext prior to initialization; attempted to call method '"+b+"'")})}else this.each(function(){var c=a.data(this,"arctext");c||a.data(this,"arctext",new a.Arctext(b,this))});return this}}(jQuery);var A={};A.is_mobile=new window.MobileDetect(window.navigator.userAgent),A.event_type="",A.is_mobile.mobile()?A.event_type="touchend":A.event_type="click",$(document).ready(function(){!function(){if((!window.pluso||"function"!=typeof window.pluso.start)&&void 0==window.ifpluso){window.ifpluso=1;var a=document,b=a.createElement("script"),c="getElementsByTagName";b.type="text/javascript",b.charset="UTF-8",b.async=!0,b.src=("https:"==window.location.protocol?"https":"http")+"://share.pluso.ru/pluso-like.js";var d=a[c]("body")[0];d.appendChild(b)}}()}),window.Graph||(window.Graph={}),window.Graph.raw_data=[{id:1,region:"Дагестан",year:2010,total:685,hurt:307,killed:378,killed_police:124,hurt_police_hitman:100,killed_hitman:176,killed_civilian:78,hurt_civilian:207},{id:2,region:"Дагестан",year:2011,total:824,hurt:411,killed:413,killed_police:211,hurt_police_hitman:281,killed_hitman:73,killed_civilian:129,hurt_civilian:130},{id:3,region:"Дагестан",year:2012,total:695,hurt:290,killed:405,killed_police:110,hurt_police_hitman:212,killed_hitman:231,killed_civilian:64,hurt_civilian:78},{id:4,region:"Дагестан",year:2013,total:641,hurt:300,killed:341,killed_police:88,hurt_police_hitman:176,killed_hitman:171,killed_civilian:82,hurt_civilian:124},{id:5,region:"Дагестан",year:2014,total:293,hurt:85,killed:208,killed_police:21,hurt_police_hitman:70,killed_hitman:163,killed_civilian:24,hurt_civilian:15},{id:6,region:"Дагестан",year:2015,total:153,hurt:27,killed:126,killed_police:13,hurt_police_hitman:14,killed_hitman:97,killed_civilian:16,hurt_civilian:13},{id:7,region:"Чечня",year:2010,total:250,hurt:123,killed:127,killed_police:44,hurt_police_hitman:33,killed_hitman:80,killed_civilian:3,hurt_civilian:90},{id:8,region:"Чечня",year:2011,total:201,hurt:106,killed:95,killed_police:21,hurt_police_hitman:97,killed_hitman:62,killed_civilian:12,hurt_civilian:9},{id:9,region:"Чечня",year:2012,total:174,hurt:92,killed:82,killed_police:43,hurt_police_hitman:85,killed_hitman:38,killed_civilian:1,hurt_civilian:7},{id:10,region:"Чечня",year:2013,total:101,hurt:62,killed:39,killed_police:18,hurt_police_hitman:58,killed_hitman:20,killed_civilian:1,hurt_civilian:4},{id:11,region:"Чечня",year:2014,total:117,hurt:65,killed:52,killed_police:26,hurt_police_hitman:65,killed_hitman:24,killed_civilian:2,hurt_civilian:0},{id:12,region:"Чечня",year:2015,total:48,hurt:16,killed:14,killed_police:2,hurt_police_hitman:15,killed_hitman:10,killed_civilian:2,hurt_civilian:1},{id:13,region:"Кабардино-Балкария",year:2010,total:161,hurt:82,killed:79,killed_police:23,hurt_police_hitman:35,killed_hitman:25,killed_civilian:31,hurt_civilian:47},{id:14,region:"Кабардино-Балкария",year:2011,total:173,hurt:44,killed:129,killed_police:31,hurt_police_hitman:32,killed_hitman:80,killed_civilian:18,hurt_civilian:12},{id:15,region:"Кабардино-Балкария",year:2012,total:156,hurt:49,killed:107,killed_police:19,hurt_police_hitman:32,killed_hitman:80,killed_civilian:8,hurt_civilian:17},{id:16,region:"Кабардино-Балкария",year:2013,total:123,hurt:31,killed:92,killed_police:14,hurt_police_hitman:27,killed_hitman:72,killed_civilian:6,hurt_civilian:4},{id:17,region:"Кабардино-Балкария",year:2014,total:66,hurt:17,killed:49,killed_police:4,hurt_police_hitman:16,killed_hitman:44,killed_civilian:1,hurt_civilian:1},{id:18,region:"Кабардино-Балкария",year:2015,total:30,hurt:1,killed:47,killed_police:2,hurt_police_hitman:0,killed_hitman:45,killed_civilian:0,hurt_civilian:1},{id:19,region:"Ингушетия",year:2010,total:326,hurt:192,killed:134,killed_police:31,hurt_police_hitman:133,killed_hitman:63,killed_civilian:40,hurt_civilian:59},{id:20,region:"Ингушетия",year:2011,total:108,hurt:38,killed:70,killed_police:19,hurt_police_hitman:32,killed_hitman:40,killed_civilian:11,hurt_civilian:6},{id:21,region:"Ингушетия",year:2012,total:167,hurt:83,killed:84,killed_police:33,hurt_police_hitman:62,killed_hitman:40,killed_civilian:11,hurt_civilian:21},{id:22,region:"Ингушетия",year:2013,total:94,hurt:58,killed:36,killed_police:6,hurt_police_hitman:45,killed_hitman:23,killed_civilian:7,hurt_civilian:13},{id:23,region:"Ингушетия",year:2014,total:37,hurt:16,killed:21,killed_police:4,hurt_police_hitman:16,killed_hitman:15,killed_civilian:2,hurt_civilian:0},{id:24,region:"Ингушетия",year:2015,total:21,hurt:5,killed:16,killed_police:1,hurt_police_hitman:4,killed_hitman:15,killed_civilian:0,hurt_civilian:1},{id:25,region:"Карачаево-Черкесия",year:2010,total:4,hurt:2,killed:2,killed_police:1,hurt_police_hitman:2,killed_hitman:1,killed_civilian:0,hurt_civilian:0},{id:26,region:"Карачаево-Черкесия",year:2011,total:32,hurt:10,killed:22,killed_police:6,hurt_police_hitman:9,killed_hitman:13,killed_civilian:3,hurt_civilian:1},{id:27,region:"Карачаево-Черкесия",year:2012,total:7,hurt:2,killed:5,killed_police:3,hurt_police_hitman:2,killed_hitman:2,killed_civilian:0,hurt_civilian:0},{id:28,region:"Карачаево-Черкесия",year:2013,total:7,hurt:2,killed:5,killed_police:0,hurt_police_hitman:2,killed_hitman:2,killed_civilian:3,hurt_civilian:0},{id:29,region:"Карачаево-Черкесия",year:2014,total:0,hurt:0,killed:0,killed_police:0,hurt_police_hitman:0,killed_hitman:0,killed_civilian:0,hurt_civilian:0},{id:30,region:"Карачаево-Черкесия",year:2015,total:4,hurt:0,killed:4,killed_police:0,hurt_police_hitman:0,killed_hitman:4,killed_civilian:0,hurt_civilian:0},{id:31,region:"Ставропольский край",year:2010,total:84,hurt:79,killed:5,killed_police:0,hurt_police_hitman:0,killed_hitman:2,killed_civilian:3,hurt_civilian:79},{id:32,region:"Ставропольский край",year:2011,total:23,hurt:6,killed:17,killed_police:2,hurt_police_hitman:6,killed_hitman:15,killed_civilian:0,hurt_civilian:0},{id:33,region:"Ставропольский край",year:2012,total:12,hurt:2,killed:10,killed_police:0,hurt_police_hitman:0,killed_hitman:9,killed_civilian:1,hurt_civilian:2},{id:34,region:"Ставропольский край",year:2013,total:17,hurt:4,killed:13,killed_police:1,hurt_police_hitman:4,killed_hitman:8,killed_civilian:4,hurt_civilian:0},{id:35,region:"Ставропольский край",year:2014,total:11,hurt:1,killed:10,killed_police:0,hurt_police_hitman:1,killed_hitman:3,killed_civilian:7,hurt_civilian:0},{id:36,region:"Ставропольский край",year:2015,total:2,hurt:0,killed:2,killed_police:0,hurt_police_hitman:0,killed_hitman:1,killed_civilian:1,hurt_civilian:0},{id:37,region:"Северная Осетия",year:2010,total:195,hurt:171,killed:24,killed_police:2,hurt_police_hitman:4,killed_hitman:2,killed_civilian:20,hurt_civilian:167},{id:38,region:"Северная Осетия",year:2011,total:14,hurt:10,killed:4,killed_police:0,hurt_police_hitman:5,killed_hitman:1,killed_civilian:3,hurt_civilian:5},{id:39,region:"Северная Осетия",year:2012,total:14,hurt:7,killed:7,killed_police:1,hurt_police_hitman:7,killed_hitman:4,killed_civilian:2,hurt_civilian:0},{id:40,region:"Северная Осетия",year:2013,total:3,hurt:0,killed:3,killed_police:0,hurt_police_hitman:0,killed_hitman:2,killed_civilian:1,hurt_civilian:0},{id:41,region:"Северная Осетия",year:2014,total:1,hurt:0,killed:1,killed_police:0,hurt_police_hitman:0,killed_hitman:0,killed_civilian:1,hurt_civilian:0},{id:42,region:"Северная Осетия",year:2015,total:0,hurt:0,killed:0,killed_police:0,hurt_police_hitman:0,killed_hitman:0,killed_civilian:0,hurt_civilian:0}],window.Graph||(window.Graph={}),window.Graph.locale="ru",window.Graph.locales={ru:{main_title:"Статистика жертв на Северном Кавказе по категориям за 6 лет. Данные &laquo;Кавказского узла&raquo;",dagestan:"Дагестан",chechnya:"Чечня",kabardino_balkariya:"Кабардино-Балкария",ingushetiya:"Ингушетия",karachaevo_cherkesiya:"Карачаево-Черкесия",severnaya_osetiya:"Северная Осетия",stavropolskiy_krai:"Ставропольский край",territory:"Территория",population:"Население",mln:"млн",th:"тыс",boss:"Глава",h_dagestan:"Глава",h_chechnya:"Глава",h_kabardino_balkariya:"Глава",h_ingushetiya:"Глава",h_karachaevo_cherkesiya:"Глава",h_severnaya_osetiya:"Глава",h_stavropolskiy_krai:"Глава",dagestan_boss:"Рамазан Абдулатипов",stavropolskiy_krai_boss:"Владимир Владимиров",chechnya_boss:"Рамзан Кадыров",karachaevo_cherkesiya_boss:"Рашид Темрезов",kabardino_balkariya_boss:"Юрий Коков",ingushetiya_boss:"Юнус-Бек Евкуров",severnaya_osetiya_boss:"Тамерлан Агузаров",wounded:"Раненые",kill:"Убитые",powered:"Силовики",actions:"Боевики",powered_actions:"Силовики и боевики",peace_people:"Мирные жители",other_info:'В разделе <a href="http://www.kavkaz-uzel.ru/rubric/1103" target="_blank">&laquo;Северный Кавказ - статистика жертв&raquo;</a> также представлена <a href="http://www.kavkaz-uzel.ru/articles/277404/" target="_blank">сводная статистика в удобном для сравнения виде за 2010-2015 годы</a>.',note:"Данные о количестве населения в регионах приведены по итогам Всероссийской переписи 2010 года."},en:{main_title:"Infographics. The statistics of the number of victims in the North Caucasian Federal District regions for the period of 6&nbsp;years",dagestan:"Dagestan",chechnya:"Chechnya",kabardino_balkariya:"Kabardino-Balkaria",ingushetiya:"Ingushetia",karachaevo_cherkesiya:"Karachaevo-Cherkesia",severnaya_osetiya:"North Ossetia",stavropolskiy_krai:"Stavropol region",territory:"Territory",population:"Population",mln:"млн",th:"тыс",h_dagestan:"Head of Dagestan",h_chechnya:"Head of Chechnya",h_kabardino_balkariya:"Head of Kabardino-Balkaria",h_ingushetiya:"Head of Ingushetia",h_karachaevo_cherkesiya:"Head of Karachaevo-Cherkesia",h_severnaya_osetiya:"Head of North Ossetia",h_stavropolskiy_krai:"Governor of Stavropol Region",boss:"Boss",dagestan_boss:"Ramazan Abdulatipov",stavropolskiy_krai_boss:"Vladimir Vladimorov",chechnya_boss:"Ramzan Kadyrov",karachaevo_cherkesiya_boss:"Rashid Temrezov",kabardino_balkariya_boss:"Yuri Kokov",ingushetiya_boss:"Yunus-Bek Evkurov",severnaya_osetiya_boss:"Tamerlan Aguzarov",wounded:"Wounded",kill:"Killed",powered:"Law enforcers",actions:"Militants",powered_actions:"Law enforcers and militants",peace_people:"Civilians",other_info:'The rubric <a href="http://eng.kavkaz-uzel.ru/rubric/601" target="_blank">"North Caucasus - statistics of victims"</a> also contains <a href="http://eng.kavkaz-uzel.ru/articles/34546/" target="_blank">a graphic demonstration of the summary statistics for the period from 2010 to 2015</a>.',note:"Estimates of the population at regional level are given on the basis of The Russian Census of 2010."}},window.Graph.regions=[{name:"dagestan"},{name:"chechnya"},{name:"kabardino_balkariya"},{name:"ingushetiya"},{name:"karachaevo_cherkesiya"},{name:"severnaya_osetiya"},{name:"stavropolskiy_krai"}],$(document).ready(function(){"use strict";function a(a,b){var c=b,d=b-1;document.querySelector(a);for($(a).css({height:$(a).width()+"px","margin-left":$(window).width()<1007?($(window).width()-$(a).width())/2+"px":$(window).width()<1184?$(window).width()-$(a).width()-20+"px":($(window).width()-$(a).width())/2-20+"px"}),$(a+"-inner-"+b).css({width:"100%",height:"100%"}),$(window).width()>1007&&$(window).width()<1084?$(".b-infograghics_legends").css({top:$(a).offset().top-25+"px",bottom:"auto"}):$(window).width()>1084?$(".b-infograghics_legends").css({top:$(a).offset().top+"px",bottom:"auto"}):$(".b-infograghics_legends").removeAttr("style");d>=1;)$(a+"-inner-"+d).css({width:$(a).width()/c*d+"px",height:$(a).width()/c*d+"px","z-index":c-d+1}),d--;$(".b-infograghics_figure-line").css({height:$(a).height()/2+"px"}),$(window).width()<640&&!$("body").hasClass("is-embeded")?($("#device_width").text($(window).width()),$("#not_device_width").show(),$("#not_device_width").css({width:$(window).width()+"px"}),$("body").addClass("small-screen")):($("#not_device_width").hide(),$("body").removeClass("small-screen"))}var b=document.getElementById("area_diagram");GraphBuilder();var c=2010,d=2015,e="";for(d;d>=c;d--)e+='<div class="b-infographics_years-item">'+d+"</div>";$(".b-infographics_years").append(e);var f={};try{var g=location.search.substring(1);f=JSON.parse('{"'+decodeURI(g).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}catch(h){f={}}f.l&&Localize(f.l),f.view&&"embed"===f.view&&($("body").addClass("is-embeded"),mainHeight()),a(".b-infograghics_figure",8),$(window).on("load resize",function(){a(".b-infograghics_figure",8)});var i={showTooltips:!1,inGraphDataShow:!0,inGraphDataRadiusPosition:2,inGraphDataFontColor:"#fff",inGraphDataAlign:"center",inGraphDataVAlign:"center",inGraphDataFontSize:24,inGraphDataTmpl:"<%= (v2 == 0 ? '' : v2) %>",animationSteps:20,animationEasing:"linear"},j=[{value:0}],k=document.getElementById("info_chart").getContext("2d");new Chart(k).Pie(j,i);$(".b-infographics_years:not(.e-invert) .b-infographics_years-item").arctext({radius:150}),$(".b-infographics_years.e-invert .b-infographics_years-item").arctext({radius:150,dir:-1}),$(".b-infograghics_count-wounded a").on("click",function(a){a.preventDefault();var c=[{value:$(this).data("count-actions-powered"),color:"#094477"},{value:$(this).data("count-peaces"),color:"#13a8be"}];0===$(this).data("count-actions-powered")&&0===$(this).data("count-peaces")?$(b).addClass("to-center"):$(b).removeClass("to-center"),b.dataset.kill="0",b.dataset.total="0",b.dataset.wounded="1",$("#people_count").text($(this).text()),updateChart(k,c,i,!0,!0)}),$(".b-infograghics_count-kill a").on("click",function(a){a.preventDefault();var c=[{value:$(this).data("count-powered"),color:"#44a848"},{value:$(this).data("count-actions"),color:"#614b4d"},{value:$(this).data("count-peaces"),color:"#13a8be"}];0===$(this).data("count-powered")&&0===$(this).data("count-actions")&&0===$(this).data("count-peaces")?$(b).addClass("to-center"):$(b).removeClass("to-center"),b.dataset.total="0",b.dataset.wounded="0",b.dataset.kill="1",$("#people_count").text($(this).text()),updateChart(k,c,i,!0,!0)}),$(".b-infograghics_figure-btn").on("click",function(a){a.preventDefault();var c=0,d=0;$(this).parent(".b-infograghics_figure-line").find(".b-infograghics_count-wounded a").each(function(){d+=isNaN(parseFloat($(this).text()))?0:parseFloat($(this).text())}),$(this).parent(".b-infograghics_figure-line").find(".b-infograghics_count-kill a").each(function(){c+=isNaN(parseFloat($(this).text()))?0:parseFloat($(this).text())});var e=[{value:d,color:"#e20612"},{value:c,color:"#1d1d1b"}];b.dataset.wounded="0",b.dataset.kill="0",b.dataset.total="1",updateChart(k,e,i,!0,!0)}),$(".b-infograghics_map-info-content").find(".b-content_item").show(),$(".b-infograghics_map-list-item").on("click",function(){$(".b-infograghics_map-list-item").removeClass("current"),$(this).addClass("current"),$("#area_map path").removeAttr("class"),$("#area_map #"+$(this).data("country")+"_path").attr("class","current"),$(".b-infograghics_map-info-content").find(".b-content_item").removeClass("current"),$("#"+$(this).data("country")+"_info").addClass("current")})});